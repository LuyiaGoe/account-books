{"version":3,"sources":["Containers/Calculator/index.jsx","Containers/Calculator/style.module.css","Containers/IndexPage/drawerPage/stream/monthStream/style.module.css","Containers/IndexPage/drawerPage/stream/yearStream/style.module.css","Containers/Head/style.module.css","Containers/IndexPage/drawerPage/setBalance/style.module.css","Containers/IndexPage/style.module.css","globalContext.js","Containers/Head/Head.jsx","redux/constant.js","redux/actions/countData.js","redux/actions/oFS.js","Containers/IndexPage/drawerPage/setBalance/index.jsx","redux/reducers/countData.js","Containers/AddACount/Cascader/Cascader.jsx","Containers/AddACount/Pay/Pay.jsx","redux/actions/saveCount.js","Containers/IndexPage/drawerPage/stream/dayStream/index.jsx","Containers/IndexPage/drawerPage/stream/weekStream/index.jsx","Containers/IndexPage/drawerPage/stream/monthStream/index.jsx","Containers/IndexPage/drawerPage/stream/yearStream/index.jsx","Containers/IndexPage/drawerPage/stream/index.jsx","Containers/IndexPage/IndexPage.jsx","redux/actions/numberFomat.js","redux/actions/rank.js","Containers/List/List.jsx","Containers/AddACount/tag.jsx","Containers/AddACount/AddACount.jsx","Containers/Home/Home.jsx","App.jsx","redux/reducers/oFS.js","redux/reducers/numberFomat.js","redux/reducers/rank.js","redux/reducers/index.js","redux/reducers/saveCount.js","redux/store.js","index.js","Containers/AddACount/Cascader/style.module.css","Containers/AddACount/Pay/style.module.css","Containers/IndexPage/drawerPage/stream/weekStream/style.module.css","Containers/Home/style.module.css","Containers/IndexPage/drawerPage/stream/style.module.css","Containers/IndexPage/drawerPage/stream/dayStream/style.module.css","Containers/List/style.module.css","Containers/AddACount/style.module.css","Containers/AddACount/tagstyle.module.css"],"names":["Number","prototype","numberFormat","c","d","t","n","this","s","isNaN","Math","abs","undefined","i","String","parseInt","toFixed","j","length","substr","replace","slice","index","props","outPut","result","toString","indexOf","pointFlag","state","wrench","display","initialNum","getResult","arrHead","calculator","copyArr","unshift","eval","splice","join","setState","order","section","getValue","e","target","value","innerText","setTimeout","closeCalcu","tail","push","arrPopIsOpe","pop","popEl","a","x","numberArr","className","style","container","onClick","margin","span","flexDirection","justifyContent","type","background","map","item","randomNum","resultBotton","Component","module","exports","createContext","Index","main","SAVECOUNT","EDITCOUNT","SAVEASTEMP","DELETECOUNT","GETCOUNTDATA","OFS","NUMFOR","RANK","getCountData","demand","data","getOFS","countList","DrawerCalculator","balance","JSON","parse","localStorage","getItem","setItem","stringify","Calculator","initState","count","category","date","account","pay","allCount","on_demand","list","keys","Object","reduce","pre","cur","filter","distList","condition","nowMsec","Date","getTime","targetMsec","time","segment","msecNum","segTime","year","getFullYear","month","getMonth","day","getDate","countDate","preState","action","addAFlag","connect","useState","obj","rightCol","useRef","leftCol","useEffect","output","arr","selectedLeft","arrr","selectedRight","change","all","Array","arra","arrb","edit","chara","ref","targetArr","addAnimation","animationDown","animationUp","message","warning","name","current","bordered","row","col","middle","line","line2","switchDown","right","left","switchTop","Panel","payCat","incomeCat","AccountCat","numberCat","initialState","member","tempVisible","calcuVisible","saveCount","saveAsTemp","editCount","Consumer","useContext","globalContext","info","id","remark","receivePayCat","receiveAccountCat","receiveNumberCat","onPanelChange","_d","str","padding","color","fontSize","inputRef","tempInputRef","conserveTemp","conserve","notification","cloneObj","deepClone","isArray","key","tempName","onClose","collapseList","accordion","header","showArrow","Cascader","site_calendar_demo_card","fullscreen","onChange","verification","mainIn","title","head","fontWeight","lineHeight","danger","position","borderBottom","overflow","backgroundColor","cursor","mainOut","width","onKeyDown","keyCode","placeholder","bottonContainer","conserveButoon","conserveAsTempButoon","placement","closable","visible","headerStyle","drawerBody","paddingLeft","paddingTop","whiteSpace","textAlign","marginRight","drawerButoon","DaySteam","queryCountData","timeSeg","start","end","selected","isModalVisible","flash","flag","countId","deleteCount","stopPropagation","parentNode","dataset","handleOk","handleCancel","renderList","keyArr","marginLeft","data-key","split","height","DeleteOutlined","random","innerHTML","onOpen","marginTop","headname","nextProps","nextState","card","destroyOnClose","transform","Pay","onOk","onCancel","countData","splitAsDay","renderDays","queryDay","weekStr","sumCount","sum","income","dayContain","dateWeek","dateSec","weekSec","getDay","detail","headBar","week","PlusCircleOutlined","MinusCircleOutlined","viewBox","version","xmlns","p-id","fill","alignItems","splitAsWeek","renderWeeks","queryWeek","number","renderHead","splitAsMonth","renderMonth","dayStart","dayEnd","compute","collapsHead","headDisplay","visibility","percent","showInfo","size","strokeColor","React","ofs","y","m","queryMonth","console","log","Stream","location","params","progress","bal","monthRevenue","stream","withRouter","numFor","getRank","rank","kap","setData","history","useHistory","msec","day2","setTime","fresh","displayTime","now","last","drawerOut","getStream","go","window","reload","pathname","big","decorationBar","payOut","payCountSum","RightOutlined","icon","betweenText","to","leftSide","textColor","showProgress","getRankList","float","classify","text","recentText","todayArr","recentCount","lamination","todayRevenue","calendarArray","weekRevenue","yearArr","yearRevenue","paddingBottom","sumAsset","assetsCard","stickBlock","cashAsset","virtualAsset","creditAsset","bushCardAsset","aliPayAsset","weChatAsset","path","component","countHead","displayArea","Provider","mainAnimation","TabPane","mainRef","classn","mainMoveOut","mainMoveIn","handleHead","defaultActiveKey","centered","animated","tab","Sider","Content","items","listen","historyLocation","side","defaultSelectedKeys","mode","font","Item","addButoon","content","IndexPage","List","AddACount","App","Home","timeStr","thisMonthDays","thisYear","revenue","calcuAsset","cate","mySort","sort","b","rankSort","amrankSort","combineReducers","allTemp","deleted","payArr","incomeArr","weekArr","monthArr","cashArr","creditArr","bushCardArr","aliPayArr","weChatArr","cashRevenue","creditRevenue","bushCardRevenue","aliPayRevenue","weChatRevenue","clone","cat","createStore","reducer","applyMiddleware","thunk","ReactDOM","render","store","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b4da02e0.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Row, Col } from 'antd';\r\nimport style from './style.module.css'\r\nimport randomNum from 'number-random'\r\n// \r\nNumber.prototype.numberFormat = function (c, d, t) {\r\n  var n = this,\r\n    c = isNaN(c = Math.abs(c)) ? 2 : c,\r\n    d = d == undefined ? \".\" : d,\r\n    t = t == undefined ? \",\" : t,\r\n    s = n < 0 ? \"-\" : \"\",\r\n    i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),\r\n    j = (j = i.length) > 3 ? j % 3 : 0;\r\n  return s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : \"\");\r\n};\r\n\r\nclass index extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.numberArr = [1, 4, 7]\r\n    this.calculator = []\r\n    this.wrench = 0\r\n    // \r\n    this.section = ''\r\n    // \r\n    this.result = this.props.initialNum || 0\r\n    // \r\n    this.order = 0\r\n    // \r\n    this.arrHead = this.calculator[0]\r\n    // \r\n    this.arrPopIsOpe = false\r\n  }\r\n  componentDidUpdate () {\r\n    this.arrHead = this.calculator[0]\r\n    this.arrPopIsOpe = this.calculator[this.calculator.length - 1] === '-' || this.calculator[this.calculator.length - 1] === '+'\r\n  }\r\n  // \r\n  outPut = () => {\r\n    if (this.props.outPut) {\r\n      this.props.outPut(this.result)\r\n    }\r\n    if (this.result.toString().indexOf('.') !== -1) {  // \r\n      this.pointFlag = true  // \r\n    }\r\n  }\r\n  state = {\r\n    // wrench+- +1  = 22\r\n    wrench: 0,\r\n    // \r\n    display: this.props.initialNum,\r\n    // flag\r\n    pointFlag: false\r\n  }\r\n  getResult = () => {\r\n    this.arrHead = this.calculator[0] // \r\n    let copyArr = this.calculator\r\n    if (this.arrHead === '-' || this.arrHead === '+') { // \r\n      copyArr.unshift(0) // 0\r\n    }\r\n    this.result = eval(copyArr.splice(0, copyArr.length).join(''))\r\n    this.setState({ ...this.state, display: this.result })\r\n    this.order = 0\r\n    this.wrench = 0\r\n    this.section = ''        // \r\n    this.outPut()\r\n    this.pointFlag = false\r\n  }\r\n  // \r\n  getValue = (e) => {\r\n    if (e.target.toString() !== '[object HTMLSpanElement]' && e.target.toString() !== '[object HTMLButtonElement]') return\r\n    // value\r\n    let value = e.target.innerText\r\n    // \r\n    switch (value) {\r\n      case 'C':   // \r\n        this.setState({ ...this.state, display: 0 })\r\n        this.calculator = []\r\n        this.pointFlag = false\r\n        this.wrench = 0\r\n        this.section = ''\r\n        this.order = 0\r\n        break;\r\n      case 'OK':   // \r\n        this.result = this.state.display\r\n        this.outPut()\r\n        setTimeout(() => { //bug\r\n          if (this.props.closeCalcu) this.props.closeCalcu()\r\n        }, 0)\r\n        break;\r\n      case '=':   // \r\n        let tail = this.calculator[this.calculator.length - 1]\r\n        if (tail === '-' || tail === '+') { // \r\n          this.calculator.push(0)         // push0\r\n        }\r\n        this.getResult()\r\n        this.calculator = [this.result]\r\n        break;\r\n      case '+':   // \r\n        this.calculator.push(value)  // \r\n        this.wrench++     // 1\r\n        this.section = ''     // ,display\r\n        this.setState({ ...this.state })\r\n        this.pointFlag = false\r\n        this.order = 0\r\n        break;\r\n      case '-':   // \r\n        this.calculator.push(value)\r\n        if (this.calculator.length) {  // \r\n          this.wrench++     // ,\r\n        }\r\n        this.section = ''\r\n        this.setState({ ...this.state })\r\n        this.pointFlag = false\r\n        this.order = 0\r\n        break;\r\n      case '.':\r\n        if (!this.pointFlag) {   // \r\n          this.pointFlag = true  // \r\n          this.section += value\r\n          if (this.section.length === 1) {\r\n            this.section = 0 + value // 0\r\n          }\r\n          if (!this.arrPopIsOpe) {\r\n            this.calculator.pop()\r\n          }\r\n          this.calculator.push(this.section)\r\n          this.setState({ ...this.state, display: this.section ? this.section : '0' })\r\n        }\r\n        break;\r\n      default:\r\n        if (this.order >= 9) { break; }//9\r\n        this.section += value\r\n        if (this.section[0] === '0' && value !== '0' && this.section.length <= 2) {  // 0\r\n          this.section = value\r\n          this.setState({ ...this.state, display: this.section })\r\n          break;\r\n        }\r\n        this.order++\r\n        if (this.calculator[0] === this.result.toString() && this.calculator[0] !== this.section && this.calculator.length === 1) {\r\n          this.calculator = []\r\n        }\r\n        let popEl = this.calculator.pop()\r\n        if (this.arrPopIsOpe) {  // sectioncalculator,\r\n          this.calculator.push(popEl)\r\n        }\r\n        this.calculator.push(this.section)\r\n        this.setState({ ...this.state, display: this.section ? this.section : '0' })\r\n    }\r\n    if (this.wrench >= 2) {     // \r\n      let a = this.calculator.pop()  // \r\n      if (this.calculator[this.calculator.length - 1] === '-' || this.calculator[this.calculator.length - 1] === '+' && this.calculator.length === 2) {  // /\r\n        let x = this.calculator.pop()\r\n        this.calculator = [...this.calculator, x, ...this.calculator]\r\n      }\r\n      if (this.calculator.length === 1) return\r\n      this.getResult()\r\n      this.calculator = [this.result, a]  // \r\n      this.wrench = 1   // 1\r\n    }\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={style.container} onClick={this.getValue} >\r\n        <div className={style.display}>{(this.state.display * 1).numberFormat(2)}</div>\r\n        <Row style={{ margin: 'auto 20px' }}>\r\n          <Col span={18} style={{ display: 'flex', flexDirection: 'column-reverse' }}>\r\n            <Col span={24} style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around' }}>\r\n              <Button type='primary' style={{ background: 'linear-gradient(to bottom,#f2b452,#d78437)' }}>C</Button><Button type='primary'>0</Button><Button type='primary'>.</Button>\r\n            </Col>\r\n            {\r\n              this.numberArr.map((item) => {\r\n                return (\r\n                  <Col span={24} style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around' }} key={randomNum(0, 10, true)}>\r\n                    <Button type='primary'>{item}</Button><Button type='primary'>{item + 1}</Button><Button type='primary'>{item + 2}</Button>\r\n                  </Col>\r\n                )\r\n              })\r\n            }\r\n          </Col>\r\n          <Col span={6} style={{ display: 'flex', flexDirection: 'column' }}>\r\n            <Button type='primary' style={{ background: '#909fb7' }}>+</Button>\r\n            <Button type='primary' style={{ background: '#909fb7' }}>-</Button>\r\n            <Button type='primary' className={style.resultBotton}>{this.wrench ? '=' : 'OK'}</Button>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default index;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2fsMS\",\"display\":\"style_display__3pIVn\",\"resultBotton\":\"style_resultBotton__jKRXv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__BZU2e\",\"collapsHead\":\"style_collapsHead__113Ri\",\"headDisplay\":\"style_headDisplay__3Holj\",\"panel\":\"style_panel__yKJZK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__3TjOL\",\"collapsHead\":\"style_collapsHead__36HhB\",\"headDisplay\":\"style_headDisplay__sWX42\",\"panel\":\"style_panel__3cphw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__3GSmJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__lhLZw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__Nr_TA\",\"head\":\"style_head__9S6P9\",\"big\":\"style_big__XwKln\",\"decorationBar\":\"style_decorationBar__2Y581\",\"card\":\"style_card__y4Ilk\",\"col\":\"style_col__ZkKAx\",\"payCountSum\":\"style_payCountSum__1lRNy\",\"icon\":\"style_icon__nGYZz\",\"calendarArray\":\"style_calendarArray__2rGyQ\",\"payOut\":\"style_payOut__22bsG\",\"betweenText\":\"style_betweenText__1OXku\",\"income\":\"style_income__2LGsI\",\"showProgress\":\"style_showProgress__1mHlW\",\"classify\":\"style_classify__2YYsY\",\"lamination\":\"style_lamination__1YNoP\",\"assetsCard\":\"style_assetsCard__3TEaa\",\"stickBlock\":\"style_stickBlock__3ohIc\",\"drawerBody\":\"style_drawerBody__ldnJV\"};","import { createContext } from 'react'\r\n\r\nexport default createContext()\r\n","import React from 'react'\r\nimport style from './style.module.css'\r\n\r\nexport default function Index (props) {\r\n  return (\r\n    <div className={style.main}>\r\n    </div>\r\n  )\r\n}\r\n","export const SAVECOUNT = 'saveCount' // \r\nexport const EDITCOUNT = 'editCount' // \r\nexport const SAVEASTEMP = 'saveAsTemp' // \r\nexport const DELETECOUNT = 'deleteCount' // \r\nexport const GETCOUNTDATA = 'getCountData' // \r\n// Object For Statistics\r\nexport const OFS = 'getOFS' // \r\nexport const NUMFOR = 'numberFormat' // \r\nexport const RANK = 'rank' // ","import { GETCOUNTDATA } from '../constant'\r\n\r\n// \r\n/* demand_example={\r\n  pay:Boolean, // \r\n  category:[''[,'']], // \r\n  date:[Number,Number], // \r\n  id:Number, // \r\n  member:String, // \r\n  count: [Number,Number] // \r\n  account: String // \r\n} */\r\n\r\nexport const getCountData = demand => ({ type: GETCOUNTDATA, data: demand })","// Object For Statistics\r\nimport { OFS } from '../constant'\r\n\r\nexport const getOFS = countList => ({ type: OFS, data: countList })\r\n","import React, { Component } from 'react';\r\nimport Calculator from '../../../Calculator';\r\nimport style from './style.module.css'\r\n\r\nclass DrawerCalculator extends Component {\r\n  state = {\r\n    balance: JSON.parse(localStorage.getItem('balance')) || 0\r\n  }\r\n  componentDidMount () {\r\n  }\r\n  closeCalcu = () => {\r\n    localStorage.setItem('balance', JSON.stringify(this.state.result))\r\n    this.setState({ ...this.state, balance: this.state.result })\r\n  }\r\n  outPut = (value) => {\r\n    this.setState({ ...this.state, result: value })\r\n  }\r\n\r\n\r\n  render () {\r\n    return (\r\n      <div className={style.container}>\r\n        <Calculator initialNum={JSON.parse(localStorage.getItem('balance')) || 0} closeCalcu={this.closeCalcu} outPut={this.outPut}></Calculator>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DrawerCalculator;\r\n","import { GETCOUNTDATA } from '../constant'\r\n\r\nconst initState = [{\r\n  count: 0,\r\n  category: [''],\r\n  date: 0,\r\n  account: '',\r\n  pay: true\r\n}]\r\nlet allCount = JSON.parse(localStorage.getItem('allCount')) || [initState] // \r\n\r\n// \r\nconst on_demand = (list, demand) => {\r\n  let keys = Object.keys(demand)  // ''\r\n  if (keys.length === 0) {// \r\n    return list\r\n  } else {\r\n    return keys.reduce((pre, cur) => { // reduce\r\n      return pre.filter(item => { // filterdemand[cur]\r\n        switch (typeof demand[cur]) { // demand[cur]\r\n          case 'object': //  \r\n            if (typeof demand[cur][0] === 'number') { // count date \r\n              if (demand[cur][0] <= item[cur] && item[cur] <= demand[cur][1]) {\r\n                return item\r\n              }\r\n            } else { // category \r\n              if (demand[cur][1]) {\r\n                return item[cur].indexOf(demand[cur][1]) !== -1\r\n              } else {\r\n                return item[cur].indexOf(demand[cur][0]) !== -1\r\n              }\r\n            }\r\n            break;\r\n          default: //  pay id member account \r\n            return item[cur] == demand[cur]\r\n        }\r\n      })\r\n    }, list)\r\n  }\r\n}\r\n\r\n// statelistlist\r\nconst distList = (item) => {\r\n  let condition = {}\r\n  let nowMsec = new Date().getTime()\r\n  let timeStr = (msecNum) => {\r\n    return {\r\n      year: new Date(msecNum).getFullYear(),\r\n      month: new Date(msecNum).getMonth(),\r\n      day: new Date(msecNum).getDate()\r\n    }\r\n  }\r\n  // [time-segment,time],segment\r\n  let targetMsec = (time, segment) => {\r\n    let segTime = timeStr(time)\r\n    // 00:00:00\r\n    segTime = new Date(segTime.year, segTime.month, segTime.day)\r\n    return [segTime - (segment - 1) * 86400000, time]\r\n  }\r\n  if (typeof item === 'object') {\r\n    condition.date = item\r\n    return on_demand(allCount, condition)\r\n  }\r\n  switch (item) {\r\n    case 'all':\r\n      return allCount\r\n    case 'today':\r\n      condition.date = targetMsec(nowMsec, 1)\r\n      return on_demand(allCount, condition)\r\n    case 'week':\r\n      condition.date = targetMsec(nowMsec, 7)\r\n      return on_demand(allCount, condition)\r\n  }\r\n}\r\n// action.state\r\n/* state_example={\r\n  list:'all',\r\n  demand:{\r\n    \r\n    \r\n    \r\n  }\r\n} */\r\nexport default function countDate (preState = initState, action) {\r\n  allCount = JSON.parse(localStorage.getItem('allCount')) || [initState]\r\n  const { type, data } = action\r\n  switch (type) {\r\n    case GETCOUNTDATA:\r\n      return [...on_demand(distList(data.list), data.demand)]\r\n  }\r\n  return preState\r\n}","import React, { useEffect, useState, useRef } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Card, Row, Col, message } from 'antd';\r\nimport style from './style.module.css'\r\nimport randomNum from 'number-random'\r\n\r\n// \r\nlet addAFlag = true\r\n\r\n\r\nfunction Index (props) {\r\n  let [state, setState] = useState({ ...props.obj, 'selectedLeft': 0, 'selectedRight': 0 })\r\n  let rightCol = useRef(null)\r\n  let leftCol = useRef(null)\r\n  useEffect(() => {\r\n    let output = []\r\n    output[0] = arr[state.selectedLeft + 2]\r\n    output[1] = arrr[state.selectedRight + 2]\r\n    props.change(output)\r\n  }, [state.selectedLeft, state.selectedRight])\r\n  // \r\n  let all = []\r\n  let arr = Array(2), arrr = Array(2)\r\n  for (let i in state) {\r\n    all.push(i)\r\n  }\r\n  arr = [...arr, ...all.slice(0, all.length - 2), ...arr]\r\n  arrr = [...arrr, ...state[arr[state.selectedLeft + 2]]]\r\n\r\n\r\n  let arra = arr.slice(state.selectedLeft, state.selectedLeft + 5)\r\n  let arrb = arrr.slice(state.selectedRight, state.selectedRight + 5)\r\n\r\n\r\n  // \r\n  let edit = (chara, ref) => {\r\n    // \r\n    let targetArr = []\r\n    // ref\r\n    if (ref === leftCol) {\r\n      // chara\r\n      for (let i = 0; i < Math.abs(chara); i++) {\r\n        // 0\r\n        if (chara === 0) return\r\n        setState({ ...state, 'selectedLeft': state.selectedLeft + chara, 'selectedRight': 0 })\r\n      }\r\n      targetArr = arr.slice(state.selectedLeft, state.selectedLeft + 5)\r\n    } else {\r\n      for (let i = 0; i < Math.abs(chara); i++) {\r\n        // 0\r\n        if (chara === 0) return\r\n        setState({ ...state, 'selectedRight': state.selectedRight + chara })\r\n      }\r\n      targetArr = arrr.slice(state.selectedRight, state.selectedRight + 5)\r\n    }\r\n    return (\r\n      targetArr.map(item => {\r\n        return <div key={randomNum(100, 10000, true)}>{item}</div>\r\n      })\r\n    )\r\n  }\r\n\r\n\r\n  // refaction\r\n  let addAnimation = (ref, action) => {\r\n    if ((!arra[1] && action === style.animationDown && ref === 0) || (!arra[3] && action === style.animationUp && ref === 0) || (!arrb[1] && action === style.animationDown && ref === 1) || (!arrb[3] && action === style.animationUp && ref === 1)) {\r\n      message.warning('', 0.5)\r\n      return null\r\n    }\r\n    let name = ''\r\n    // \r\n    let chara = 1\r\n    if (action === style.animationDown) {\r\n      chara = -1\r\n    }\r\n    // \r\n    const throttle = () => {\r\n      // \r\n      if (!ref) {\r\n        name = leftCol.current.className\r\n        leftCol.current.className += ` ${action}`\r\n      } else {\r\n        name = rightCol.current.className\r\n        rightCol.current.className += ` ${action}`\r\n      }\r\n      // \r\n      setTimeout(() => {\r\n        if (!ref) {\r\n          leftCol.current.className = name\r\n          edit(chara, leftCol)\r\n        } else {\r\n          rightCol.current.className = name\r\n          edit(chara, rightCol)\r\n        }\r\n        addAFlag = true\r\n      }, 280)\r\n    }\r\n    if (!addAFlag) return null\r\n    addAFlag = false\r\n    return (\r\n      throttle()\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <Card className={style.container} bordered>\r\n      <Row className={style.row}>\r\n        <Col span={12} className={style.col}>\r\n          <div className={style.middle} ref={leftCol}>\r\n            {edit(0, leftCol)}\r\n          </div>\r\n        </Col>\r\n        <Col span={12} className={style.col}>\r\n          <div className={style.middle} ref={rightCol}>\r\n            {edit(0, rightCol)}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      <div className={style.line}></div>\r\n      <div className={style.line2}></div>\r\n      {/*  */}\r\n      <div onClick={() => addAnimation(1, style.animationUp)} className={style.switchDown} style={{ right: 0 }}></div>\r\n      <div onClick={() => addAnimation(0, style.animationUp)} className={style.switchDown} style={{ left: 0 }}></div>\r\n      <div onClick={() => addAnimation(1, style.animationDown)} className={style.switchTop} style={{ right: 0 }}></div>\r\n      <div onClick={() => addAnimation(0, style.animationDown)} className={style.switchTop} style={{ left: 0 }}></div>\r\n    </Card>\r\n  )\r\n}\r\nexport default connect(\r\n)(Index)","import React, { useEffect, useState, useRef, useContext } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport style from './style.module.css'\r\nimport Cascader from '../Cascader/Cascader';\r\nimport Calculator from '../../Calculator';\r\nimport { Collapse, Calendar, Button, Drawer, notification } from 'antd';\r\nimport globalContext from '../../../globalContext';\r\n//  redux  action\r\nimport { saveCount, saveAsTemp, editCount } from '../../../redux/actions/saveCount';\r\n\r\nconst { Panel } = Collapse;\r\n\r\n// \r\nlet payCat = {\r\n  '': ['', '', ''],\r\n  '': ['', '', ''],\r\n  '': ['', '', '', '', ''],\r\n  '': ['', '', ''],\r\n  '': ['', '', '', ''],\r\n  '': ['', '', '', '', ''],\r\n  '': ['', '', ''],\r\n  '': ['', '', '', ''],\r\n  '': ['', '', '', ''],\r\n  '': ['', '', '', '', '', ''],\r\n  '': ['', '', '']\r\n}\r\n// \r\nlet incomeCat = {\r\n  '': ['', '', '', '', '', ''],\r\n  '': ['', '', '', '']\r\n}\r\n// \r\nlet AccountCat = {\r\n  '': [''],\r\n  '': ['', '', '', '']\r\n}\r\n// \r\nlet numberCat = {\r\n  '()': ['()'],\r\n  '': ['', '', '', '', '', ''],\r\n  '': ['', '', '', '', '']\r\n}\r\n// \r\nlet initialState = {\r\n  category: '',\r\n  account: '',\r\n  date: new Date().getTime(),\r\n  member: '()',\r\n  tempVisible: false,\r\n  calcuVisible: false,\r\n  count: 0\r\n}\r\n\r\nfunction Index (props) {\r\n  let Consumer = useContext(globalContext)\r\n  let [state, setState] = useState(initialState)\r\n  // \r\n  let info = {\r\n    id: 0,\r\n    count: 0,\r\n    category: '',\r\n    account: '',\r\n    date: '',\r\n    member: '',\r\n    remark: ''\r\n  }\r\n  useEffect(() => {\r\n    if (props.count && props.count[0].id) {\r\n      setState({ ...props.count[0] })\r\n    }\r\n  }, [props])\r\n  // \r\n  const receivePayCat = (data) => {\r\n    info.category = `${data[0]} > ${data[1]}`\r\n    setState({ ...state, category: info.category })\r\n  }\r\n  // \r\n  const receiveAccountCat = (data) => {\r\n    info.account = `${data[1]}`\r\n    setState({ ...state, account: info.account })\r\n  }\r\n  // \r\n  const receiveNumberCat = (data) => {\r\n    info.member = `${data[1]}`\r\n    setState({ ...state, member: info.member })\r\n  }\r\n  // \r\n  const onPanelChange = (data) => {\r\n    info.date = data._d\r\n    setState({ ...state, date: data._d })\r\n  }\r\n  // \r\n  const classification = () => {\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}></h1>\r\n        <span style={{ fontSize: '20px' }}>{state.category}</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // \r\n  const account = () => {\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}></h1>\r\n        <span style={{ fontSize: '20px' }}>{state.account}</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // \r\n  const date = () => {\r\n    let str = `${new Date(state.date).getFullYear()} ${new Date(state.date).getMonth() + 1} ${new Date(state.date).getDate()}`\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}></h1>\r\n        <span style={{ fontSize: '20px' }}>{str}</span>\r\n      </div>\r\n    )\r\n  }\r\n  // \r\n  const number = () => {\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}></h1>\r\n        <span style={{ fontSize: '20px' }}>{state.member}</span>\r\n      </div>\r\n    )\r\n  }\r\n  // \r\n  let inputRef = useRef(null)\r\n  const keyDown = (e) => {\r\n    if (e.target.id === 'input' && e.keyCode === 13) {\r\n      conserve(2)\r\n    }\r\n  }\r\n  // \r\n  let tempInputRef = useRef(null)\r\n  const tempKeyDown = (e) => {\r\n    if (e.keyCode === 13) { conserveTemp() }\r\n  }\r\n  // \r\n  const conserveTemp = () => {\r\n    const deepClone = (obj) => {    // \r\n      if (typeof obj !== 'object' || obj === null) {\r\n        return obj\r\n      }\r\n      if (Array.isArray(obj)) {\r\n        var result = []\r\n      } else {\r\n        var result = {}\r\n      }\r\n      for (let key in obj) {\r\n        result[key] = deepClone(obj[key])\r\n      }\r\n      return result\r\n    }\r\n    conserve(1)\r\n    if (!tempInputRef.current.value) {\r\n      notification['error']({\r\n        message: ''\r\n      });\r\n      return null\r\n    }\r\n    let cloneObj = deepClone(info)  // info\r\n    cloneObj.tempName = tempInputRef.current.value\r\n    props.saveAsTemp(cloneObj)\r\n    onClose()\r\n  }\r\n  // \r\n  const collapseList = () => {\r\n    return (\r\n      <Collapse accordion>\r\n        <Panel header={classification()} key={'paycat'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <Cascader obj={props.pay ? payCat : incomeCat} change={receivePayCat}></Cascader>\r\n        </Panel>\r\n        <Panel header={account()} key={'account'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <Cascader obj={AccountCat} change={receiveAccountCat}></Cascader>\r\n        </Panel>\r\n        <Panel header={date()} key={'datecat'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <div className={style.site_calendar_demo_card}>\r\n            <Calendar fullscreen={false} onChange={onPanelChange} ></Calendar>\r\n          </div>\r\n        </Panel>\r\n        <Panel header={number()} key={'numbercat'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <Cascader obj={numberCat} change={receiveNumberCat}></Cascader>\r\n        </Panel>\r\n\r\n      </Collapse>\r\n    )\r\n  }\r\n  // \r\n  const conserve = (s) => {\r\n    if (!verification()) {\r\n      return null\r\n    }\r\n    info.id = state.id ? state.id : (new Date()).getTime()\r\n    info.count = state.count\r\n    info.category = state.category\r\n    info.account = state.account\r\n    info.date = new Date(state.date).getTime()\r\n    info.member = state.member\r\n    info.remark = inputRef.current.value\r\n    info.pay = props.pay\r\n    if (s.toString() === '[object Object]' || s === 2) {\r\n      if (state.id) {\r\n        props.editCount(info)\r\n      } else {\r\n        props.saveCount(info)\r\n      }\r\n    }\r\n  }\r\n  // \r\n  const conserveAsTemp = () => {\r\n    setState({ ...state, tempVisible: true })\r\n    Consumer.mainOut()\r\n  }\r\n  // \r\n  const verification = () => {\r\n    if (state.category === '') {\r\n      notification['error']({\r\n        message: ''\r\n      })\r\n      return false\r\n    } else if (state.account === '') {\r\n      notification['error']({\r\n        message: ''\r\n      })\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n  // \r\n  const onClose = () => {\r\n    setState({ ...state, tempVisible: false })\r\n    Consumer.mainIn()\r\n  }\r\n  // \r\n  const title = () => {\r\n    return (\r\n      <div className={style.head}>\r\n        <span style={{ fontSize: '25px', fontWeight: 700, lineHeight: '46px' }}>{state.calcuVisible ? '' : ''}</span>\r\n        <Button type=\"text\" onClick={\r\n          () => {\r\n            if (state.tempVisible) return onClose()\r\n            else return closeCalcu()\r\n          }\r\n        } danger style={{ position: 'absolute', right: '10px', fontSize: '20px', color: 'brown' }}>\r\n          \r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n  // \r\n  const openCalcu = () => {\r\n    setState({ ...state, calcuVisible: true })\r\n    Consumer.mainOut()\r\n  }\r\n  // \r\n  const closeCalcu = () => {\r\n    setState({ ...state, calcuVisible: false })\r\n    Consumer.mainIn()\r\n  }\r\n  // \r\n  const outPut = (value) => {\r\n    setState({ ...state, count: value })\r\n  }\r\n  return (\r\n    <div className={style.container}>\r\n      <div style={{ borderBottom: '1px solid rgb(248,248,248)', overflow: 'hidden', backgroundColor: 'rgb(248,248,248)', cursor: 'pointer' }} onClick={openCalcu}>\r\n        <span className={style.count} style={{ color: props.pay ? 'green' : 'red' }}>{state.count}</span>\r\n      </div>\r\n      {/*  */}\r\n      {collapseList()}\r\n      <div style={{ width: '100%', borderBottom: '1px solid rgb(217,217,217)', padding: '1px' }}>\r\n        <input className={style.remark} onKeyDown={keyDown} ref={inputRef} placeholder='...' type=\"text\" id='input' />\r\n      </div>\r\n      <div className={style.bottonContainer}>\r\n        <Button type='danger' className={style.conserveButoon} onClick={conserve}></Button>\r\n        <Button type='danger' className={style.conserveAsTempButoon} style={{ display: state.id ? 'none' : 'block' }} onClick={conserveAsTemp}></Button>\r\n      </div>\r\n      {/*  */}\r\n      <Drawer\r\n        title={title()}\r\n        placement=\"right\"\r\n        closable={false}\r\n        onClose={onClose}\r\n        visible={state.tempVisible}\r\n        width={'700px'}\r\n        headerStyle={{ margin: 0, padding: 0 }}\r\n        className={style.drawerBody}\r\n      >\r\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n          <h1 style={{ paddingLeft: '60px', paddingTop: '25px', color: 'gray', whiteSpace: 'nowrap' }}></h1>\r\n          <input className={style.remark} ref={tempInputRef} onKeyDown={tempKeyDown} style={{ textAlign: 'right', marginRight: '20px' }} placeholder='' type=\"text\" />\r\n        </div>\r\n        {collapseList()}\r\n        <Button type='danger' className={style.drawerButoon} onClick={conserveTemp}></Button>\r\n      </Drawer>\r\n      <Drawer\r\n        title={title()}\r\n        placement=\"right\"\r\n        closable={false}\r\n        onClose={closeCalcu}\r\n        visible={state.calcuVisible}\r\n        width={'700px'}\r\n        headerStyle={{ margin: 0, padding: 0 }}\r\n        className={style.drawerBody}\r\n      >\r\n        <Calculator initialNum={state.count} closeCalcu={closeCalcu} outPut={outPut}></Calculator>\r\n      </Drawer>\r\n\r\n    </div>\r\n  )\r\n}\r\nexport default connect(\r\n  state => ({\r\n\r\n  }),\r\n  { saveCount, saveAsTemp, editCount }\r\n)(Index)","// \r\n/* example = {\r\n    // id,\r\n  id: Number,\r\n    // \r\n  count: Number,\r\n    // falsetrue\r\n  pay: Boolean,\r\n    // \r\n  category: Array,\r\n    // \r\n  account: String,\r\n    // \r\n  date: Number,\r\n    //     \r\n  member: String,\r\n    //     \r\n  remark: String\r\n} */\r\nimport { SAVECOUNT, EDITCOUNT, SAVEASTEMP, DELETECOUNT } from '../constant'\r\n\r\nexport const saveCount = data => ({ type: SAVECOUNT, data })\r\nexport const editCount = data => ({ type: EDITCOUNT, data })\r\nexport const saveAsTemp = data => ({ type: SAVEASTEMP, data })\r\nexport const deleteCount = data => ({ type: DELETECOUNT, data })","import React, { Component } from 'react';\r\nimport style from './style.module.css'\r\nimport { connect } from 'react-redux'\r\n// antd\r\nimport { Drawer, Modal, Button } from 'antd'\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\n// components\r\nimport Pay from '../../../../AddACount/Pay/Pay';\r\n// actions\r\nimport { getCountData } from '../../../../../redux/actions/countData';\r\nimport { deleteCount } from '../../../../../redux/actions/saveCount';\r\n// reducer\r\nimport queryCountData from '../../../../../redux/reducers/countData';\r\nimport random from 'number-random';\r\n\r\nclass DaySteam extends Component {\r\n  // timeSeg\r\n  state = {\r\n    // \r\n    list: queryCountData('', { type: 'getCountData', data: { list: 'all', demand: { date: [this.props.timeSeg.start, this.props.timeSeg.end] } } }),\r\n    // \r\n    visible: false,\r\n    // \r\n    selected: this.props.selected || [{ id: 0, pay: true }],\r\n    // \r\n    isModalVisible: false,\r\n    // idid\r\n    flash: { id: void (0) },\r\n    // \r\n    flag: false\r\n  }\r\n  static getDerivedStateFromProps (nextProps, preState) {\r\n    const { selected } = nextProps\r\n    // list\r\n    if (preState.list.length === 0) {\r\n      return { ...preState, visible: false }\r\n    }\r\n    // flashnull\r\n    if (nextProps.flash && !preState.flag) {\r\n      return { ...preState, list: queryCountData('', { type: 'getCountData', data: { list: 'all', demand: { date: [nextProps.timeSeg.start, nextProps.timeSeg.end] } } }), flag: true, visible: false }\r\n    }\r\n    // selected[0].id0\r\n    if (selected.length === 1 && selected[0].id !== 0) {\r\n      return { ...preState, selected: nextProps.selected, flag: false }\r\n    }\r\n    return { ...preState, flag: false }\r\n  }\r\n  shouldComponentUpdate (nextProps, nextState) {\r\n    if (nextProps.flash === null) {\r\n      return true\r\n    }\r\n    if (nextProps.flash && (nextState.flag || nextState.isModalVisible)) {\r\n      return true\r\n    }\r\n    return false;\r\n  }\r\n\r\n  countId = 0\r\n  // \r\n  deleteCount = (e) => {\r\n    e.stopPropagation();\r\n    this.countId = e.target.parentNode.parentNode.parentNode.dataset.key\r\n    if (this.countId === undefined) {\r\n      return null\r\n    } else {\r\n      this.setState({ ...this.state, isModalVisible: true })\r\n    }\r\n  }\r\n  // \r\n  handleOk = (e) => {\r\n    e.stopPropagation();\r\n    this.props.deleteCount(this.countId)\r\n    this.setState({ ...this.state, isModalVisible: false })\r\n  }\r\n  // \r\n  handleCancel = (e) => {\r\n    e.stopPropagation();\r\n    this.setState({ ...this.state, isModalVisible: false })\r\n  }\r\n  isModalVisible = []\r\n  // this.state.list\r\n  renderList = () => {\r\n    let keyArr = Object.keys(this.state.list)\r\n    if (keyArr.length === 0) {\r\n      return (\r\n        <div className={style.row} style={{ cursor: 'default' }} onClick={(e) => { return e.stopPropagation() }}>\r\n          <div style={{ marginLeft: '45%' }}>\r\n            <span>{''}</span>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    return (\r\n      keyArr.map(item => {\r\n        const { id, category, account, pay, count } = this.state.list[item]\r\n        return (\r\n          <div className={style.row} key={random(1, 100, false)} data-key={id} >\r\n            <div style={{ marginLeft: id ? '0' : '45%' }}>\r\n              <span>{category ? category.split('>')[0] : ''}</span>\r\n              <span>{account}</span>\r\n            </div>\r\n            <div style={{ color: !pay ? '#e17167' : '#56b78c', display: id ? 'block' : 'none' }}>{count}</div>\r\n            <div style={{ position: 'absolute', right: '25px', paddingTop: '14px', width: '20px', height: '20px' }} onClick={this.deleteCount}>\r\n              <DeleteOutlined />\r\n            </div>\r\n          </div>\r\n        )\r\n      }))\r\n  }\r\n  // \r\n  editCount = (e) => {\r\n    if (e.target.className === 'ant-modal-footer' || e.target.className === 'ant-modal-title' || e.target.className === 'ant-modal-body' || e.target.innerHTML === '') {\r\n      e.stopPropagation()\r\n      return null\r\n    }\r\n    let id\r\n    if (e.target.dataset.key) {\r\n      id = e.target.dataset.key\r\n    } else {\r\n      if (e.target.parentNode.dataset.key) {\r\n        id = e.target.parentNode.dataset.key\r\n      } else {\r\n        id = e.target.parentNode.parentNode.dataset.key\r\n      }\r\n    }\r\n    this.props.getCountData({ list: 'all', demand: { id: id } })\r\n    this.onOpen()\r\n  }\r\n  // \r\n  onClose = (e) => {\r\n    this.setState({ ...this.state, visible: false })\r\n  }\r\n  // \r\n  onOpen = (e) => {\r\n    this.setState({ ...this.state, visible: true })\r\n  }\r\n  // \r\n  title = () => {\r\n    return (\r\n      <div className={style.head} style={{ display: 'flex', flexDirection: 'row-reverse', padding: 0, width: '700px' }}>\r\n        <Button type=\"text\" onClick={this.onClose} danger style={{ fontSize: '20px', color: 'brown', marginTop: '20px' }}>\r\n          \r\n        </Button>\r\n        <span className={style.headname}> </span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div>\r\n        {/*  */}\r\n        <div className={style.container}>\r\n          <div className={style.card} onClick={this.editCount}>\r\n            {this.renderList()}\r\n          </div>\r\n        </div>\r\n        {/*  */}\r\n        <Drawer\r\n          title={this.title()}\r\n          placement=\"right\"\r\n          closable={false}\r\n          onClose={this.onClose}\r\n          visible={this.state.visible}\r\n          width={'700px'}\r\n          headerStyle={{ margin: 0, padding: 0 }}\r\n          className={style.drawerBody}\r\n          destroyOnClose={true}\r\n        >\r\n          <div style={{ paddingTop: '80px', width: '700px', transform: 'translateX(0)', overflow: 'auto', height: '100%' }}>\r\n            <Pay pay={this.state.selected.length ? this.state.selected[0].pay : true} count={this.state.selected}></Pay>\r\n          </div>\r\n        </Drawer>\r\n        {/*  */}\r\n        <Modal title=\"\" visible={this.state.isModalVisible} onOk={this.handleOk} onCancel={this.handleCancel} width={300}>\r\n          <p></p>\r\n        </Modal>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    selected: state.countData,\r\n    flash: state.saveCount\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getCountData, deleteCount }\r\n)(DaySteam);\r\n","import React, { Component } from 'react';\r\nimport style from './style.module.css'\r\nimport { PlusCircleOutlined, MinusCircleOutlined } from '@ant-design/icons';\r\nimport Day from '../dayStream';\r\nimport queryCountData from '../../../../../redux/reducers/countData';\r\n\r\nclass index extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      list: queryCountData('', { type: 'getCountData', data: { list: 'all', demand: { date: [this.props.timeSeg.start, this.props.timeSeg.end] } } }),\r\n      end: this.props.timeSeg.end,\r\n      start: this.props.timeSeg.start\r\n    }\r\n    this.timeSeg = []\r\n  }\r\n  // \r\n  splitAsDay = () => {\r\n    let s = this.state.start\r\n    let e = this.state.end\r\n    for (let i = 0; i < 7; i++) {\r\n      this.timeSeg[i] = { start: s, end: s + 86400000 }\r\n      s += 86400000\r\n    }\r\n    return this.renderDays()\r\n  }\r\n  // \r\n  queryDay = (arr) => {\r\n    let list = queryCountData('', { type: 'getCountData', data: { list: 'all', demand: { date: [arr.start, arr.end] } } })\r\n    return list\r\n  }\r\n  flag = true\r\n  // \r\n  renderDays = () => {\r\n    let weekStr = ['', '', '', '', '', '', '']\r\n    return (\r\n      this.timeSeg.map(item => {\r\n        let list = this.queryDay(item) || []\r\n        let sumCount = {\r\n          sum: 0,\r\n          income: 0,\r\n          pay: 0\r\n        }\r\n        // \r\n        if (!list.length) return null\r\n        this.flag = false\r\n        list.map(item => {\r\n          if (item.pay) {\r\n            sumCount.pay += item.count * 1\r\n          } else {\r\n            sumCount.income += item.count * 1\r\n          }\r\n        })\r\n        sumCount.sum = sumCount.income - sumCount.pay\r\n        // \r\n        return (\r\n          <div className={style.dayContain} >\r\n            <span className={style.dateWeek}>\r\n              <span className={style.dateSec}>{new Date(item.start).getDate()}</span>\r\n              <span className={style.weekSec}>{weekStr[new Date(item.start).getDay()]}</span>\r\n            </span>\r\n            <div className={style.detail}>\r\n              <div className={style.headBar} style={{ display: this.props.week ? 'flex' : 'none' }}>\r\n                <div>\r\n                  <PlusCircleOutlined />\r\n                  <span className={style.sumCount}>&nbsp;&nbsp;{sumCount.income.numberFormat(2)}</span>\r\n                </div>\r\n                <div>\r\n                  <MinusCircleOutlined />\r\n                  <span className={style.sumCount}>&nbsp;&nbsp;{sumCount.pay.numberFormat(2)}</span>\r\n                </div>\r\n                <div>\r\n                  <svg t=\"1621922884268\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2525\" width=\"18\" height=\"18\">\r\n                    <path d=\"M512 955.733333c-98.679467 0-183.995733-35.259733-253.559467-104.840533S153.6 696.0128 153.6 597.333333s35.2768-183.995733 104.840533-253.559466c43.4688-43.4688 92.996267-73.5744 148.002134-90.0608l-80.366934-160.750934A17.066667 17.066667 0 0 1 341.333333 68.266667h341.333334a17.032533 17.032533 0 0 1 15.274666 24.695466l-80.3328 160.6656c54.8864 16.469333 104.3968 46.609067 147.968 90.146134C835.140267 413.3376 870.4 498.653867 870.4 597.333333s-35.259733 183.978667-104.840533 253.559467S610.679467 955.733333 512 955.733333z m0.426667-686.421333a16.964267 16.964267 0 0 1-10.24 3.7376c-84.9408 2.133333-158.8224 34.065067-219.613867 94.856533C219.648 430.848 187.733333 508.040533 187.733333 597.333333s31.914667 166.485333 94.839467 229.4272C345.514667 889.7024 422.7072 921.6 512 921.6s166.485333-31.8976 229.4272-94.839467C804.369067 763.818667 836.266667 686.626133 836.266667 597.333333s-31.8976-166.485333-94.839467-229.4272C680.618667 307.114667 607.010133 275.2 522.666667 273.066667a16.930133 16.930133 0 0 1-10.24-3.754667zM368.9472 102.4l71.492267 143.0016a370.961067 370.961067 0 0 1 60.8768-6.4512 15.36 15.36 0 0 1 11.1104 3.7376 16.042667 16.042667 0 0 1 11.093333-3.7376c20.616533 0.512 40.6528 2.645333 60.074667 6.365867L655.0528 102.4H368.9472z\" p-id=\"2526\" fill=\"#8a8a8a\"></path><path d=\"M512.853333 838.826667a34.133333 34.133333 0 0 1-34.133333-34.133334v-7.2192c-19.114667-5.495467-36.334933-15.854933-51.438933-30.941866-22.272-22.272-33.9456-49.629867-34.747734-81.322667a34.1504 34.1504 0 0 1 33.28-34.9696c18.688-1.092267 34.5088 14.4384 34.9696 33.262933 0.341333 13.9776 5.034667 25.019733 14.762667 34.747734 10.6496 10.666667 22.510933 15.616 37.307733 15.616 13.4144 0 24.32-4.829867 34.3552-15.2064 11.1616-10.820267 15.991467-22.016 15.991467-35.9936 0-14.216533-4.949333-25.8048-15.598933-36.4544-10.069333-10.069333-20.8384-14.7456-33.8944-14.7456h-2.56c-24.763733 0-47.189333-6.980267-66.6624-20.7872a155.921067 155.921067 0 0 1-17.186134-14.779734C404.224 572.8256 392.533333 544.904533 392.533333 512.853333c0-33.2288 11.554133-61.5936 34.3552-85.162666 15.394133-14.916267 32.392533-25.002667 50.978134-30.429867v-7.287467a34.133333 34.133333 0 0 1 68.266666 0v7.287467c18.517333 5.410133 35.1744 15.445333 49.749334 30.020267 22.801067 22.784 34.781867 50.141867 35.566933 81.288533a34.1504 34.1504 0 0 1-33.245867 35.003733l-0.887466 0.017067a34.116267 34.116267 0 0 1-34.0992-33.262933c-0.3584-13.4144-5.307733-24.456533-15.598934-34.747734C537.531733 465.476267 526.2336 460.8 512 460.8c-14.455467 0-26.1632 4.8128-36.846933 15.1552C465.6128 485.8368 460.8 497.544533 460.8 512c0 14.506667 4.676267 25.531733 14.7456 35.584 2.8672 2.8672 5.956267 5.546667 9.147733 7.936 7.168 5.0688 15.8208 7.68 26.453334 7.68h2.56c31.488 0 59.118933 11.707733 82.176 34.7648C619.485867 621.568 631.466667 650.069333 631.466667 682.666667c0 32.3584-12.4416 61.508267-35.9936 84.2752a114.039467 114.039467 0 0 1-48.4864 30.122666v7.645867a34.133333 34.133333 0 0 1-34.133334 34.116267zM682.666667 290.133333H341.333333a34.133333 34.133333 0 0 1 0-68.266666h341.333334a34.133333 34.133333 0 0 1 0 68.266666z\" p-id=\"2527\" fill=\"#8a8a8a\">\r\n                    </path>\r\n                  </svg>\r\n                  <span className={style.sumCount}>&nbsp;&nbsp;{sumCount.sum.numberFormat(2)}</span>\r\n                </div>\r\n              </div>\r\n              {/*  */}\r\n              <div>\r\n                <Day timeSeg={item}></Day>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      })\r\n    )\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={style.container}>\r\n        {this.splitAsDay()}\r\n        <div style={{ display: this.flag && this.props.week ? 'flex' : 'none', marginLeft: '45%', height: '70px', alignItems: 'center', fontSize: '18px', borderBottom: '1px solid #efefef' }}>\r\n          <span>{''}</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default index;\r\n","import React from 'react'\r\nimport style from './style.module.css'\r\nimport { connect } from 'react-redux'\r\nimport Week from '../weekStream';\r\nimport queryCountData from '../../../../../redux/reducers/countData';\r\nimport { Collapse, Progress } from 'antd';\r\nimport { PlusCircleOutlined, MinusCircleOutlined } from '@ant-design/icons';\r\nimport randomNum from 'number-random'\r\nimport { getOFS } from '../../../../../redux/actions/oFS'\r\n\r\nconst { Panel } = Collapse;\r\n\r\nclass index extends React.Component {\r\n  constructor(props) {\r\n    getOFS(JSON.parse(localStorage.getItem('allCount')) || [])\r\n    super(props)\r\n    this.state = {\r\n      list: queryCountData('', { type: 'getCountData', data: { list: 'all', demand: { date: [this.props.timeSeg.start, this.props.timeSeg.end] } } }),\r\n      end: this.props.timeSeg.end,\r\n      start: this.props.timeSeg.start,\r\n      sumCount: {\r\n        sum: 0,\r\n        income: 0,\r\n        pay: 0\r\n      },\r\n      // idid\r\n      flash: {\r\n        id: void (0)\r\n      },\r\n      // \r\n      flag: false\r\n    }\r\n    this.timeSeg = []\r\n  }\r\n\r\n  static getDerivedStateFromProps (nextProps, preState) {\r\n    if (nextProps.flash && nextProps.flash.id !== preState.flash.id) {\r\n      return { ...preState, flash: nextProps.flash, flag: true }\r\n    }\r\n    return { ...preState, flag: false }\r\n  }\r\n  shouldComponentUpdate (nextProps, nextState) {\r\n    if (nextProps.flash && nextState.flag) {\r\n      return true\r\n    }\r\n    return false;\r\n  }\r\n  // \r\n  splitAsWeek = () => {\r\n    // \r\n    let s = this.state.start\r\n    let e = this.state.end\r\n    e = new Date(e).getMonth() + 1\r\n    e = new Date(new Date(s).getFullYear(), e, 1)\r\n    e = new Date(e.getTime() - 1)\r\n    // \r\n    let i = 0\r\n    while (s < e) {\r\n      this.timeSeg[i] = { start: e - 86400000 * 7, end: e }\r\n      e = this.timeSeg[i].start\r\n      i++\r\n    }\r\n    this.timeSeg[--i].start = new Date(new Date(s).getFullYear(), new Date(s).getMonth(), 1).getTime()\r\n    this.timeSeg[0].end = this.timeSeg[0].end.getTime()\r\n    return this.renderWeeks()\r\n  }\r\n  // \r\n  renderWeeks = () => {\r\n    return this.timeSeg.map((item, index) => {\r\n      let list = this.queryWeek(item) || []\r\n      list.map(item => {\r\n        if (item.pay) {\r\n          let number = this.state.sumCount.pay + item.count * 1\r\n          this.setState({ ...this.state, sumCount: { ...this.state.sumCount, pay: number } })\r\n        } else {\r\n          let number = this.state.sumCount.income + item.count * 1\r\n          this.setState({ ...this.state, sumCount: { ...this.state.sumCount, income: number } })\r\n        }\r\n      })\r\n      this.state.sumCount.sum = this.state.sumCount.income - this.state.sumCount.pay\r\n      return (\r\n        <Panel header={this.renderHead(list, item, index)} key={randomNum(100, 10000, true)} showArrow={false} className='site_collapse_custom_panel'>\r\n          <Week week={this.props.week} timeSeg={item}></Week>\r\n        </Panel>\r\n      )\r\n    })\r\n  }\r\n\r\n  // \r\n  splitAsMonth = () => {\r\n    // \r\n    let s = this.state.start\r\n    let e = this.state.end\r\n    e = new Date(e).getMonth() + 1\r\n    e = new Date(new Date(s).getFullYear(), e, 1)\r\n    e = new Date(e.getTime() - 1)\r\n    // \r\n    let i = 0\r\n    while (s < e) {\r\n      this.timeSeg[i] = { start: e - 86400000 * 7, end: e }\r\n      e = this.timeSeg[i].start\r\n      i++\r\n    }\r\n    this.timeSeg[--i].start = new Date(new Date(s).getFullYear(), new Date(s).getMonth(), 1).getTime()\r\n    this.timeSeg[0].end = this.timeSeg[0].end.getTime()\r\n    return this.renderMonth()\r\n  }\r\n  // \r\n  renderMonth = () => {\r\n    return this.timeSeg.map((item) => {\r\n      let list = this.queryWeek(item) || []\r\n      list.map(item => {\r\n        if (item.pay) {\r\n          let number = this.state.sumCount.pay + item.count * 1\r\n          this.setState({ ...this.state, sumCount: { ...this.state.sumCount, pay: number } })\r\n        } else {\r\n          let number = this.state.sumCount.income + item.count * 1\r\n          this.setState({ ...this.state, sumCount: { ...this.state.sumCount, income: number } })\r\n        }\r\n      })\r\n      this.state.sumCount.sum = this.state.sumCount.income - this.state.sumCount.pay\r\n      return (\r\n        <Week week={this.props.week} timeSeg={item}></Week>\r\n      )\r\n    })\r\n  }\r\n\r\n\r\n  // \r\n  queryWeek = (obj) => {\r\n    let list = queryCountData('', { type: 'getCountData', data: { list: 'all', demand: { date: [obj.start, obj.end] } } })\r\n    return list\r\n  }\r\n\r\n  // \r\n  renderHead = (list, item, index) => {\r\n    // --\r\n    let month = new Date(item.start).getMonth() + 1\r\n    let dayStart = new Date(item.start).getDate()\r\n    let dayEnd = new Date(item.end).getDate()\r\n    // \r\n    let compute = {\r\n      sum: 0,\r\n      pay: 0,\r\n      income: 0\r\n    }\r\n    list.length === 0 ? list = [{ pay: true, count: 0 }] : list = list\r\n    if (list.length) {\r\n      list.reduce((pre, cur) => {\r\n        if (cur.pay) {\r\n          pre.pay += cur.count * 1\r\n        } else {\r\n          pre.income += cur.count * 1\r\n        }\r\n        return pre\r\n      }, compute)\r\n    }\r\n    compute.sum = compute.income - compute.pay\r\n    return (\r\n      <div className={style.collapsHead}>\r\n        <div style={{ width: '120px', display: 'flex', justifyContent: 'center', height: '60px', paddingTop: '4px' }}>\r\n          <div >\r\n            <div>\r\n              <span style={{ fontSize: '25px', color: 'black', fontWeight: 600 }}>{this.timeSeg.length - index}</span>\r\n              <span style={{ fontSize: '10px', color: '#787979' }}></span>\r\n            </div>\r\n            <div style={{ marginTop: '-10px', fontSize: '10px', color: '#787979' }}>{`${month}.${dayStart}-${month}.${dayEnd}`}</div>\r\n          </div>\r\n        </div>\r\n        <div className={`${style.headDisplay} monthBalance`} >\r\n          <div style={{ visibility: list[0].id ? 'visible' : 'hidden' }}>\r\n            <div style={{ color: '#e06c62', display: 'flex', flexDirection: 'column' }}>\r\n              <span> {compute.income}</span>\r\n              <Progress percent={compute.income ? compute.income / this.state.sumCount.income * 100 : 5} showInfo={false} size=\"small\" strokeColor='#e06c62' />\r\n            </div>\r\n            <div style={{ color: '#56b78c', display: 'flex', flexDirection: 'column' }}>\r\n              <span> {compute.pay}</span>\r\n              <Progress percent={compute.pay ? compute.pay / this.state.sumCount.pay * 100 : 5} showInfo={false} size=\"small\" strokeColor='#56b78c' />\r\n            </div>\r\n          </div>\r\n          <div className='balanceA'>\r\n            <div style={{ color: '#787979' }}></div>\r\n            <div style={{ color: 'black', fontWeight: 400, fontSize: '20px', marginTop: '-10px' }}>{compute.sum.numberFormat(2)}</div>\r\n            <Progress percent={compute.sum <= 0 ? 95 : compute.sum >= this.state.sumCount.sum ? 0 : 1 - compute.sum / this.state.sumCount.sum * 100} showInfo={false} size=\"small\" strokeColor='rgb(209, 209, 209)' />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  render () {\r\n    return (\r\n      <div>\r\n        <Collapse accordion className='site_collapse_custom_collapse' style={{ display: this.props.week ? 'block' : 'none' }}>\r\n          {this.splitAsWeek()}\r\n        </Collapse>\r\n        <div style={{ display: !this.props.week ? 'block' : 'none' }}>\r\n          {this.splitAsMonth()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => {\r\n    return {\r\n      flash: state.saveCount,\r\n      ofs: state.ofs\r\n    }\r\n  }, { getOFS }\r\n)(index);\r\n","import React from 'react'\r\nimport style from './style.module.css'\r\nimport { connect } from 'react-redux'\r\nimport Month from '../monthStream';\r\nimport queryCountData from '../../../../../redux/reducers/countData';\r\nimport { Collapse, Progress } from 'antd';\r\nimport randomNum from 'number-random'\r\nimport { getOFS } from '../../../../../redux/actions/oFS'\r\n\r\nconst { Panel } = Collapse;\r\n\r\nclass index extends React.Component {\r\n  constructor(props) {\r\n    getOFS(JSON.parse(localStorage.getItem('allCount')) || [])\r\n    super(props)\r\n    this.state = {\r\n      list: queryCountData('', { type: 'getCountData', data: { list: 'all', demand: { date: [this.props.timeSeg.start, this.props.timeSeg.end] } } }),\r\n      end: this.props.timeSeg.end,\r\n      start: this.props.timeSeg.start,\r\n      sumCount: {\r\n        sum: 0,\r\n        income: 0,\r\n        pay: 0\r\n      },\r\n      // idid\r\n      flash: {\r\n        id: void (0)\r\n      },\r\n      // \r\n      flag: false\r\n    }\r\n    this.timeSeg = []\r\n  }\r\n\r\n  static getDerivedStateFromProps (nextProps, preState) {\r\n    console.log('next', nextProps);\r\n    if (nextProps.flash && nextProps.flash.id !== preState.flash.id) {\r\n      return { ...preState, flash: nextProps.flash, flag: true }\r\n    }\r\n    return { ...preState, flag: false }\r\n  }\r\n  shouldComponentUpdate (nextProps, nextState) {\r\n    if (nextProps.flash && nextState.flag) {\r\n      return true\r\n    }\r\n    return false;\r\n  }\r\n  // \r\n  splitAsWeek = () => {\r\n    // \r\n    let s = this.state.start\r\n    let e = this.state.end\r\n    e = new Date(e).getMonth() + 1\r\n    e = new Date(new Date(s).getFullYear(), e, 1)\r\n    e = new Date(e.getTime() - 1)\r\n    let y = new Date(e).getFullYear()\r\n    let m = new Date(e).getMonth()\r\n    // \r\n    let i = 0\r\n    while (i <= m) {\r\n      this.timeSeg[i] = { start: new Date(y, m - i, 1).getTime(), end: new Date(y, m + 1 - i, 1).getTime() - 1 }\r\n      i++\r\n    }\r\n    return this.renderWeeks()\r\n  }\r\n  // \r\n  renderWeeks = () => {\r\n    return this.timeSeg.map((item, index) => {\r\n      let list = this.queryMonth(item) || []\r\n      list.map(item => {\r\n        if (item.pay) {\r\n          let number = this.state.sumCount.pay + item.count * 1\r\n          this.setState({ ...this.state, sumCount: { ...this.state.sumCount, pay: number } })\r\n        } else {\r\n          let number = this.state.sumCount.income + item.count * 1\r\n          this.setState({ ...this.state, sumCount: { ...this.state.sumCount, income: number } })\r\n        }\r\n      })\r\n      this.state.sumCount.sum = this.state.sumCount.income - this.state.sumCount.pay\r\n      if (!list.length) {\r\n        return (<Panel header={this.renderHead(list, item, index)} key={randomNum(100, 10000, true)} showArrow={false} >\r\n          <div style={{ paddingTop: '20px', marginLeft: '45%', height: '70px', alignItems: 'center', fontSize: '18px', borderBottom: '1px solid #efefef' }}>\r\n            <span>{''}</span>\r\n          </div>\r\n        </Panel>)\r\n      }\r\n      return (\r\n        <Panel header={this.renderHead(list, item, index)} key={randomNum(100, 10000, true)} showArrow={false} >\r\n          <Month week={false} timeSeg={item}></Month>\r\n        </Panel>\r\n      )\r\n    })\r\n  }\r\n  // \r\n  queryMonth = (obj) => {\r\n    let list = queryCountData('', { type: 'getCountData', data: { list: 'all', demand: { date: [obj.start, obj.end] } } })\r\n    return list\r\n  }\r\n\r\n  // \r\n  renderHead = (list, item, index) => {\r\n    // --\r\n    let month = new Date(item.start).getMonth() + 1\r\n    let dayStart = new Date(item.start).getDate()\r\n    let dayEnd = new Date(item.end).getDate()\r\n    // \r\n    let compute = {\r\n      sum: 0,\r\n      pay: 0,\r\n      income: 0\r\n    }\r\n    list.length === 0 ? list = [{ pay: true, count: 0 }] : list = list\r\n    if (list.length) {\r\n      list.reduce((pre, cur) => {\r\n        if (cur.pay) {\r\n          pre.pay += cur.count * 1\r\n        } else {\r\n          pre.income += cur.count * 1\r\n        }\r\n        return pre\r\n      }, compute)\r\n    }\r\n    compute.sum = compute.income - compute.pay\r\n    return (\r\n      <div className={style.collapsHead}>\r\n        <div style={{ width: '120px', display: 'flex', justifyContent: 'center', height: '60px', paddingTop: '4px' }}>\r\n          <div >\r\n            <div>\r\n              <span style={{ fontSize: '25px', color: 'black', fontWeight: 600 }}>{this.timeSeg.length - index}</span>\r\n              <span style={{ fontSize: '10px', color: '#787979' }}></span>\r\n            </div>\r\n            <div style={{ marginTop: '-10px', fontSize: '10px', color: '#787979' }}>{`${month}.1-${month}.${dayEnd}`}</div>\r\n          </div>\r\n        </div>\r\n        <div className={`${style.headDisplay} monthBalance`} >\r\n          <div style={{ visibility: list[0].id ? 'visible' : 'hidden' }}>\r\n            <div style={{ color: '#e06c62', display: 'flex', flexDirection: 'column' }}>\r\n              <span> {compute.income}</span>\r\n              <Progress percent={compute.income ? compute.income / this.state.sumCount.income * 100 : 5} showInfo={false} size=\"small\" strokeColor='#e06c62' />\r\n            </div>\r\n            <div style={{ color: '#56b78c', display: 'flex', flexDirection: 'column' }}>\r\n              <span> {compute.pay}</span>\r\n              <Progress percent={compute.pay ? compute.pay / this.state.sumCount.pay * 100 : 5} showInfo={false} size=\"small\" strokeColor='#56b78c' />\r\n            </div>\r\n          </div>\r\n          <div className='balanceA'>\r\n            <div style={{ color: '#787979' }}></div>\r\n            <div style={{ color: 'black', fontWeight: 400, fontSize: '20px', marginTop: '-10px' }}>{compute.sum.numberFormat(2)}</div>\r\n            <Progress percent={compute.sum <= 0 ? 95 : compute.sum >= this.state.sumCount.sum ? 0 : 1 - compute.sum / this.state.sumCount.sum * 100} showInfo={false} size=\"small\" strokeColor='rgb(209, 209, 209)' />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  render () {\r\n    return (\r\n      <div>\r\n        <Collapse accordion className='site_collapse_custom_collapse'>\r\n          {this.splitAsWeek()}\r\n        </Collapse>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => {\r\n    return {\r\n      flash: state.saveCount,\r\n      ofs: state.ofs\r\n    }\r\n  }, { getOFS }\r\n)(index);\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport style from './style.module.css'\r\nimport { Progress } from 'antd';\r\n// actions\r\nimport getCountData from '../../../../redux/reducers/countData';\r\nimport { getOFS } from '../../../../redux/actions/oFS'\r\n// components\r\nimport Day from './dayStream';\r\nimport Week from './weekStream';\r\nimport Month from './monthStream';\r\nimport Year from './yearStream';\r\n\r\nclass Stream extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.type = this.props.location.params.type\r\n    this.balance = JSON.parse(localStorage.getItem('balance')) || 0\r\n    this.bal = this.props.ofs.monthRevenue.pay\r\n  }\r\n  state = {\r\n    start: this.props.location.params.start,\r\n    end: this.props.location.params.end,\r\n    // flashID\r\n    id: 2021,\r\n    // \r\n    flag: false\r\n  }\r\n  list = [...getCountData('getCountData', { type: 'getCountData', data: { list: 'all', demand: { date: [this.props.location.params.start, this.props.location.params.end] } } })]\r\n  static getDerivedStateFromProps (nextProps, preState) {\r\n    const { flash } = nextProps\r\n    if (flash && flash.id !== preState.id) {\r\n      return { ...preState, id: flash.id, flag: true }\r\n    }\r\n    return { ...preState, flag: false }\r\n  }\r\n  shouldComponentUpdate (nextProps, nextState) {\r\n    const { flash } = nextProps\r\n    const { flag } = nextState\r\n    if (flash) {\r\n      if (!flag) {\r\n        return false\r\n      }\r\n      this.sumCount()\r\n      return true\r\n    } else {\r\n      if (nextState.id) {\r\n        this.sumCount()\r\n        return true\r\n      }\r\n    }\r\n    return false\r\n  }\r\n  componentDidMount () {\r\n    this.sumCount()\r\n  }\r\n  count = {\r\n    balance: 0,\r\n    income: 0,\r\n    pay: 0\r\n  }\r\n  // \r\n  sumCount = () => {\r\n    this.count.balance = this.count.income = this.count.pay = 0\r\n    if (this.list.length && this.list[0].pay) {\r\n      this.list.map(item => {\r\n        if (item.pay) {\r\n          this.count.pay += item.count * 1\r\n        } else {\r\n          this.count.income += item.count * 1\r\n        }\r\n      })\r\n    }\r\n    this.count.balance = this.count.income - this.count.pay\r\n    this.list = [...getCountData('getCountData', { type: 'getCountData', data: { list: 'all', demand: { date: [this.props.location.params.start, this.props.location.params.end] } } })]\r\n  }\r\n  // \r\n  display = () => {\r\n    switch (this.type) {\r\n      case 'day':\r\n        return <Day timeSeg={this.state} />\r\n      case 'week':\r\n        return <Week week={true} timeSeg={this.state} />\r\n      case 'month':\r\n        return (\r\n          <div>\r\n            {/*  */}\r\n            <div className={style.progress}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                <span> {(this.balance * 1).numberFormat(2)}</span>\r\n                <span> <span style={{ color: '#e37e00', fontWeight: 500 }}>{(this.balance - this.bal).numberFormat(2)}</span></span>\r\n              </div>\r\n              <div className='balanceProgress'>\r\n                <Progress percent={this.balance && this.balance * 1 > 0 ? (1 - this.bal / this.balance) * 100 : 0} showInfo={false} size=\"small\" strokeColor='orange' />\r\n              </div>\r\n            </div>\r\n            <Month week={true} timeSeg={this.state} />\r\n          </div>\r\n        )\r\n      case 'year':\r\n        return <Year timeSeg={this.state} />\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  render () {\r\n    this.sumCount()\r\n\r\n    return (\r\n      <div className={style.container}>\r\n        {/*  */}\r\n        <div className={style.head}>\r\n          <div className={style.count}><span>{this.count.balance.numberFormat(2)}</span><div style={{ textAlign: 'left' }}></div></div>\r\n          <div className={style.count}><span>{this.count.income.numberFormat(2)}</span><div style={{ textAlign: 'center' }}></div></div>\r\n          <div className={style.count}><span>{this.count.pay.numberFormat(2)}</span><div style={{ textAlign: 'right' }}></div></div>\r\n        </div>\r\n        {/*  */}\r\n        <div className={style.stream}>\r\n          {this.display()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// \r\nconst mapStatetoProps = (state) => {\r\n  return {\r\n    countData: state.countData || [],\r\n    flash: state.saveCount,\r\n    ofs: state.ofs\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStatetoProps,\r\n  { getOFS }\r\n)(withRouter(Stream));\r\n","import React, { useEffect, useState } from 'react'\r\nimport style from './style.module.css'\r\nimport { connect } from 'react-redux'\r\nimport randomNum from 'number-random'\r\nimport { Switch, Link, Route, useHistory } from 'react-router-dom';\r\n// antd\r\nimport { Row, Col, Card, Progress, Drawer, Button } from 'antd'\r\nimport { RightOutlined } from '@ant-design/icons';\r\n// actions\r\nimport { getCountData } from '../../redux/actions/countData';\r\nimport { numberFormat } from '../../redux/actions/numberFomat';\r\nimport { rank } from '../../redux/actions/rank';\r\nimport { getOFS } from '../../redux/actions/oFS';\r\n// components\r\nimport Calculator from './drawerPage/setBalance';\r\nimport Stream from './drawerPage/stream';\r\n\r\n\r\nfunction Index (props) {\r\n  let kap = [{ name: '', sum: 0, color: 'gray' }, { name: '', sum: 0, color: 'gray' }, { name: '', sum: 0, color: 'gray' }]\r\n  let balance = JSON.parse(localStorage.getItem('balance')) || 0\r\n  const [data, setData] = useState({ visible: false })\r\n  // reduxcountData\r\n  const fresh = () => {\r\n    if (!data.time || (new Date().getTime() - data.msec) > 1000) {\r\n\r\n      let day2 = new Date();\r\n      day2.setTime(day2.getTime());\r\n      let time = {\r\n        time: {\r\n          year: day2.getFullYear(),\r\n          month: (day2.getMonth() + 1).toString().length === 1 ? '0' + (day2.getMonth() + 1) : day2.getMonth() + 1,\r\n          date: day2.getDate().length === 1 ? '0' + day2.getDate() : day2.getDate(),\r\n          msec: new Date().getTime()\r\n        }\r\n      }\r\n      setData(time)\r\n    }\r\n  }\r\n\r\n  const history = useHistory()\r\n  // \r\n  useEffect(() => {\r\n    props.getCountData({ list: 'all', demand: {} })\r\n    props.getOFS(props.countData)\r\n    props.numberFormat(props.ofs)\r\n    props.rank({ list: 'all', demand: { rank: 'juniorcategory', category: 'payCount' } })\r\n    fresh()\r\n  }, [data])\r\n  // \r\n  const recentCount = () => {\r\n    let text = ''\r\n    let recentText = props.numFor.todayArr.length !== 0 ? props.numFor.todayArr[props.numFor.todayArr.length - 1].category.split('>')[0] : ''\r\n    let recentCount = props.numFor.todayArr.length !== 0 ? props.numFor.todayArr[props.numFor.todayArr.length - 1].count : ''\r\n    recentText = ` ${recentText} ${recentCount}`\r\n    text = props.numFor.todayArr.length === 0 ? text : recentText\r\n    return text\r\n  }\r\n  // \r\n  const displayTime = (time) => {\r\n    if (data.time) {\r\n      const { year, month, date } = data.time\r\n      const now = new Date(year, month * 1 - 1, date).getTime()\r\n      let last = 0\r\n      if (time === 'week') {\r\n        last = now - 86400000 * 6\r\n        last = new Date(last)\r\n        return (`    ${last.getMonth() + 1}${last.getDate()} - ${month * 1}${date}`)\r\n      } else {\r\n        last = new Date(year, (month * 1 + 1)).getTime() - 86400000\r\n        last = new Date(last)\r\n        return (`     ${last.getMonth()}1 - ${last.getMonth()}${last.getDate()}`)\r\n      }\r\n    }\r\n  }\r\n  // \r\n  const getRankList = () => {\r\n    let list = props.getRank.slice(0, 3).filter(item => {\r\n      return item.sum !== 0\r\n    })\r\n    kap = [...list, ...kap].slice(0, 3)\r\n    kap[0].color = '#e4211b'\r\n    kap[1].color = '#d0558c'\r\n    kap[2].color = '#8f57ae'\r\n    return (\r\n      kap.map(item => {\r\n        let percent = item.sum / kap[0].sum * 100 ? item.sum / kap[0].sum * 100 : 0\r\n        let textColor = item.sum ? '#5f5f5f' : '#d2d2d0'\r\n        return (\r\n          <div key={randomNum(1, 15, true)}>\r\n            <p className={style.showProgress} style={{ color: textColor, fontWeight: 550 }}>{item.name}{item.sum ? item.sum.numberFormat(2) : ''}</p>\r\n            <Progress percent={50} showInfo={false} size=\"small\" key={randomNum(0, 10000000, true)} percent={percent} strokeColor={item.color} />\r\n          </div>\r\n        )\r\n      })\r\n    )\r\n  }\r\n  // \r\n  const drawerOut = (e) => {\r\n    if (e === 'e') {\r\n      return getStream('month')\r\n    }\r\n    onOpen()\r\n  }\r\n  // \r\n  const onOpen = () => {\r\n    setData({ ...data, visible: true })\r\n  }\r\n  // \r\n  const onClose = () => {\r\n    props.history.go(-1)\r\n    window.location.reload()\r\n    setData({ ...data, visible: false })\r\n  }\r\n\r\n  // \r\n  const title = () => {\r\n    return (\r\n      <div className={style.head} style={{ display: 'flex', flexDirection: 'row-reverse', padding: 0, width: '700px' }}>\r\n        <Button type=\"text\" onClick={onClose} danger style={{ fontSize: '20px', color: 'brown', marginTop: '20px' }}>\r\n          \r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n  // \r\n  const leftSide = () => {\r\n    let list = props.numFor\r\n    return (\r\n      <Col span={12} className={style.col}>\r\n        <Col span={24} className={style.payOut}>\r\n          <div>\r\n            <p></p>\r\n            <div style={{ width: 100 + '%', overflow: 'hidden' }}><p className={style.payCountSum}>{list ? list.monthRevenue.pay : 0}<RightOutlined className={style.icon} /></p></div>\r\n          </div>\r\n        </Col>\r\n        <Col className={style.income}>\r\n          <div className={style.betweenText} onClick={() => { drawerOut('e') }}><span></span><span >{list ? list.monthRevenue.income : 0}<RightOutlined className={style.icon} /></span></div>\r\n          <Link className={style.betweenText} to='/home/setBalance' onClick={drawerOut}><span ></span><span >{(balance - (list.monthRevenue.pay ? list.monthRevenue.pay.replace(/,/g, '') : 0)).numberFormat(2)}<RightOutlined className={style.icon} /></span></Link>\r\n        </Col>\r\n      </Col>\r\n\r\n    )\r\n  }\r\n  // \r\n  const getStream = (value) => {\r\n    let end = new Date(),\r\n      date = end.getDate(),\r\n      month = end.getMonth(),\r\n      year = end.getFullYear(),\r\n      start = 0\r\n    switch (value) {\r\n      case 'day':\r\n        start = new Date(year, month, date) - 0\r\n        break;\r\n      case 'week':\r\n        start = new Date(year, month, date) - 6 * 86400000\r\n        break;\r\n      case 'month':\r\n        start = new Date(year, month, 1) - 0\r\n        break\r\n      case 'year':\r\n        start = new Date(year, 0, 1) - 0\r\n        break\r\n    }\r\n    setData({ ...data, visible: true })\r\n    history.push({ pathname: '/home/stream', params: { type: value, start, end: end.getTime() } })\r\n  }\r\n\r\n  return (\r\n    <div className={style.container} >\r\n      {/*  */}\r\n      <div className={style.head}>\r\n        <span className={style.big}>{data.time ? data.time.month : '0'}</span>\r\n        <span>/{data.time ? data.time.year : '0'}</span>\r\n        <div className={style.decorationBar}></div>\r\n      </div>\r\n\r\n      {/*  */}\r\n      <Card className={style.card} style={{ marginTop: '80px' }}>\r\n\r\n        {/*  */}\r\n        <Row>\r\n          {/*  */}\r\n          {leftSide()}\r\n          {/*  */}\r\n          <Col span={12} className={style.col}>\r\n            <p> 3</p>\r\n            {getRankList()}\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n\r\n      {/*  */}\r\n      <Card className={style.card}>\r\n        <Row>\r\n          {/*  */}\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row', cursor: 'pointer' }} onClick={() => { getStream('day') }}>\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621386037074\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"8490\" width=\"40\" height=\"40\"><path d=\"M408.222897 789.115586v-35.345655h217.15862v34.886621h33.474207V388.378483h-283.68331v400.737103h33.050483z m217.15862-237.779862h-217.15862v-130.824827h217.15862v130.824827z m0 170.301793h-217.15862v-138.169379h217.15862v138.169379z\" p-id=\"8491\"></path><path d=\"M917.645241 144.772414a70.62069 70.62069 0 0 1 70.62069 70.620689v681.489656a70.62069 70.62069 0 0 1-70.62069 70.620689H94.384552a70.62069 70.62069 0 0 1-70.62069-70.620689V215.393103a70.62069 70.62069 0 0 1 70.62069-70.620689h823.260689z m0 45.903448H94.384552a24.717241 24.717241 0 0 0-24.50538 21.362759l-0.211862 3.354482v681.489656a24.717241 24.717241 0 0 0 21.362759 24.505379l3.354483 0.211862h823.260689a24.717241 24.717241 0 0 0 24.50538-21.362759l0.211862-3.354482V215.393103a24.717241 24.717241 0 0 0-21.362759-24.505379l-3.354483-0.211862z\" p-id=\"8492\"></path><path d=\"M312.214069 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656276 3.389793l-0.247172-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724zM691.023448 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656275 3.389793l-0.247173-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724z\" p-id=\"8493\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}></b>&nbsp;&nbsp;\r\n                  {recentCount()}\r\n                </span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>{props.numFor ? props.numFor.todayRevenue.income : 0}</span>\r\n                    <span>{props.numFor ? props.numFor.todayRevenue.pay : 0}</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} style={{ color: 'gray' }} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/*  */}\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row', cursor: 'pointer' }} onClick={() => { getStream('week') }}>\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621385995771\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"7592\" width=\"40\" height=\"40\"><path d=\"M332.976552 790.49269c30.260966-56.002207 45.903448-129.447724 46.786207-219.418483V419.133793h278.174896v320.406069c0 11.934897-6.426483 18.361379-19.279448 18.361379-17.902345 0-37.181793-0.459034-57.838345-1.377103l8.721655 31.214345h59.215449c27.542069 0 41.772138-12.393931 41.772137-36.722759v-362.637241H346.747586v185.449931c-0.918069 78.494897-13.771034 143.218759-38.558896 194.171586l24.787862 22.49269z m298.372414-217.123311v-28.919172h-97.809656v-45.444414h82.626207v-27.542069h-82.626207v-38.099862h-32.132413v38.099862h-83.544276v27.542069H501.406897v45.444414h-97.315311v28.919172h227.222069z m-22.951725 149.186207v-114.299586h-185.485241v114.299586h185.449931z m-31.708689-28.919172h-121.644138v-57.379311h121.644138v57.379311z\" p-id=\"7593\"></path><path d=\"M917.645241 144.772414a70.62069 70.62069 0 0 1 70.62069 70.620689v681.489656a70.62069 70.62069 0 0 1-70.62069 70.620689H94.384552a70.62069 70.62069 0 0 1-70.62069-70.620689V215.393103a70.62069 70.62069 0 0 1 70.62069-70.620689h823.260689z m0 45.903448H94.384552a24.717241 24.717241 0 0 0-24.50538 21.362759l-0.211862 3.354482v681.489656a24.717241 24.717241 0 0 0 21.362759 24.505379l3.354483 0.211862h823.260689a24.717241 24.717241 0 0 0 24.50538-21.362759l0.211862-3.354482V215.393103a24.717241 24.717241 0 0 0-21.362759-24.505379l-3.354483-0.211862z\" p-id=\"7594\"></path><path d=\"M312.214069 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656276 3.389793l-0.247172-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724zM691.023448 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656275 3.389793l-0.247173-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724z\" p-id=\"7595\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}></b>\r\n                  {displayTime('week')}\r\n                </span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>{props.numFor ? props.numFor.weekRevenue.income : 0}</span>\r\n                    <span>{props.numFor ? props.numFor.weekRevenue.pay : 0}</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} style={{ color: 'gray' }} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/*  */}\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row', cursor: 'pointer' }} onClick={() => { getStream('month') }}>\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621385953741\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"6738\" width=\"40\" height=\"40\"><path d=\"M371.959172 792.328828c29.837241-39.017931 47.315862-88.134621 52.788966-147.809104h197.843862v91.347862c0 13.312-5.508414 20.197517-16.066207 20.197517-17.44331 0-36.722759-0.918069-57.838345-1.836137l9.18069 32.591448h59.215448c25.705931 0 39.017931-13.312 39.017931-39.476966V388.378483h-263.026758v224.008827c-0.918069 63.346759-16.066207 115.67669-46.362483 156.989793l25.246896 22.951725z m250.632828-291.945931h-195.972414v-80.331035h195.972414v80.331035z m0 113.381517h-195.972414v-82.626207h195.972414v82.626207z\" p-id=\"6739\"></path><path d=\"M917.645241 144.772414a70.62069 70.62069 0 0 1 70.62069 70.620689v681.489656a70.62069 70.62069 0 0 1-70.62069 70.620689H94.384552a70.62069 70.62069 0 0 1-70.62069-70.620689V215.393103a70.62069 70.62069 0 0 1 70.62069-70.620689h823.260689z m0 45.903448H94.384552a24.717241 24.717241 0 0 0-24.50538 21.362759l-0.211862 3.354482v681.489656a24.717241 24.717241 0 0 0 21.362759 24.505379l3.354483 0.211862h823.260689a24.717241 24.717241 0 0 0 24.50538-21.362759l0.211862-3.354482V215.393103a24.717241 24.717241 0 0 0-21.362759-24.505379l-3.354483-0.211862z\" p-id=\"6740\"></path><path d=\"M312.214069 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656276 3.389793l-0.247172-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724zM691.023448 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656275 3.389793l-0.247173-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724z\" p-id=\"6741\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}>{data.time ? data.time.month : 0}</b>\r\n                  {displayTime('month')}\r\n                </span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>{props.numFor ? props.numFor.monthRevenue.income : 0}</span>\r\n                    <span>{props.numFor ? props.numFor.monthRevenue.pay : 0}</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} style={{ color: 'gray' }} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/*  */}\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row', cursor: 'pointer' }} onClick={() => { getStream('year') }}>\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621385903669\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5695\" width=\"40\" height=\"40\"><path d=\"M715.702857 32.365714a23.771429 23.771429 0 0 1 23.515429 20.260572l0.256 3.510857V149.942857l210.944 0.036572a73.142857 73.142857 0 0 1 73.142857 73.142857v705.828571a73.142857 73.142857 0 0 1-73.142857 73.142857H97.755429a73.142857 73.142857 0 0 1-73.142858-73.142857V223.085714a73.142857 73.142857 0 0 1 73.142858-73.142857h201.837714V56.100571a23.771429 23.771429 0 0 1 47.286857-3.510857l0.256 3.510857V149.942857h344.795429V56.137143a23.771429 23.771429 0 0 1 23.771428-23.771429zM299.593143 197.485714l-201.874286 0.036572a25.6 25.6 0 0 0-25.344 22.125714l-0.219428 3.474286v705.828571a25.6 25.6 0 0 0 22.125714 25.380572l3.474286 0.219428h852.662857a25.6 25.6 0 0 0 25.380571-22.125714l0.219429-3.474286V223.085714a25.6 25.6 0 0 0-22.125715-25.380571l-3.474285-0.219429H739.474286v45.933715a23.771429 23.771429 0 0 1-47.286857 3.510857l-0.256-3.510857V197.485714H347.136v45.970286a23.771429 23.771429 0 0 1-47.286857 3.510857l-0.256-3.510857V197.485714z m112.274286 181.504l35.657142 6.656c-5.229714 18.066286-11.410286 34.706286-18.066285 50.870857h295.241143v33.28h-149.284572v76.068572h132.644572v32.804571h-132.644572v102.692572h164.498286v33.28h-164.498286v106.020571h-34.706286V714.605714H321.097143v-33.28h78.445714v-135.497143h141.202286v-76.068571h-127.890286a285.805714 285.805714 0 0 1-75.117714 84.626286l-22.820572-28.525715c48.018286-36.132571 80.347429-85.101714 96.987429-146.907428z m128.841142 199.68H433.737143v102.692572h106.971428v-102.692572z\" p-id=\"5696\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}></b>&nbsp;&nbsp;{data.time ? data.time.year : 2021}</span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>{props.numFor.yearArr.length !== 0 ? props.numFor.yearRevenue.income : '0.00'}</span>\r\n                    <span>{props.numFor.yearArr.length !== 0 ? props.numFor.yearRevenue.pay : '0.00'}</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} style={{ color: 'gray' }} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n        </Row>\r\n      </Card>\r\n\r\n      {/*  */}\r\n      <Card style={{ position: 'relative', overflow: 'hidden' }}>\r\n        {/*  */}\r\n        <Row>\r\n          <Col span={24} style={{ borderBottom: '1px solid rgb(248,248,248)', fontSize: '25px', fontWeight: '700', paddingBottom: '15px', paddingLeft: '-40px' }}> \r\n          <span style={{ float: 'right', textAlign: 'right' }}>{props.numFor ? props.numFor.sumAsset : 0}</span>\r\n          </Col>\r\n          <Col span={24} className={style.assetsCard}>\r\n            <Col span={24} className={style.classify} style={{ lineHeight: '30px', borderBottom: 0 }}>\r\n              <div className={style.stickBlock}></div>\r\n              <span style={{ color: '#777e88', fontWeight: '600' }}></span>\r\n              <span style={{ color: '#777e88', fontWeight: '600' }}>{props.numFor ? props.numFor.cashAsset : 0}</span>\r\n            </Col>\r\n            {/*  */}\r\n            <Col>\r\n              <div className={style.classify} style={{ borderBottom: 0 }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  \r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  {props.numFor ? props.numFor.cashAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n\r\n      {/*  */}\r\n      <Card style={{ position: 'relative', overflow: 'hidden' }}>\r\n        <Row>\r\n          <Col span={24} className={style.assetsCard}>\r\n            <Col span={24} className={style.classify} style={{ lineHeight: '30px', borderBottom: 0 }}>\r\n              <div className={style.stickBlock} style={{ backgroundColor: 'brown' }}></div>\r\n              <span style={{ color: '#777e88', fontWeight: '600' }}></span>\r\n              <span style={{ color: '#777e88', fontWeight: '600' }}>{props.numFor ? props.numFor.virtualAsset : 0}</span>\r\n            </Col>\r\n            {/*  */}\r\n            <Col>\r\n              <div className={style.classify} style={{ paddingBottom: '15px' }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  \r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  {props.numFor ? props.numFor.creditAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div className={style.classify} style={{ paddingBottom: '15px' }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  \r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  {props.numFor ? props.numFor.bushCardAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div className={style.classify} style={{ paddingBottom: '15px' }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  \r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  {props.numFor ? props.numFor.aliPayAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div className={style.classify} style={{ borderBottom: 0 }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  \r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  {props.numFor ? props.numFor.weChatAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n      {/*  */}\r\n      <Drawer\r\n        title={title()}\r\n        placement=\"right\"\r\n        closable={false}\r\n        onClose={onClose}\r\n        visible={data.visible}\r\n        width={'700px'}\r\n        headerStyle={{ margin: 0, padding: 0 }}\r\n        className={style.drawerBody}\r\n        destroyOnClose={true}\r\n      >\r\n        <div style={{ paddingTop: '80px', width: '700px', transform: 'translateX(0)', overflow: 'auto', height: '100%' }}>\r\n          <Switch>\r\n            <Route path='/home/setBalance' component={Calculator} />\r\n            <Route path='/home/stream' component={Stream} />\r\n          </Switch>\r\n        </div>\r\n      </Drawer>\r\n\r\n    </div >\r\n  )\r\n}\r\nconst mapStateForProps = (state) => {\r\n  return {\r\n    countData: state.countData,\r\n    numFor: state.numFor,\r\n    getRank: state.getRank,\r\n    ofs: state.ofs\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateForProps,\r\n  { getCountData, numberFormat, rank, getOFS }\r\n)(Index)","import { NUMFOR } from '../constant'\r\n\r\nexport const numberFormat = number => ({ type: NUMFOR, data: number })\r\n","import { RANK } from '../constant'\r\n\r\nexport const rank = category => ({ type: RANK, data: category })","import React, { useEffect, useState, useRef } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport style from './style.module.css'\r\n\r\nimport Year from '../IndexPage/drawerPage/stream/yearStream';\r\nimport getCountData from '../../redux/reducers/countData';\r\n\r\nlet end = new Date(),\r\n  year = end.getFullYear(),\r\n  start = new Date(year, 0, 1) - 0\r\n\r\nfunction Index (props) {\r\n  const [state, setState] = useState({ start: start, end: end.getTime() })\r\n  useEffect(() => {\r\n    console.log(123);\r\n    getStream()\r\n  }, [])\r\n  // \r\n  const getStream = () => {\r\n    let end = new Date(),\r\n      year = end.getFullYear(),\r\n      start = new Date(year, 0, 1) - 0\r\n    setState({ ...state, start, end: end.getTime() })\r\n    console.log(2);\r\n  }\r\n  let count = {\r\n    balance: 0,\r\n    income: 0,\r\n    pay: 0\r\n  }\r\n  let list = [...getCountData('getCountData', { type: 'getCountData', data: { list: 'all', demand: { date: [start, end] } } })]\r\n\r\n  // \r\n  const sumCount = () => {\r\n    count.balance = count.income = count.pay = 0\r\n    if (list.length && list[0].pay) {\r\n      list.map(item => {\r\n        if (item.pay) {\r\n          count.pay += item.count * 1\r\n        } else {\r\n          count.income += item.count * 1\r\n        }\r\n      })\r\n    }\r\n    count.balance = count.income - count.pay\r\n  }\r\n\r\n  return (\r\n    <div className={style.container}>\r\n      <div className={style.head}>\r\n      </div>\r\n      {/*  */}\r\n      <div className={style.countHead}>\r\n        <div className={style.count}><span>{count.balance.numberFormat(2)}</span><div style={{ textAlign: 'left' }}></div></div>\r\n        <div className={style.count}><span>{count.income.numberFormat(2)}</span><div style={{ textAlign: 'center' }}></div></div>\r\n        <div className={style.count}><span>{count.pay.numberFormat(2)}</span><div style={{ textAlign: 'right' }}></div></div>\r\n      </div>\r\n      {/*  */}\r\n      <div className={style.displayArea}>\r\n        <Year week={false} timeSeg={state}></Year>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default connect()(Index)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport style from './tagstyle.module.css'\r\n\r\nfunction Index () {\r\n  return (\r\n    <div className={style.container}>\r\n      <div className={style.head}>\r\n        <svg t=\"1621392769784\" className={style.icon} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"14745\" width=\"40\" height=\"40\">\r\n          <path d=\"M576.4 203.3c46.7 90.9 118.6 145.5 215.7 163.9 97.1 18.4 111.5 64.9 43.3 139.5s-95.6 162.9-82.3 265.2c13.2 102.3-24.6 131-113.4 86.2s-177.7-44.8-266.6 0-126.6 16-113.4-86.2c13.2-102.3-14.2-190.7-82.4-265.2-68.2-74.6-53.7-121.1 43.3-139.5 97.1-18.4 169-73 215.7-163.9 46.6-90.9 93.4-90.9 140.1 0z\" p-id=\"14746\" fill=\"#a52a2a\"></path>\r\n        </svg>\r\n        <div style={{ color: 'brown', fontSize: '15px' }}></div>\r\n      </div>\r\n      <div className={style.left}></div>\r\n      <div className={style.right}></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n)(Index)\r\n","import React, { useEffect, useRef } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport style from './style.module.css'\r\nimport Pay from './Pay/Pay';\r\nimport Tag from './tag'\r\nimport globalContext from '../../globalContext'\r\n\r\nimport { Tabs } from 'antd';\r\n\r\nconst Provider = globalContext.Provider;\r\n\r\nlet mainAnimation = {}\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Index () {\r\n  const mainRef = useRef(null)\r\n  let classn = ''\r\n  useEffect(() => {\r\n    classn = mainRef.current.className\r\n  }, [])\r\n  // main\r\n  const mainOut = () => {\r\n    mainRef.current.className += ` ${style.mainMoveOut}`\r\n  }\r\n  // main \r\n  const mainIn = () => {\r\n    mainRef.current.className += ` ${style.mainMoveIn}`\r\n    // return\r\n    setTimeout(() => {\r\n      mainRef.current.className = classn\r\n    }, 100)\r\n  }\r\n  // mainProvider\r\n  mainAnimation = {\r\n    mainOut,\r\n    mainIn\r\n  }\r\n  return (\r\n    <Provider value={mainAnimation}>\r\n      <div ref={mainRef} className={style.handleHead}>\r\n        {/*  */}\r\n        <div className={style.head}>\r\n          <Tag></Tag>\r\n          <span style={{ fontSize: '25px', fontWeight: 700 }}></span>\r\n        </div>\r\n        <div className={style.container}>\r\n          {/* Tabs */}\r\n          <Tabs defaultActiveKey=\"payout\" centered animated style={{ paddingTop: '80px', backgroundColor: 'rgb(248,248,248)' }}>\r\n            <TabPane tab={<span style={{ fontWeight: 400, fontSize: '20px' }}></span>} key=\"payout\">\r\n              <Pay pay={true}></Pay>\r\n            </TabPane>\r\n            <TabPane tab={<span style={{ fontWeight: 400, fontSize: '20px' }}></span>} key=\"income\">\r\n              <Pay pay={false}></Pay>\r\n            </TabPane>\r\n          </Tabs>\r\n        </div>\r\n      </div>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n)(Index)\r\n","import React, { useEffect, useState, useRef } from 'react'\r\nimport globalContext from '../../globalContext'\r\nimport { Redirect, Switch, Link, Route, useHistory } from 'react-router-dom';\r\nimport Head from '../Head/Head';\r\nimport IndexPage from '../IndexPage/IndexPage';\r\nimport List from '../List/List';\r\nimport AddACount from '../AddACount/AddACount';\r\nimport style from './style.module.css'\r\nimport { Layout, Menu, Button } from 'antd';\r\nimport { connect } from 'react-redux';\r\nconst { Sider, Content } = Layout;\r\nconst Provider = globalContext.Provider;\r\nlet mainAnimation = {}\r\nfunction Index () {\r\n  const mainRef = useRef(null)\r\n  // main\r\n  const mainOut = () => {\r\n    // mainRef.current.className += ` ${style.mainMoveOut}`\r\n  }\r\n  // main \r\n  const mainIn = () => {\r\n    // mainRef.current.className += ` ${style.mainMoveIn}`\r\n    // setTimeout(() => {\r\n    //   mainRef.current.className = style.content\r\n    // }, 100)\r\n  }\r\n  // mainProvider\r\n  mainAnimation = {\r\n    mainOut,\r\n    mainIn\r\n  }\r\n  // history\r\n  const [items, setData] = useState('/')\r\n  const history = useHistory()\r\n  // location\r\n  useEffect(() => {\r\n    // \r\n    history.listen(historyLocation => {\r\n      setData(historyLocation.pathname)\r\n    })\r\n  }, [history])\r\n\r\n  const addACount = () => {\r\n    history.push('/addACount')\r\n  }\r\n\r\n  return (\r\n    <Provider value={mainAnimation}>\r\n      <div className={style.container}>\r\n        <Layout>\r\n          {/*  */}\r\n          <Sider className={style.side} style={{ position: 'fixed', height: '100%' }}>\r\n            <Head style={{ position: 'fixed' }}></Head>\r\n            <Menu\r\n              defaultSelectedKeys={items}\r\n              mode=\"inline\"\r\n              className={style.font}\r\n            >\r\n              <Menu.Item key=\"/\" className={style.font}><Link to='/home'></Link></Menu.Item>\r\n              <Menu.Item key=\"/list\" className={style.font}><Link to='/list'></Link></Menu.Item>\r\n              <Menu.Item key=\"11\" className={style.font}></Menu.Item>\r\n            </Menu>\r\n            <Button type='danger' className={style.addButoon} onClick={addACount}></Button>\r\n          </Sider>\r\n\r\n          {/*  */}\r\n          <Content className={style.content} ref={mainRef}>\r\n            {/*  */}\r\n            <Switch>\r\n              <Route path=\"/home\" component={IndexPage} />\r\n              <Route path=\"/list\" component={List} />\r\n              <Route path=\"/addACount\" component={AddACount} />\r\n              <Redirect to='/home' />\r\n            </Switch>\r\n          </Content>\r\n        </Layout>\r\n      </div >\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default connect()(Index)","import React, { Component } from 'react'\r\nimport Home from './Containers/Home/Home'\r\nimport { withRouter } from 'react-router-dom'\r\nimport './global.css'\r\n\r\nclass App extends Component {\r\n  render () {\r\n    return (\r\n      <div>\r\n        <Home></Home>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(App)\r\n","import on_demand from './countData'\r\nimport { OFS } from '../constant'\r\nconst initState = {\r\n  count: 0,\r\n  category: [''],\r\n  date: 0,\r\n  account: '',\r\n  pay: true\r\n}\r\nlet allCount = JSON.parse(localStorage.getItem('allCount')) || [initState] // \r\n\r\n// statelistlist\r\nconst distList = (item) => {\r\n  let condition = { type: 'getCountData', data: { demand: {}, list: 'all' } }\r\n  let nowMsec = new Date().getTime()\r\n  let timeStr = (msecNum) => {\r\n    return {\r\n      year: new Date(msecNum).getFullYear(),\r\n      month: new Date(msecNum).getMonth(),\r\n      day: new Date(msecNum).getDate()\r\n    }\r\n  }\r\n  // [time-segment,time],segment\r\n  let targetMsec = (time, segment) => {\r\n    let segTime = timeStr(time)\r\n    // 00:00:00\r\n    segTime = new Date(segTime.year, segTime.month, segTime.day)\r\n    return [segTime - (segment - 1) * 86400000, time]\r\n  }\r\n  switch (item) {\r\n    case 'today':\r\n      condition.data.demand.date = targetMsec(nowMsec, 1)\r\n      return on_demand([], condition)\r\n    case 'week':\r\n      condition.data.demand.date = targetMsec(nowMsec, 7)\r\n      return on_demand([], condition)\r\n    case 'month':\r\n      let thisMonthDays = timeStr(nowMsec).day\r\n      condition.data.demand.date = targetMsec(nowMsec, thisMonthDays)\r\n      return on_demand([], condition)\r\n    case 'year':\r\n      let thisYear = timeStr(nowMsec).year\r\n      condition.data.demand.date = [new Date(thisYear, 1, 1).getTime(), nowMsec]\r\n      return on_demand(allCount, condition)\r\n  }\r\n}\r\n// \r\nconst revenue = (list) => {\r\n  let arr = list || []\r\n  return arr.reduce((pre, cur) => {\r\n    if (cur.pay) {\r\n      pre.pay += cur.count * 1\r\n    } else {\r\n      pre.income += cur.count * 1\r\n    }\r\n    return pre\r\n  }, { pay: 0, income: 0 })\r\n}\r\n// \r\nconst calcuAsset = (ofs, cate) => {\r\n  return ofs[`${cate}Revenue`]['income'] - ofs[`${cate}Revenue`]['pay']\r\n}\r\n\r\nexport default function getOFS (pre = [null], action) {\r\n  // \r\n  let ofs = {}\r\n  const { type, data } = action\r\n  // \r\n  if (type === OFS) {\r\n    // list\r\n    let list = data || []\r\n    // \r\n    ofs.payArr = list.filter(item => {\r\n      return item['pay']\r\n    })\r\n    // \r\n    ofs.incomeArr = list.filter(item => {\r\n      return !item['pay']\r\n    })\r\n    // \r\n    ofs.todayArr = distList('today')\r\n    // \r\n    ofs.weekArr = distList('week')\r\n    // \r\n    ofs.monthArr = distList('month')\r\n    // \r\n    ofs.yearArr = distList('year')\r\n    // \r\n    ofs.cashArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '' }, list: 'all' } })\r\n    // \r\n    ofs.creditArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '' }, list: 'all' } })\r\n    // \r\n    ofs.bushCardArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '' }, list: 'all' } })\r\n    // \r\n    ofs.aliPayArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '' }, list: 'all' } })\r\n    // \r\n    ofs.weChatArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '' }, list: 'all' } })\r\n    // \r\n    ofs.todayRevenue = revenue(ofs.todayArr)\r\n    // \r\n    ofs.weekRevenue = revenue(ofs.weekArr)\r\n    // \r\n    ofs.monthRevenue = revenue(ofs.monthArr)\r\n    // \r\n    ofs.yearRevenue = revenue(ofs.yearArr)\r\n    // \r\n    ofs.cashRevenue = revenue(ofs.cashArr)\r\n    // \r\n    ofs.creditRevenue = revenue(ofs.creditArr)\r\n    // \r\n    ofs.bushCardRevenue = revenue(ofs.bushCardArr)\r\n    // \r\n    ofs.aliPayRevenue = revenue(ofs.aliPayArr)\r\n    // \r\n    ofs.weChatRevenue = revenue(ofs.weChatArr)\r\n    // \r\n    ofs.cashAsset = calcuAsset(ofs, 'cash')\r\n    // \r\n    ofs.creditAsset = calcuAsset(ofs, 'credit')\r\n    // \r\n    ofs.bushCardAsset = calcuAsset(ofs, 'bushCard')\r\n    // \r\n    ofs.aliPayAsset = calcuAsset(ofs, 'aliPay')\r\n    // \r\n    ofs.weChatAsset = calcuAsset(ofs, 'weChat')\r\n    // \r\n    ofs.sumAsset = ofs.cashAsset + ofs.creditAsset + ofs.bushCardAsset + ofs.aliPayAsset + ofs.weChatAsset\r\n    // \r\n    ofs.virtualAsset = ofs.sumAsset - ofs.cashAsset\r\n    return ofs\r\n  }\r\n  return pre\r\n}","import { NUMFOR } from '../constant'\r\n// \r\n// c\r\n// d,'.',\r\n// t\r\nconst initState = {\r\n  todayArr: [],\r\n  // \r\n  todayArr: [],\r\n  // \r\n  weekArr: [],\r\n  // \r\n  monthArr: [],\r\n  // \r\n  yearArr: [],\r\n  // \r\n  cashArr: [],\r\n  // \r\n  creditArr: [],\r\n  // \r\n  bushCardArr: [],\r\n  // \r\n  aliPayArr: [],\r\n  // \r\n  weChatArr: [],\r\n  // \r\n  todayRevenue: 0,\r\n  // \r\n  weekRevenue: 0,\r\n  // \r\n  monthRevenue: 0,\r\n  // \r\n  yearRevenue: 0,\r\n  // \r\n  cashRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // \r\n  creditRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // \r\n  bushCardRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // \r\n  aliPayRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // \r\n  weChatRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // \r\n  cashAsset: 0,\r\n  // \r\n  creditAsset: 0,\r\n  // \r\n  bushCardAsset: 0,\r\n  // \r\n  aliPayAsset: 0,\r\n  // \r\n  weChatAsset: 0,\r\n  // \r\n  sumAsset: 0,\r\n  // \r\n  virtualAsset: 0,\r\n}\r\nNumber.prototype.numberFormat = function (c, d, t) {\r\n  var n = this,\r\n    c = isNaN(c = Math.abs(c)) ? 2 : c,\r\n    d = d == undefined ? \".\" : d,\r\n    t = t == undefined ? \",\" : t,\r\n    s = n < 0 ? \"-\" : \"\",\r\n    i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),\r\n    j = (j = i.length) > 3 ? j % 3 : 0;\r\n  return s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : \"\");\r\n};\r\n\r\nexport default function numberFormat (pre = initState, action) {\r\n  const { type, data } = action\r\n  if (type === NUMFOR) {\r\n    const deepClone = (obj, flag = false) => {  // \r\n      if (typeof obj !== 'object' || obj === null) {\r\n        if (flag) {\r\n          let number = obj * 1\r\n          return number.numberFormat(2)\r\n        } else {\r\n          return obj\r\n        }\r\n      }\r\n      if (Array.isArray(obj)) {\r\n        var clone = []\r\n      } else {\r\n        var clone = {}\r\n      }\r\n      for (let key in obj) {\r\n        if (key.indexOf('Asset') >= 0 || key === 'pay' || key === 'income' || key === 'count') {\r\n          clone[key] = deepClone(obj[key], true)\r\n        } else {\r\n          clone[key] = deepClone(obj[key], false)\r\n        }\r\n      }\r\n      return clone\r\n    }\r\n    return { ...pre, ...deepClone(data, false) }\r\n  }\r\n  return pre\r\n}\r\n","import { RANK } from '../constant'\r\n\r\n// action\r\n/* action.data{\r\n  order:false,\r\n  rank: 'juniorcategory/secondarycategory/account/member/', // \r\n  category:'date/payCount/incomeCount'  //\r\n} */\r\n\r\n// \r\nArray.prototype.mySort = function (cate, order) {\r\n  let list = this\r\n  if (cate.indexOf('pay') >= 0 || cate.indexOf('income') >= 0) {\r\n    cate = 'count'\r\n  }\r\n  list.sort((a, b) => {\r\n    if (order) {\r\n      return a[cate] - b[cate]\r\n    } else {\r\n      return b[cate] - a[cate]\r\n    }\r\n  })\r\n}\r\n// \r\nconst rankSort = (list, n, data) => {  // n1juniorcategory2secondarycategory     dataorder\r\n  list = list.reduce((pre, cur) => {  // \r\n    let x = cur.category.split('>')[n - 1]\r\n    if (pre[x]) {\r\n      pre[x].push(cur)\r\n    } else {\r\n      pre[x] = [cur]\r\n    }\r\n    return pre\r\n  }, {})\r\n  let arr = []\r\n  for (let key in list) {  // \r\n    let a = {\r\n      name: key,\r\n      obj: list[key],\r\n      sum: list[key].reduce((pre, cur) => {\r\n        return pre + cur.count * 1\r\n      }, 0)\r\n    }\r\n    arr.push(a)\r\n  }\r\n  arr.mySort('sum', data.demand.order)\r\n  return arr\r\n}\r\n// account member\r\nconst amrankSort = (list, data) => {\r\n  list = list.reduce((pre, cur) => {  // \r\n    if (pre[cur[data.demand.rank]]) {\r\n      pre[cur[data.demand.rank]].push(cur)\r\n    } else {\r\n      pre[cur[data.demand.rank]] = [cur]\r\n    }\r\n    return pre\r\n  }, {})\r\n  let arr = []\r\n  for (let key in list) {  // \r\n    let a = {\r\n      name: key,\r\n      obj: list[key],\r\n      sum: list[key].reduce((pre, cur) => {\r\n        return pre + cur.count * 1\r\n      }, 0)\r\n    }\r\n    arr.push(a)\r\n  }\r\n  arr.mySort('sum', data.demand.order)\r\n  return arr\r\n}\r\n\r\nexport default function rank (preState = [], action) {\r\n  const { type, data } = action\r\n  if (type === RANK) {\r\n    let { list } = data\r\n    if (data.list === 'all') {  // listall\r\n      list = JSON.parse(localStorage.getItem('allCount')) || []\r\n    }\r\n    let cat = data.demand.category\r\n    switch (cat) {\r\n      case 'date':  // \r\n        list.mySort(cat, data.demand.order)\r\n        break\r\n      case 'payCount':  // \r\n        list = list.filter(item => {   // \r\n          return item.pay\r\n        })\r\n        list.mySort(cat, data.demand.order)  // order\r\n        break\r\n      case 'incomeCount':  // \r\n        list = list.filter(item => {    // \r\n          return !item.pay\r\n        })\r\n        list.mySort(cat, data.demand.order)\r\n        break\r\n    }\r\n    switch (data.demand.rank) {\r\n      case 'juniorcategory':  // \r\n        list = rankSort(list, 1, data)\r\n        break\r\n      case 'secondarycategory':  // \r\n        list = rankSort(list, 2, data)\r\n        break\r\n      default:\r\n        list = amrankSort(list, data)\r\n        break\r\n    }\r\n    return [...list]\r\n  }\r\n  return preState\r\n}","/* \r\n  reducerreducer\r\n*/\r\n//combineReducersreducer\r\nimport { combineReducers } from 'redux'\r\n// reducer\r\nimport saveCount from './saveCount'\r\nimport countData from './countData'\r\nimport ofs from './oFS'\r\nimport numFor from './numberFomat'\r\nimport getRank from './rank'\r\n\r\n\r\n//reducerreducer\r\nexport default combineReducers({\r\n  saveCount,\r\n  countData,\r\n  ofs,\r\n  numFor,\r\n  getRank\r\n})\r\n","import { SAVECOUNT, EDITCOUNT, SAVEASTEMP, DELETECOUNT } from '../constant'\r\nimport randomNum from 'number-random'\r\n// \r\n// data = {\r\n//   id: 0,\r\n//   count: 0,\r\n//   pay: true,\r\n//   category: [''],\r\n//   account: ' ',\r\n//   date: (new Date()).getTime(),\r\n//   member: '()',\r\n//   remark: ''\r\n// }\r\n\r\nexport default function saveCountReducer (preState, action) {\r\n  let allCount = JSON.parse(localStorage.getItem('allCount')) // \r\n  const { type, data } = action\r\n  switch (type) {\r\n    case SAVECOUNT:\r\n      if (!allCount) {                                              // \r\n        localStorage.setItem('allCount', JSON.stringify([data]))\r\n      } else {\r\n        allCount = [...allCount, data]                               // \r\n        localStorage.setItem('allCount', JSON.stringify(allCount))\r\n      }\r\n      return null\r\n    case SAVEASTEMP:\r\n      let allTemp = JSON.parse(localStorage.getItem('allTemp')) // \r\n      if (!allTemp) {                                              // \r\n        localStorage.setItem('allTemp', JSON.stringify([data]))\r\n      } else {\r\n        allTemp = [...allTemp, data]                               // \r\n        localStorage.setItem('allTemp', JSON.stringify(allTemp))\r\n      }\r\n      return null\r\n    case EDITCOUNT:\r\n      let editCount = {}\r\n      let target = [...allCount.map(item => {\r\n        if (item.id === data.id) {\r\n          data.id = new Date().getTime()\r\n          editCount = item = { ...data }\r\n        }\r\n        return item\r\n      })]\r\n      localStorage.setItem('allCount', JSON.stringify(target))\r\n      return editCount\r\n    case DELETECOUNT:\r\n      let deleteCount = {}\r\n      let deleted = allCount.filter(item => {\r\n        if (item.id !== data * 1) {\r\n          deleteCount = { ...item }\r\n        }\r\n        return item.id !== data * 1\r\n      })\r\n      localStorage.setItem('allCount', JSON.stringify(deleted))\r\n      return { ...deleteCount }\r\n  }\r\n  return null\r\n}","import { createStore, applyMiddleware } from 'redux'\r\n\r\n//redux-thunkaction\r\nimport thunk from 'redux-thunk'\r\n//reducer\r\nimport reducer from './reducers'\r\n\r\n\r\nexport default createStore(reducer, applyMiddleware(thunk))","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { HashRouter, BrowserRouter } from 'react-router-dom'\r\nimport store from './redux/store'\r\nimport { Provider } from 'react-redux'\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <Provider store={store}>\r\n      <React.StrictMode>\r\n        <App />\r\n      </React.StrictMode>\r\n    </Provider>\r\n  </HashRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1juac\",\"line\":\"style_line__3s0t0\",\"line2\":\"style_line2__3TT8R\",\"row\":\"style_row__2L_S9\",\"col\":\"style_col__2SKiI\",\"middle\":\"style_middle__3TTBI\",\"switchDown\":\"style_switchDown__3IUgt\",\"switchTop\":\"style_switchTop__1KNSf\",\"animationUp\":\"style_animationUp__3XF5j\",\"rotateUp\":\"style_rotateUp__1GbX-\",\"animationDown\":\"style_animationDown__8J9sn\",\"rotateDown\":\"style_rotateDown__2AY0O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1AXBL\",\"head\":\"style_head__WH0to\",\"count\":\"style_count__ld2UQ\",\"site_calendar_demo_card\":\"style_site_calendar_demo_card__2uk0W\",\"remark\":\"style_remark__fzcn-\",\"bottonContainer\":\"style_bottonContainer__3Ca3R\",\"conserveButoon\":\"style_conserveButoon__3ZTLH\",\"conserveAsTempButoon\":\"style_conserveAsTempButoon__qi86Y\",\"drawerButoon\":\"style_drawerButoon__2PU4V\",\"containerMove\":\"style_containerMove__n7N79\",\"drawerBody\":\"style_drawerBody__2eNoU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__3ZEpF\",\"dayContain\":\"style_dayContain__1FRB8\",\"dateWeek\":\"style_dateWeek__1EmeD\",\"detail\":\"style_detail__2PoUy\",\"headBar\":\"style_headBar__HJj0C\",\"sumCount\":\"style_sumCount__2PLp8\",\"dateSec\":\"style_dateSec__1dMYi\",\"weekSec\":\"style_weekSec__2vhbM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__3UtLb\",\"side\":\"style_side__32GId\",\"content\":\"style_content__LqKoe\",\"addButoon\":\"style_addButoon__fZi1f\",\"font\":\"style_font__2qYe8\",\"site-layout-background\":\"style_site-layout-background__34UJi\",\"white\":\"style_white__3nl5R\",\"mainMoveOut\":\"style_mainMoveOut__jqRdz\",\"mainMoveIn\":\"style_mainMoveIn__1wQGx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__rQsNU\",\"head\":\"style_head__2fkuf\",\"count\":\"style_count__3gN8W\",\"stream\":\"style_stream__3HzFP\",\"progress\":\"style_progress__3vTAp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__-XmPS\",\"card\":\"style_card__IIw1T\",\"row\":\"style_row__16is-\",\"head\":\"style_head__1kUXs\",\"headname\":\"style_headname__i25-G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1PBxV\",\"head\":\"style_head__1Gg6I\",\"countHead\":\"style_countHead__20Efs\",\"count\":\"style_count__HPlMU\",\"displayArea\":\"style_displayArea__6jpFx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2_j-1\",\"handleHead\":\"style_handleHead__2MdiS\",\"head\":\"style_head__2aEue\",\"mainMoveOut\":\"style_mainMoveOut__jHcn3\",\"mainMoveIn\":\"style_mainMoveIn__3Zy7m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"tagstyle_container__2gQ99\",\"head\":\"tagstyle_head__2NIYv\",\"icon\":\"tagstyle_icon__21QLo\",\"left\":\"tagstyle_left__1NT2R\"};"],"sourceRoot":""}