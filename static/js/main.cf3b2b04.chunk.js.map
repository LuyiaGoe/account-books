{"version":3,"sources":["Containers/Calculator/style.module.css","Containers/Head/style.module.css","Containers/Calculator/index.jsx","Containers/IndexPage/style.module.css","globalContext.js","Containers/Head/Head.jsx","redux/constant.js","Containers/IndexPage/IndexPage.jsx","redux/actions/countData.js","redux/actions/numberFomat.js","redux/actions/rank.js","redux/actions/oFS.js","Containers/List/List.jsx","Containers/AddACount/Cascader/Cascader.jsx","Containers/AddACount/Pay/Pay.jsx","redux/actions/saveCount.js","Containers/AddACount/tag.jsx","Containers/AddACount/AddACount.jsx","Containers/Home/Home.jsx","App.jsx","redux/reducers/saveCount.js","redux/reducers/countData.js","redux/reducers/oFS.js","redux/reducers/numberFomat.js","redux/reducers/rank.js","redux/reducers/index.js","redux/store.js","index.js","Containers/AddACount/Cascader/style.module.css","Containers/AddACount/Pay/style.module.css","Containers/Home/style.module.css","Containers/AddACount/style.module.css","Containers/AddACount/tagstyle.module.css"],"names":["module","exports","index","props","outPut","result","toString","indexOf","pointFlag","state","wrench","display","initialNum","getResult","arrHead","calculator","copyArr","unshift","eval","splice","length","join","setState","order","section","getValue","e","target","value","innerText","setTimeout","closeCalcu","tail","push","arrPopIsOpe","pop","popEl","a","x","numberArr","this","className","style","container","onClick","margin","span","flexDirection","justifyContent","type","background","map","item","randomNum","resultBotton","Component","createContext","Index","main","SAVECOUNT","SAVEASTEMP","GETCOUNTDATA","OFS","NUMFOR","RANK","connect","console","log","countData","numFor","getRank","ofs","getCountData","demand","data","numberFormat","number","rank","category","getOFS","countList","kap","name","sum","color","useState","setData","useEffect","list","Date","getTime","msec","day2","setTime","time","year","getFullYear","month","getMonth","date","getDate","fresh","getRankList","displayTime","now","last","slice","filter","percent","textColor","showProgress","fontWeight","showInfo","size","head","big","decorationBar","card","marginTop","col","payOut","width","overflow","payCountSum","monthRevenue","pay","RightOutlined","icon","income","betweenText","id","float","marginRight","t","viewBox","version","xmlns","p-id","height","d","classify","fontSize","lineHeight","text","recentText","todayArr","split","recentCount","count","lamination","todayRevenue","calendarArray","weekRevenue","yearArr","yearRevenue","position","borderBottom","paddingBottom","paddingLeft","textAlign","sumAsset","assetsCard","stickBlock","cashAsset","backgroundColor","virtualAsset","creditAsset","bushCardAsset","aliPayAsset","weChatAsset","addAFlag","obj","rightCol","useRef","leftCol","output","arr","selectedLeft","arrr","selectedRight","change","all","Array","i","arra","arrb","edit","chara","ref","targetArr","Math","abs","random","addAnimation","action","animationDown","animationUp","message","warning","current","bordered","row","middle","line","line2","switchDown","right","left","switchTop","Panel","payCat","incomeCat","AccountCat","numberCat","initialState","receivePayCat","receiveAccountCat","dateStr","receiveNumberCat","tempVisible","calcuVisible","saveCount","saveAsTemp","Consumer","useContext","globalContext","info","account","member","remark","onPanelChange","_d","str","padding","inputRef","tempInputRef","conserveTemp","conserve","notification","cloneObj","deepClone","isArray","key","tempName","onClose","collapseList","accordion","header","showArrow","Cascader","site_calendar_demo_card","fullscreen","onChange","s","verification","mainIn","title","danger","mainOut","onKeyDown","keyCode","placeholder","bottonContainer","conserveButoon","conserveAsTempButoon","placement","closable","visible","headerStyle","drawerBody","paddingTop","whiteSpace","drawerButoon","Calculator","fill","Provider","mainAnimation","TabPane","mainRef","classn","mainMoveOut","mainMoveIn","handleHead","defaultActiveKey","centered","animated","tab","Pay","Sider","Content","items","history","useHistory","listen","historyLocation","pathname","side","defaultSelectedKeys","mode","font","Item","to","addButoon","content","path","component","IndexPage","exact","List","AddACount","App","Home","withRouter","initState","allCount","JSON","parse","localStorage","getItem","on_demand","keys","Object","reduce","pre","cur","distList","condition","nowMsec","targetMsec","segment","msecNum","segTime","day","countDate","preState","timeStr","thisMonthDays","thisYear","revenue","calcuAsset","cate","Number","prototype","c","n","isNaN","undefined","String","parseInt","toFixed","j","substr","replace","mySort","sort","b","rankSort","amrankSort","combineReducers","setItem","stringify","allTemp","payArr","incomeArr","weekArr","monthArr","cashArr","creditArr","bushCardArr","aliPayArr","weChatArr","cashRevenue","creditRevenue","bushCardRevenue","aliPayRevenue","weChatRevenue","flag","clone","cat","createStore","reducer","applyMiddleware","thunk","ReactDOM","render","store","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cf3b2b04.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2fsMS\",\"display\":\"style_display__3pIVn\",\"resultBotton\":\"style_resultBotton__jKRXv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__3GSmJ\"};","import React, { Component } from 'react';\r\nimport { Button, Row, Col } from 'antd';\r\nimport style from './style.module.css'\r\nimport randomNum from 'number-random'\r\n\r\nclass index extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.numberArr = [1, 4, 7]\r\n    this.calculator = []\r\n    this.wrench = 0\r\n    // 计算时显示正在手打的数值\r\n    this.section = ''\r\n    // 计算并输出值\r\n    this.result = this.props.initialNum\r\n    // 数位\r\n    this.order = 0\r\n    // 计算器数组头部\r\n    this.arrHead = this.calculator[0]\r\n    // 计算器数组尾部是否为运算符\r\n    this.arrPopIsOpe = false\r\n  }\r\n  componentDidUpdate () {\r\n    this.arrHead = this.calculator[0]\r\n    this.arrPopIsOpe = this.calculator[this.calculator.length - 1] === '-' || this.calculator[this.calculator.length - 1] === '+'\r\n  }\r\n  // 向父组件传值\r\n  outPut = () => {\r\n    this.props.outPut(this.result)\r\n    if (this.result.toString().indexOf('.') !== -1) {  // 查看结果是否有小数点\r\n      this.pointFlag = true  // 有就禁用下一次的小数点\r\n    }\r\n  }\r\n  state = {\r\n    // 计算器扳手wrench，碰到+、-时 +1 ，碰到 = 是为2，当为2时进行计算\r\n    wrench: 0,\r\n    // 计算器显示值\r\n    display: this.props.initialNum,\r\n    // 小数点flag\r\n    pointFlag: false\r\n  }\r\n  getResult = () => {\r\n    this.arrHead = this.calculator[0] // 获取计算器数组第一个元素，用于判断是否头部为运算符\r\n    let copyArr = this.calculator\r\n    if (this.arrHead === '-' || this.arrHead === '+') { // 判断头部是否为运算符\r\n      copyArr.unshift(0) // 是就前置一个0\r\n    }\r\n    this.result = eval(copyArr.splice(0, copyArr.length).join(''))\r\n    this.setState({ ...this.state, display: this.result })\r\n    this.order = 0\r\n    this.wrench = 0\r\n    this.section = ''        // 切换并且下次输入数值为另一个新数\r\n    this.outPut()\r\n    this.pointFlag = false\r\n  }\r\n  // 获取到摁下值\r\n  getValue = (e) => {\r\n    if (e.target.toString() !== '[object HTMLSpanElement]' && e.target.toString() !== '[object HTMLButtonElement]') return\r\n    // 获取值存入value\r\n    let value = e.target.innerText\r\n    // 根据输入值判断\r\n    switch (value) {\r\n      case 'C':   // 清除值，并初始化计算器\r\n        this.setState({ ...this.state, display: 0 })\r\n        this.calculator = []\r\n        this.pointFlag = false\r\n        this.wrench = 0\r\n        this.section = ''\r\n        this.order = 0\r\n        break;\r\n      case 'OK':   // 传出显示数值，并退出计算器\r\n        this.result = this.state.display\r\n        this.outPut()\r\n        setTimeout(() => { //疑似一个bug，同步任务将不会更新父组件的金额，异步任务才行\r\n          this.props.closeCalcu()\r\n        }, 0)\r\n        break;\r\n      case '=':   // 计算值，并将扳手归零\r\n        let tail = this.calculator[this.calculator.length - 1]\r\n        if (tail === '-' || tail === '+') { // 防止计算器中仅有一个数字和一个运算符\r\n          this.calculator.push(0)         // 为此，在数组后面push一个0进去\r\n        }\r\n        this.getResult()\r\n        this.calculator = [this.result]\r\n        break;\r\n      case '+':   // 加号运算\r\n        this.calculator.push(value)  // 计算器数组中推入加号\r\n        this.wrench++     // 扳手增1\r\n        this.section = ''     // 加号会更新计算器下次输入时的显示值,但不会将值传给display渲染\r\n        this.setState({ ...this.state })\r\n        this.pointFlag = false\r\n        this.order = 0\r\n        break;\r\n      case '-':   // 减号运算\r\n        this.calculator.push(value)\r\n        if (this.calculator.length) {  // 此处用于判断初始值为负的情况\r\n          this.wrench++     // 不为初始值,扳手才加一\r\n        }\r\n        this.section = ''\r\n        this.setState({ ...this.state })\r\n        this.pointFlag = false\r\n        this.order = 0\r\n        break;\r\n      case '.':\r\n        if (!this.pointFlag) {   // 防止一个数字小数点该出现两次\r\n          this.pointFlag = true  // 关闭标识防止添加两个小数点\r\n          this.section += value\r\n          if (this.section.length === 1) {\r\n            this.section = 0 + value // 为初始值为小数的情况加上0这个字\r\n          }\r\n          if (!this.arrPopIsOpe) {\r\n            this.calculator.pop()\r\n          }\r\n          this.calculator.push(this.section)\r\n          this.setState({ ...this.state, display: this.section ? this.section : '0' })\r\n        }\r\n        break;\r\n      default:\r\n        if (this.order >= 9) { break; }//超过9位数则忽略\r\n        this.section += value\r\n        if (this.section[0] === '0' && value !== '0' && this.section.length <= 2) {  // 如果输入的运算数字第一位为0且不是小数的话，防止八进制错误\r\n          this.section = value\r\n          this.setState({ ...this.state, display: this.section })\r\n          break;\r\n        }\r\n        this.order++\r\n        if (this.calculator[0] === this.result.toString() && this.calculator[0] !== this.section && this.calculator.length === 1) {\r\n          this.calculator = []\r\n        }\r\n        let popEl = this.calculator.pop()\r\n        if (this.arrPopIsOpe) {  // 将section推入calculator前的判断,是运算符号的话要重新推回去\r\n          this.calculator.push(popEl)\r\n        }\r\n        this.calculator.push(this.section)\r\n        this.setState({ ...this.state, display: this.section ? this.section : '0' })\r\n    }\r\n    if (this.wrench >= 2) {     // 扳手触发运算\r\n      let a = this.calculator.pop()  // 将计算器数组最后一个运算符弹出\r\n      if (this.calculator[this.calculator.length - 1] === '-' || this.calculator[this.calculator.length - 1] === '+' && this.calculator.length === 2) {  // 如果弹出一个运算符以后，数组尾部还有一个运算符，则自加/自减\r\n        let x = this.calculator.pop()\r\n        this.calculator = [...this.calculator, x, ...this.calculator]\r\n      }\r\n      if (this.calculator.length === 1) return\r\n      this.getResult()\r\n      this.calculator = [this.result, a]  // 计算器数组根据结果重新初始化\r\n      this.wrench = 1   // 扳手初始化为1，因为上一行传入了一个运算符\r\n    }\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={style.container} onClick={this.getValue} >\r\n        <div className={style.display}>{this.state.display}</div>\r\n        <Row style={{ margin: 'auto 20px' }}>\r\n          <Col span={18} style={{ display: 'flex', flexDirection: 'column-reverse' }}>\r\n            <Col span={24} style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around' }}>\r\n              <Button type='primary' style={{ background: 'linear-gradient(to bottom,#f2b452,#d78437)' }}>C</Button><Button type='primary'>0</Button><Button type='primary'>.</Button>\r\n            </Col>\r\n            {\r\n              this.numberArr.map((item) => {\r\n                return (\r\n                  <Col span={24} style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around' }} key={randomNum(0, 10, true)}>\r\n                    <Button type='primary'>{item}</Button><Button type='primary'>{item + 1}</Button><Button type='primary'>{item + 2}</Button>\r\n                  </Col>\r\n                )\r\n              })\r\n            }\r\n          </Col>\r\n          <Col span={6} style={{ display: 'flex', flexDirection: 'column' }}>\r\n            <Button type='primary' style={{ background: '#909fb7' }}>+</Button>\r\n            <Button type='primary' style={{ background: '#909fb7' }}>-</Button>\r\n            <Button type='primary' className={style.resultBotton}>{this.wrench ? '=' : 'OK'}</Button>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default index;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__Nr_TA\",\"head\":\"style_head__9S6P9\",\"big\":\"style_big__XwKln\",\"decorationBar\":\"style_decorationBar__2Y581\",\"card\":\"style_card__y4Ilk\",\"col\":\"style_col__ZkKAx\",\"payCountSum\":\"style_payCountSum__1lRNy\",\"icon\":\"style_icon__nGYZz\",\"calendarArray\":\"style_calendarArray__2rGyQ\",\"payOut\":\"style_payOut__22bsG\",\"betweenText\":\"style_betweenText__1OXku\",\"income\":\"style_income__2LGsI\",\"showProgress\":\"style_showProgress__1mHlW\",\"classify\":\"style_classify__2YYsY\",\"lamination\":\"style_lamination__1YNoP\",\"assetsCard\":\"style_assetsCard__3TEaa\",\"stickBlock\":\"style_stickBlock__3ohIc\"};","import { createContext } from 'react'\r\n\r\nexport default createContext()\r\n","import React from 'react'\r\nimport style from './style.module.css'\r\n\r\nexport default function Index (props) {\r\n  return (\r\n    <div className={style.main}>\r\n    </div>\r\n  )\r\n}\r\n","export const SAVECOUNT = 'saveCount' // 保存账单\r\nexport const EDITCOUNT = 'editCount' // 修改账单\r\nexport const SAVEASTEMP = 'saveAsTemp' // 修改账单\r\nexport const GETCOUNTDATA = 'getCountData' // 获取账单数据\r\n// 用于存储统计数据的对象，全称Object For Statistics\r\nexport const OFS = 'getOFS' // 获取统计分类好的账单数据\r\nexport const NUMFOR = 'numberFormat' // 格式化账单金额\r\nexport const RANK = 'rank' // 排名","import React, { useEffect, useState } from 'react'\r\nimport style from './style.module.css'\r\nimport { Row, Col, Card, Progress } from 'antd'\r\nimport { connect } from 'react-redux'\r\nimport { RightOutlined } from '@ant-design/icons';\r\nimport randomNum from 'number-random'\r\nimport { getCountData } from '../../redux/actions/countData';\r\nimport { numberFormat } from '../../redux/actions/numberFomat';\r\nimport { rank } from '../../redux/actions/rank';\r\nimport { getOFS } from '../../redux/actions/oFS';\r\n\r\nfunction Index (props) {\r\n  let kap = [{ name: '暂无数据', sum: 0, color: 'gray' }, { name: '暂无数据', sum: 0, color: 'gray' }, { name: '暂无数据', sum: 0, color: 'gray' }]\r\n  const [data, setData] = useState()\r\n  // 用来确定当前时间以及获取redux传来的countData\r\n  const fresh = () => {\r\n    if (!data || (new Date().getTime() - data.msec) > 1000) {\r\n\r\n      let day2 = new Date();\r\n      day2.setTime(day2.getTime());\r\n      let time = {\r\n        time: {\r\n          year: day2.getFullYear(),\r\n          month: (day2.getMonth() + 1).toString().length === 1 ? '0' + (day2.getMonth() + 1) : day2.getMonth() + 1,\r\n          date: day2.getDate().length === 1 ? '0' + day2.getDate() : day2.getDate(),\r\n          msec: new Date().getTime()\r\n        }\r\n      }\r\n      setData(time)\r\n    }\r\n  }\r\n\r\n  // 用副作用函数更替时间\r\n  useEffect(() => {\r\n    props.getCountData({ list: 'all', demand: {} })\r\n    props.getOFS(props.countData)\r\n    props.numberFormat(props.ofs)\r\n    props.rank({ list: 'all', demand: { rank: 'juniorcategory', category: 'payCount' } })\r\n    fresh()\r\n    getRankList()\r\n  }, [data])\r\n  // 最近一单\r\n  const recentCount = () => {\r\n    let text = '还没有记过帐'\r\n    let recentText = props.numFor.todayArr.length !== 0 ? props.numFor.todayArr[props.numFor.todayArr.length - 1].category.split('>')[0] : ''\r\n    let recentCount = props.numFor.todayArr.length !== 0 ? props.numFor.todayArr[props.numFor.todayArr.length - 1].count : ''\r\n    recentText = `最近一笔 ${recentText} ${recentCount}`\r\n    text = props.numFor.todayArr.length === 0 ? text : recentText\r\n    return text\r\n  }\r\n  // 显示时间\r\n  const displayTime = (time) => {\r\n    let text = ''\r\n    if (data) {\r\n      const { year, month, date } = data.time\r\n      const now = new Date(year, month * 1 - 1, date).getTime()\r\n      let last = 0\r\n      if (time === 'week') {\r\n        last = now - 86400000 * 6\r\n        last = new Date(last)\r\n        return (`    ${last.getMonth() + 1}月${last.getDate()}日 - ${month * 1}月${date}日`)\r\n      } else {\r\n        last = new Date(year, (month * 1 + 1)).getTime() - 86400000\r\n        last = new Date(last)\r\n        return (`     ${last.getMonth()}月1日 - ${last.getMonth()}月${last.getDate()}日`)\r\n      }\r\n    }\r\n  }\r\n  // 分类前三\r\n  const getRankList = () => {\r\n    let list = props.getRank.slice(0, 3).filter(item => {\r\n      return item.sum !== 0\r\n    })\r\n    kap = [...list, ...kap].slice(0, 3)\r\n    kap[0].color = '#e4211b'\r\n    kap[1].color = '#d0558c'\r\n    kap[2].color = '#8f57ae'\r\n    return (\r\n      kap.map(item => {\r\n        let percent = item.sum / kap[0].sum * 100 ? item.sum / kap[0].sum * 100 : 0\r\n        let textColor = item.sum ? '#5f5f5f' : '#d2d2d0'\r\n        return (\r\n          <div key={randomNum(1, 15, true)}>\r\n            <p className={style.showProgress} style={{ color: textColor, fontWeight: 550 }}>{item.name}{item.sum ? item.sum.numberFormat(2) : ''}</p>\r\n            <Progress percent={50} showInfo={false} size=\"small\" key={randomNum(0, 10000000, true)} percent={percent} strokeColor={item.color} />\r\n          </div>\r\n        )\r\n      })\r\n    )\r\n  }\r\n  return (\r\n    <div className={style.container}>\r\n      {/* 头部区域 */}\r\n      <div className={style.head}>\r\n        <span className={style.big}>{data ? data.time.month : '0'}</span>\r\n        <span>/{data ? data.time.year : '0'}</span>\r\n        <div className={style.decorationBar}></div>\r\n      </div>\r\n\r\n      {/* 主体区域 */}\r\n      <Card className={style.card} style={{ marginTop: '80px' }}>\r\n\r\n        {/* 本月统计卡片 */}\r\n        <Row>\r\n          {/* 左侧支出收入统计 */}\r\n          <Col span={12} className={style.col}>\r\n            <Col span={24} className={style.payOut}>\r\n              <div>\r\n                <p>本月支出：</p>\r\n                <div style={{ width: 100 + '%', overflow: 'hidden' }}><p className={style.payCountSum}>￥{props.numFor ? props.numFor.monthRevenue.pay : 0}<RightOutlined className={style.icon} /></p></div>\r\n              </div>\r\n            </Col>\r\n            <Col className={style.income}>\r\n              <div className={style.betweenText}><span>本月收入：</span><span >￥{props.numFor ? props.numFor.monthRevenue.income : 0}<RightOutlined className={style.icon} /></span></div>\r\n              <div className={style.betweenText}><span>预算额度：</span><span >￥{props.numFor ? props.numFor.monthRevenue.income : 0}<RightOutlined className={style.icon} /></span></div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/* 右侧支出前三 */}\r\n          <Col span={12} className={style.col}>\r\n            <p>支出分类前 3：</p>\r\n            {getRankList()}\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n\r\n      {/* 按间隔分类统计卡片 */}\r\n      <Card className={style.card}>\r\n        <Row>\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row' }}>\r\n            {/* 今天 */}\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621386037074\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"8490\" width=\"40\" height=\"40\"><path d=\"M408.222897 789.115586v-35.345655h217.15862v34.886621h33.474207V388.378483h-283.68331v400.737103h33.050483z m217.15862-237.779862h-217.15862v-130.824827h217.15862v130.824827z m0 170.301793h-217.15862v-138.169379h217.15862v138.169379z\" p-id=\"8491\"></path><path d=\"M917.645241 144.772414a70.62069 70.62069 0 0 1 70.62069 70.620689v681.489656a70.62069 70.62069 0 0 1-70.62069 70.620689H94.384552a70.62069 70.62069 0 0 1-70.62069-70.620689V215.393103a70.62069 70.62069 0 0 1 70.62069-70.620689h823.260689z m0 45.903448H94.384552a24.717241 24.717241 0 0 0-24.50538 21.362759l-0.211862 3.354482v681.489656a24.717241 24.717241 0 0 0 21.362759 24.505379l3.354483 0.211862h823.260689a24.717241 24.717241 0 0 0 24.50538-21.362759l0.211862-3.354482V215.393103a24.717241 24.717241 0 0 0-21.362759-24.505379l-3.354483-0.211862z\" p-id=\"8492\"></path><path d=\"M312.214069 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656276 3.389793l-0.247172-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724zM691.023448 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656275 3.389793l-0.247173-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724z\" p-id=\"8493\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}>今天</b>&nbsp;&nbsp;\r\n                  {recentCount()}\r\n                </span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>{props.numFor ? props.numFor.todayRevenue.income : 0}</span>\r\n                    <span>{props.numFor ? props.numFor.todayRevenue.pay : 0}</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} style={{ color: 'gray' }} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/* 这周 */}\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row' }}>\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621385995771\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"7592\" width=\"40\" height=\"40\"><path d=\"M332.976552 790.49269c30.260966-56.002207 45.903448-129.447724 46.786207-219.418483V419.133793h278.174896v320.406069c0 11.934897-6.426483 18.361379-19.279448 18.361379-17.902345 0-37.181793-0.459034-57.838345-1.377103l8.721655 31.214345h59.215449c27.542069 0 41.772138-12.393931 41.772137-36.722759v-362.637241H346.747586v185.449931c-0.918069 78.494897-13.771034 143.218759-38.558896 194.171586l24.787862 22.49269z m298.372414-217.123311v-28.919172h-97.809656v-45.444414h82.626207v-27.542069h-82.626207v-38.099862h-32.132413v38.099862h-83.544276v27.542069H501.406897v45.444414h-97.315311v28.919172h227.222069z m-22.951725 149.186207v-114.299586h-185.485241v114.299586h185.449931z m-31.708689-28.919172h-121.644138v-57.379311h121.644138v57.379311z\" p-id=\"7593\"></path><path d=\"M917.645241 144.772414a70.62069 70.62069 0 0 1 70.62069 70.620689v681.489656a70.62069 70.62069 0 0 1-70.62069 70.620689H94.384552a70.62069 70.62069 0 0 1-70.62069-70.620689V215.393103a70.62069 70.62069 0 0 1 70.62069-70.620689h823.260689z m0 45.903448H94.384552a24.717241 24.717241 0 0 0-24.50538 21.362759l-0.211862 3.354482v681.489656a24.717241 24.717241 0 0 0 21.362759 24.505379l3.354483 0.211862h823.260689a24.717241 24.717241 0 0 0 24.50538-21.362759l0.211862-3.354482V215.393103a24.717241 24.717241 0 0 0-21.362759-24.505379l-3.354483-0.211862z\" p-id=\"7594\"></path><path d=\"M312.214069 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656276 3.389793l-0.247172-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724zM691.023448 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656275 3.389793l-0.247173-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724z\" p-id=\"7595\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}>本周</b>\r\n                  {displayTime('week')}\r\n                </span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>{props.numFor ? props.numFor.weekRevenue.income : 0}</span>\r\n                    <span>{props.numFor ? props.numFor.weekRevenue.pay : 0}</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} style={{ color: 'gray' }} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/* 本月 */}\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row' }}>\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621385953741\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"6738\" width=\"40\" height=\"40\"><path d=\"M371.959172 792.328828c29.837241-39.017931 47.315862-88.134621 52.788966-147.809104h197.843862v91.347862c0 13.312-5.508414 20.197517-16.066207 20.197517-17.44331 0-36.722759-0.918069-57.838345-1.836137l9.18069 32.591448h59.215448c25.705931 0 39.017931-13.312 39.017931-39.476966V388.378483h-263.026758v224.008827c-0.918069 63.346759-16.066207 115.67669-46.362483 156.989793l25.246896 22.951725z m250.632828-291.945931h-195.972414v-80.331035h195.972414v80.331035z m0 113.381517h-195.972414v-82.626207h195.972414v82.626207z\" p-id=\"6739\"></path><path d=\"M917.645241 144.772414a70.62069 70.62069 0 0 1 70.62069 70.620689v681.489656a70.62069 70.62069 0 0 1-70.62069 70.620689H94.384552a70.62069 70.62069 0 0 1-70.62069-70.620689V215.393103a70.62069 70.62069 0 0 1 70.62069-70.620689h823.260689z m0 45.903448H94.384552a24.717241 24.717241 0 0 0-24.50538 21.362759l-0.211862 3.354482v681.489656a24.717241 24.717241 0 0 0 21.362759 24.505379l3.354483 0.211862h823.260689a24.717241 24.717241 0 0 0 24.50538-21.362759l0.211862-3.354482V215.393103a24.717241 24.717241 0 0 0-21.362759-24.505379l-3.354483-0.211862z\" p-id=\"6740\"></path><path d=\"M312.214069 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656276 3.389793l-0.247172-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724zM691.023448 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656275 3.389793l-0.247173-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724z\" p-id=\"6741\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}>{data ? data.time.month : 0}月</b>\r\n                  {displayTime('month')}\r\n                </span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>{props.numFor ? props.numFor.monthRevenue.income : 0}</span>\r\n                    <span>{props.numFor ? props.numFor.monthRevenue.pay : 0}</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} style={{ color: 'gray' }} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/* 今年 */}\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row' }}>\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621385903669\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5695\" width=\"40\" height=\"40\"><path d=\"M715.702857 32.365714a23.771429 23.771429 0 0 1 23.515429 20.260572l0.256 3.510857V149.942857l210.944 0.036572a73.142857 73.142857 0 0 1 73.142857 73.142857v705.828571a73.142857 73.142857 0 0 1-73.142857 73.142857H97.755429a73.142857 73.142857 0 0 1-73.142858-73.142857V223.085714a73.142857 73.142857 0 0 1 73.142858-73.142857h201.837714V56.100571a23.771429 23.771429 0 0 1 47.286857-3.510857l0.256 3.510857V149.942857h344.795429V56.137143a23.771429 23.771429 0 0 1 23.771428-23.771429zM299.593143 197.485714l-201.874286 0.036572a25.6 25.6 0 0 0-25.344 22.125714l-0.219428 3.474286v705.828571a25.6 25.6 0 0 0 22.125714 25.380572l3.474286 0.219428h852.662857a25.6 25.6 0 0 0 25.380571-22.125714l0.219429-3.474286V223.085714a25.6 25.6 0 0 0-22.125715-25.380571l-3.474285-0.219429H739.474286v45.933715a23.771429 23.771429 0 0 1-47.286857 3.510857l-0.256-3.510857V197.485714H347.136v45.970286a23.771429 23.771429 0 0 1-47.286857 3.510857l-0.256-3.510857V197.485714z m112.274286 181.504l35.657142 6.656c-5.229714 18.066286-11.410286 34.706286-18.066285 50.870857h295.241143v33.28h-149.284572v76.068572h132.644572v32.804571h-132.644572v102.692572h164.498286v33.28h-164.498286v106.020571h-34.706286V714.605714H321.097143v-33.28h78.445714v-135.497143h141.202286v-76.068571h-127.890286a285.805714 285.805714 0 0 1-75.117714 84.626286l-22.820572-28.525715c48.018286-36.132571 80.347429-85.101714 96.987429-146.907428z m128.841142 199.68H433.737143v102.692572h106.971428v-102.692572z\" p-id=\"5696\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}>今年</b>&nbsp;&nbsp;{data ? data.time.year : 2021}年</span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>{props.numFor.yearArr.length !== 0 ? props.numFor.yearRevenue.income : 0}</span>\r\n                    <span>{props.numFor.yearArr.length !== 0 ? props.numFor.yearRevenue.pay : 0}</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} style={{ color: 'gray' }} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n        </Row>\r\n      </Card>\r\n\r\n      {/* 资产 */}\r\n      <Card style={{ position: 'relative', overflow: 'hidden' }}>\r\n        {/* 现金账户 */}\r\n        <Row>\r\n          <Col span={24} style={{ borderBottom: '1px solid rgb(248,248,248)', fontSize: '25px', fontWeight: '700', paddingBottom: '15px', paddingLeft: '-40px' }}> 总资产：\r\n          <span style={{ float: 'right', textAlign: 'right' }}>￥{props.numFor ? props.numFor.sumAsset : 0}</span>\r\n          </Col>\r\n          <Col span={24} className={style.assetsCard}>\r\n            <Col span={24} className={style.classify} style={{ lineHeight: '30px', borderBottom: 0 }}>\r\n              <div className={style.stickBlock}></div>\r\n              <span style={{ color: '#777e88', fontWeight: '600' }}>现金账户</span>\r\n              <span style={{ color: '#777e88', fontWeight: '600' }}>￥{props.numFor ? props.numFor.cashAsset : 0}</span>\r\n            </Col>\r\n            {/* 详情 */}\r\n            <Col>\r\n              <div className={style.classify} style={{ borderBottom: 0 }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  现金\r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥{props.numFor ? props.numFor.cashAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n\r\n      {/* 虚拟账户 */}\r\n      <Card style={{ position: 'relative', overflow: 'hidden' }}>\r\n        <Row>\r\n          <Col span={24} className={style.assetsCard}>\r\n            <Col span={24} className={style.classify} style={{ lineHeight: '30px', borderBottom: 0 }}>\r\n              <div className={style.stickBlock} style={{ backgroundColor: 'brown' }}></div>\r\n              <span style={{ color: '#777e88', fontWeight: '600' }}>虚拟账户</span>\r\n              <span style={{ color: '#777e88', fontWeight: '600' }}>￥{props.numFor ? props.numFor.virtualAsset : 0}</span>\r\n            </Col>\r\n            {/* 详情 */}\r\n            <Col>\r\n              <div className={style.classify} style={{ paddingBottom: '15px' }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  银行卡\r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥{props.numFor ? props.numFor.creditAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div className={style.classify} style={{ paddingBottom: '15px' }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  公交卡\r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥{props.numFor ? props.numFor.bushCardAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div className={style.classify} style={{ paddingBottom: '15px' }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  支付宝\r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥{props.numFor ? props.numFor.aliPayAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div className={style.classify} style={{ borderBottom: 0 }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  微信\r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥{props.numFor ? props.numFor.weChatAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n    </div >\r\n  )\r\n}\r\nconst mapStateForProps = (state) => {\r\n  console.log(state);\r\n  return {\r\n    countData: state.countData,\r\n    numFor: state.numFor,\r\n    getRank: state.getRank,\r\n    ofs: state.ofs\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateForProps,\r\n  { getCountData, numberFormat, rank, getOFS }\r\n)(Index)","import { GETCOUNTDATA } from '../constant'\r\n\r\n// 做到按需获取数据，需求的格式为：\r\n/* demand_example={\r\n  pay:Boolean, // 查支出或者收入\r\n  category:['一级选择器'[,'二级选择器']], // 为一个一级分类区段，或具体到二级分类区段\r\n  date:[Number,Number], // 为一个时间段或一个时间点\r\n  id:Number, // 具体查某一单\r\n  member:String, // 查成员\r\n  count: [Number,Number] // 查金额\r\n  account: String // 查账户\r\n} */\r\n\r\nexport const getCountData = demand => ({ type: GETCOUNTDATA, data: demand })","import { NUMFOR } from '../constant'\r\n\r\nexport const numberFormat = number => ({ type: NUMFOR, data: number })\r\n","import { RANK } from '../constant'\r\n\r\nexport const rank = category => ({ type: RANK, data: category })","// 用于存储统计数据的对象，全称Object For Statistics\r\nimport { OFS } from '../constant'\r\n\r\nexport const getOFS = countList => ({ type: OFS, data: countList })\r\n","import React from 'react'\r\nimport style from './style.module.css'\r\n\r\nexport default function Index () {\r\n  return (\r\n    <div>\r\n      456\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState, useRef } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Card, Row, Col, message } from 'antd';\r\nimport style from './style.module.css'\r\n\r\n// 添加动画的节流标识\r\nlet addAFlag = true\r\n\r\n\r\nfunction Index (props) {\r\n  let [state, setState] = useState({ ...props.obj, 'selectedLeft': 0, 'selectedRight': 0 })\r\n  let rightCol = useRef(null)\r\n  let leftCol = useRef(null)\r\n  useEffect(() => {\r\n    let output = []\r\n    output[0] = arr[state.selectedLeft + 2]\r\n    output[1] = arrr[state.selectedRight + 2]\r\n    props.change(output)\r\n  }, [state.selectedLeft, state.selectedRight])\r\n  // 用于渲染级联选择器中的选项\r\n  let all = []\r\n  let arr = Array(2), arrr = Array(2)\r\n  for (let i in state) {\r\n    all.push(i)\r\n  }\r\n  arr = [...arr, ...all.slice(0, all.length - 2), ...arr]\r\n  arrr = [...arrr, ...state[arr[state.selectedLeft + 2]]]\r\n\r\n\r\n  let arra = arr.slice(state.selectedLeft, state.selectedLeft + 5)\r\n  let arrb = arrr.slice(state.selectedRight, state.selectedRight + 5)\r\n\r\n\r\n  // 随着动画更改级联选择器选中的内容\r\n  let edit = (chara, ref) => {\r\n    // 更改目标数组\r\n    let targetArr = []\r\n    // 通过ref判断是翻左边的还是右边的\r\n    if (ref === leftCol) {\r\n      // 通过chara判断级联选择器是上翻还是下翻\r\n      for (let i = 0; i < Math.abs(chara); i++) {\r\n        // 等于0不动\r\n        if (chara === 0) return\r\n        setState({ ...state, 'selectedLeft': state.selectedLeft + chara, 'selectedRight': 0 })\r\n      }\r\n      targetArr = arr.slice(state.selectedLeft, state.selectedLeft + 5)\r\n    } else {\r\n      for (let i = 0; i < Math.abs(chara); i++) {\r\n        // 等于0不动\r\n        if (chara === 0) return\r\n        setState({ ...state, 'selectedRight': state.selectedRight + chara })\r\n      }\r\n      targetArr = arrr.slice(state.selectedRight, state.selectedRight + 5)\r\n    }\r\n    return (\r\n      targetArr.map(item => {\r\n        return <div key={Math.random() * Math.random()}>{item}</div>\r\n      })\r\n    )\r\n  }\r\n\r\n\r\n  // 为节点ref添加滚动动作action\r\n  let addAnimation = (ref, action) => {\r\n    if ((!arra[1] && action === style.animationDown && ref === 0) || (!arra[3] && action === style.animationUp && ref === 0) || (!arrb[1] && action === style.animationDown && ref === 1) || (!arrb[3] && action === style.animationUp && ref === 1)) {\r\n      message.warning('已经到头啦', 0.5)\r\n      return null\r\n    }\r\n    let name = ''\r\n    // 级联选择器向下选取选项\r\n    let chara = 1\r\n    if (action === style.animationDown) {\r\n      chara = -1\r\n    }\r\n    // 节流\r\n    const throttle = () => {\r\n      // 进行动画\r\n      if (!ref) {\r\n        name = leftCol.current.className\r\n        leftCol.current.className += ` ${action}`\r\n      } else {\r\n        name = rightCol.current.className\r\n        rightCol.current.className += ` ${action}`\r\n      }\r\n      // 删除动画并更改级联选择器中的被选择的内容\r\n      setTimeout(() => {\r\n        if (!ref) {\r\n          leftCol.current.className = name\r\n          edit(chara, leftCol)\r\n        } else {\r\n          rightCol.current.className = name\r\n          edit(chara, rightCol)\r\n        }\r\n        addAFlag = true\r\n      }, 280)\r\n    }\r\n    if (!addAFlag) return null\r\n    addAFlag = false\r\n    return (\r\n      throttle()\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <Card className={style.container} bordered>\r\n      <Row className={style.row}>\r\n        <Col span={12} className={style.col}>\r\n          <div className={style.middle} ref={leftCol}>\r\n            {edit(0, leftCol)}\r\n          </div>\r\n        </Col>\r\n        <Col span={12} className={style.col}>\r\n          <div className={style.middle} ref={rightCol}>\r\n            {edit(0, rightCol)}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      <div className={style.line}></div>\r\n      <div className={style.line2}></div>\r\n      {/* 点击切换区域 */}\r\n      <div onClick={() => addAnimation(1, style.animationUp)} className={style.switchDown} style={{ right: 0 }}></div>\r\n      <div onClick={() => addAnimation(0, style.animationUp)} className={style.switchDown} style={{ left: 0 }}></div>\r\n      <div onClick={() => addAnimation(1, style.animationDown)} className={style.switchTop} style={{ right: 0 }}></div>\r\n      <div onClick={() => addAnimation(0, style.animationDown)} className={style.switchTop} style={{ left: 0 }}></div>\r\n    </Card>\r\n  )\r\n}\r\nexport default connect(\r\n)(Index)","import React, { useEffect, useState, useRef, useContext } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport style from './style.module.css'\r\nimport Cascader from '../Cascader/Cascader';\r\nimport Calculator from '../../Calculator';\r\nimport { Collapse, Calendar, Button, Drawer, notification } from 'antd';\r\nimport globalContext from '../../../globalContext';\r\n// 这是 redux 的 action，此处依序引入的是：保存当前账单、作为模板保存\r\nimport { saveCount, saveAsTemp } from '../../../redux/actions/saveCount';\r\n\r\nconst { Panel } = Collapse;\r\n\r\n// 支出分类\r\nlet payCat = {\r\n  '衣服饰品': ['衣服帽子', '鞋帽包包', '化妆饰品'],\r\n  '食品酒水': ['早午晚餐', '烟酒茶', '水果零食'],\r\n  '居家物业': ['日常用品', '水电煤气', '房租', '物业管理', '维修保养'],\r\n  '行车交通': ['公共交通', '打车租车', '私家车费用'],\r\n  '交流通讯': ['座机费', '手机费', '上网费', '邮寄费'],\r\n  '休闲娱乐': ['运动健身', '腐败聚会', '休闲玩乐', '宠物宝贝', '旅游度假'],\r\n  '学习进修': ['书报杂志', '培训进修', '数码装备'],\r\n  '人情往来': ['送礼请客', '孝敬家长', '换人钱物', '慈善捐助'],\r\n  '医疗保健': ['药品费', '保健费', '美容费', '治疗费'],\r\n  '金融保险': ['银行手续', '投资亏损', '按揭还款', '消费税收', '利息支出', '赔偿罚款'],\r\n  '其他杂项': ['其他支出', '意外丢失', '烂账损失']\r\n}\r\n// 收入分类\r\nlet incomeCat = {\r\n  '职业收入': ['工资收入', '利息收入', '加班收入', '奖金收入', '投资收入', '兼职收入'],\r\n  '其他收入': ['礼金收入', '中奖收入', '意外来钱', '经营所得']\r\n}\r\n// 账户分类\r\nlet AccountCat = {\r\n  '现金': ['现金'],\r\n  '虚拟账户': ['银行卡', '公交卡', '支付宝', '微信']\r\n}\r\n// 成员分类\r\nlet numberCat = {\r\n  '(无成员)': ['(无成员)'],\r\n  '家人': ['本人', '老公', '老婆', '子女', '父母', '家庭公用'],\r\n  '其他': ['亲戚', '朋友', '同学', '同事', '其他']\r\n}\r\nlet day2 = new Date();\r\nday2.setTime(day2.getTime())\r\n\r\n// 初始值\r\nlet initialState = {\r\n  receivePayCat: '请选择分类',\r\n  receiveAccountCat: '请选择账户',\r\n  dateStr: day2,\r\n  receiveNumberCat: '(无成员)',\r\n  tempVisible: false,\r\n  calcuVisible: false,\r\n  count: 0\r\n}\r\n\r\n\r\nfunction Index (props) {\r\n  let Consumer = useContext(globalContext)\r\n  let [state, setState] = useState(initialState)\r\n  // 传送数据用的对象：\r\n  let info = {\r\n    id: 0,\r\n    count: 0,\r\n    category: '',\r\n    account: '',\r\n    date: '',\r\n    member: '',\r\n    remark: ''\r\n  }\r\n  useEffect(() => {\r\n  }, [])\r\n  // 接收到级联传来的支出分类\r\n  const receivePayCat = (data) => {\r\n    info.category = `${data[0]} > ${data[1]}`\r\n    setState({ ...state, receivePayCat: info.category })\r\n  }\r\n  // 接收到级联传来的账户分类\r\n  const receiveAccountCat = (data) => {\r\n    info.account = `${data[1]}`\r\n    setState({ ...state, receiveAccountCat: info.account })\r\n  }\r\n  // 接收到级联传来的成员分类\r\n  const receiveNumberCat = (data) => {\r\n    info.member = `${data[1]}`\r\n    setState({ ...state, receiveNumberCat: info.member })\r\n  }\r\n  // 接收到日历的日期\r\n  const onPanelChange = (data) => {\r\n    info.date = data._d\r\n    setState({ ...state, dateStr: data._d })\r\n  }\r\n  // 分类标签、属性及级联选择器\r\n  const classification = () => {\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}>分类</h1>\r\n        <span style={{ fontSize: '20px' }}>{state.receivePayCat}</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // 账户标签、属性\r\n  const account = () => {\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}>账户</h1>\r\n        <span style={{ fontSize: '20px' }}>{state.receiveAccountCat}</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // 日期\r\n  const date = () => {\r\n    let str = `${state.dateStr.getFullYear()}年 ${state.dateStr.getMonth() + 1}月 ${state.dateStr.getDate()}日`\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}>日期</h1>\r\n        <span style={{ fontSize: '20px' }}>{str}</span>\r\n      </div>\r\n    )\r\n  }\r\n  // 成员\r\n  const number = () => {\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}>成员</h1>\r\n        <span style={{ fontSize: '20px' }}>{state.receiveNumberCat}</span>\r\n      </div>\r\n    )\r\n  }\r\n  // 键入事件\r\n  let inputRef = useRef(null)\r\n  const keyDown = (e) => {\r\n    if (e.target.id === 'input' && e.keyCode === 13) {\r\n      conserve(2)\r\n    }\r\n  }\r\n  // 模板名称键入事件\r\n  let tempInputRef = useRef(null)\r\n  const tempKeyDown = (e) => {\r\n    if (e.keyCode === 13) { conserveTemp() }\r\n  }\r\n  // 保存模板\r\n  const conserveTemp = () => {\r\n    const deepClone = (obj) => {    // 简易深拷贝函数\r\n      if (typeof obj !== 'object' || obj === null) {\r\n        return obj\r\n      }\r\n      if (Array.isArray(obj)) {\r\n        var result = []\r\n      } else {\r\n        var result = {}\r\n      }\r\n      for (let key in obj) {\r\n        result[key] = deepClone(obj[key])\r\n      }\r\n      return result\r\n    }\r\n    conserve(1)\r\n    if (!tempInputRef.current.value) {\r\n      notification['error']({\r\n        message: '请填写模板名称'\r\n      });\r\n      return null\r\n    }\r\n    let cloneObj = deepClone(info)  // 拷贝info\r\n    cloneObj.tempName = tempInputRef.current.value\r\n    props.saveAsTemp(cloneObj)\r\n    onClose()\r\n  }\r\n  // 下拉区域\r\n  const collapseList = () => {\r\n    return (\r\n      <Collapse accordion>\r\n        <Panel header={classification()} key={'paycat'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <Cascader obj={props.pay ? payCat : incomeCat} change={receivePayCat}></Cascader>\r\n        </Panel>\r\n        <Panel header={account()} key={'account'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <Cascader obj={AccountCat} change={receiveAccountCat}></Cascader>\r\n        </Panel>\r\n        <Panel header={date()} key={'datecat'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <div className={style.site_calendar_demo_card}>\r\n            <Calendar fullscreen={false} onChange={onPanelChange} ></Calendar>\r\n          </div>\r\n        </Panel>\r\n        <Panel header={number()} key={'numbercat'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <Cascader obj={numberCat} change={receiveNumberCat}></Cascader>\r\n        </Panel>\r\n\r\n      </Collapse>\r\n    )\r\n  }\r\n  // 保存\r\n  const conserve = (s) => {\r\n    if (!verification()) {\r\n      return null\r\n    }\r\n    info.id = (new Date()).getTime()\r\n    info.count = state.count\r\n    info.category = state.receivePayCat\r\n    info.account = state.receiveAccountCat\r\n    info.date = state.dateStr.getTime()\r\n    info.member = state.receiveNumberCat\r\n    info.remark = inputRef.current.value\r\n    info.pay = props.pay\r\n    if (s.toString() === '[object Object]' || s === 2) {\r\n      props.saveCount(info)\r\n      // setState(initialState)\r\n    }\r\n  }\r\n  // 保存为模板\r\n  const conserveAsTemp = () => {\r\n    setState({ ...state, tempVisible: true })\r\n    Consumer.mainOut()\r\n  }\r\n  // 验证填单\r\n  const verification = () => {\r\n    if (state.receivePayCat === '请选择分类') {\r\n      notification['error']({\r\n        message: '请选择分类'\r\n      })\r\n      return false\r\n    } else if (state.receiveAccountCat === '请选择账户') {\r\n      notification['error']({\r\n        message: '请选择账户'\r\n      })\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n  // 关闭抽屉\r\n  const onClose = () => {\r\n    setState({ ...state, tempVisible: false })\r\n    Consumer.mainIn()\r\n  }\r\n  // 抽屉头部区域\r\n  const title = () => {\r\n    return (\r\n      <div className={style.head}>\r\n        <span style={{ fontSize: '25px', fontWeight: 700, lineHeight: '46px' }}>{state.calcuVisible ? '' : '编辑模板'}</span>\r\n        <Button type=\"text\" onClick={\r\n          () => {\r\n            if (state.tempVisible) return onClose()\r\n            else return closeCalcu()\r\n          }\r\n        } danger style={{ position: 'absolute', right: '10px', fontSize: '20px', color: 'brown' }}>\r\n          关闭\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n  // 打开计算器\r\n  const openCalcu = () => {\r\n    setState({ ...state, calcuVisible: true })\r\n    Consumer.mainOut()\r\n  }\r\n  // 关闭计算器\r\n  const closeCalcu = () => {\r\n    setState({ ...state, calcuVisible: false })\r\n    Consumer.mainIn()\r\n  }\r\n  // 计算器传出值\r\n  const outPut = (value) => {\r\n    setState({ ...state, count: value })\r\n  }\r\n  return (\r\n    <div className={style.container}>\r\n      <div style={{ borderBottom: '1px solid rgb(248,248,248)', overflow: 'hidden', backgroundColor: 'rgb(248,248,248)' }} onClick={openCalcu}>\r\n        <span className={style.count} style={{ color: props.pay ? 'green' : 'red' }}>￥{state.count}</span>\r\n      </div>\r\n      {/* 下拉菜单区域 */}\r\n      {collapseList()}\r\n      <div style={{ width: '100%', borderBottom: '1px solid rgb(217,217,217)', padding: '1px' }}>\r\n        <input className={style.remark} onKeyDown={keyDown} ref={inputRef} placeholder='备注...' type=\"text\" id='input' />\r\n      </div>\r\n      <div className={style.bottonContainer}>\r\n        <Button type='danger' className={style.conserveButoon} onClick={conserve}>保存</Button>\r\n        <Button type='danger' className={style.conserveAsTempButoon} onClick={conserveAsTemp}>保存为模板</Button>\r\n      </div>\r\n      {/* 模板抽屉区域 */}\r\n      <Drawer\r\n        title={title()}\r\n        placement=\"right\"\r\n        closable={false}\r\n        onClose={onClose}\r\n        visible={state.tempVisible}\r\n        width={'700px'}\r\n        headerStyle={{ margin: 0, padding: 0 }}\r\n        className={style.drawerBody}\r\n      >\r\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n          <h1 style={{ paddingLeft: '60px', paddingTop: '25px', color: 'gray', whiteSpace: 'nowrap' }}>模板名称</h1>\r\n          <input className={style.remark} ref={tempInputRef} onKeyDown={tempKeyDown} style={{ textAlign: 'right', marginRight: '20px' }} placeholder='请输入模板名' type=\"text\" />\r\n        </div>\r\n        {collapseList()}\r\n        <Button type='danger' className={style.drawerButoon} onClick={conserveTemp}>保存</Button>\r\n      </Drawer>\r\n      <Drawer\r\n        title={title()}\r\n        placement=\"right\"\r\n        closable={false}\r\n        onClose={closeCalcu}\r\n        visible={state.calcuVisible}\r\n        width={'700px'}\r\n        headerStyle={{ margin: 0, padding: 0 }}\r\n        className={style.drawerBody}\r\n      >\r\n        <Calculator initialNum={state.count} closeCalcu={closeCalcu} outPut={outPut}></Calculator>\r\n      </Drawer>\r\n\r\n    </div>\r\n  )\r\n}\r\nexport default connect(\r\n  state => ({\r\n\r\n  }),\r\n  { saveCount, saveAsTemp }\r\n)(Index)","// 用于保存新建的账单或者修改已有的账单，账单结构如下：\r\n/* example = {\r\n    // 账单id,为当时创建的时间\r\n  id: Number,\r\n    // 账单金额\r\n  count: Number,\r\n    // 账单是收入（false）还是支出（true）\r\n  pay: Boolean,\r\n    // 账单分类\r\n  category: Array,\r\n    // 账单账户\r\n  account: String,\r\n    // 账单日期\r\n  date: Number,\r\n    // 成员    非必须\r\n  member: String,\r\n    // 账单备注    非必须\r\n  remark: String\r\n} */\r\nimport { SAVECOUNT, EDITCOUNT, SAVEASTEMP } from '../constant'\r\n\r\nexport const saveCount = data => ({ type: SAVECOUNT, data })\r\nexport const editCount = data => ({ type: EDITCOUNT, data })\r\nexport const saveAsTemp = data => ({ type: SAVEASTEMP, data })","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport style from './tagstyle.module.css'\r\n\r\nfunction Index () {\r\n  return (\r\n    <div className={style.container}>\r\n      <div className={style.head}>\r\n        <svg t=\"1621392769784\" className={style.icon} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"14745\" width=\"40\" height=\"40\">\r\n          <path d=\"M576.4 203.3c46.7 90.9 118.6 145.5 215.7 163.9 97.1 18.4 111.5 64.9 43.3 139.5s-95.6 162.9-82.3 265.2c13.2 102.3-24.6 131-113.4 86.2s-177.7-44.8-266.6 0-126.6 16-113.4-86.2c13.2-102.3-14.2-190.7-82.4-265.2-68.2-74.6-53.7-121.1 43.3-139.5 97.1-18.4 169-73 215.7-163.9 46.6-90.9 93.4-90.9 140.1 0z\" p-id=\"14746\" fill=\"#a52a2a\"></path>\r\n        </svg>\r\n        <div style={{ color: 'brown', fontSize: '15px' }}>记账模板</div>\r\n      </div>\r\n      <div className={style.left}></div>\r\n      <div className={style.right}></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n)(Index)\r\n","import React, { useEffect, useRef } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport style from './style.module.css'\r\nimport Pay from './Pay/Pay';\r\nimport Tag from './tag'\r\nimport globalContext from '../../globalContext'\r\n\r\nimport { Tabs } from 'antd';\r\n\r\nconst Provider = globalContext.Provider;\r\n\r\nlet mainAnimation = {}\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Index () {\r\n  const mainRef = useRef(null)\r\n  let classn = ''\r\n  useEffect(() => {\r\n    classn = mainRef.current.className\r\n  }, [])\r\n  // 外推main动画\r\n  const mainOut = () => {\r\n    mainRef.current.className += ` ${style.mainMoveOut}`\r\n  }\r\n  // 推回来main 动画\r\n  const mainIn = () => {\r\n    mainRef.current.className += ` ${style.mainMoveIn}`\r\n    // return\r\n    setTimeout(() => {\r\n      mainRef.current.className = classn\r\n    }, 100)\r\n  }\r\n  // 整合推动main的动画，准备放入Provider中送入子组件触发\r\n  mainAnimation = {\r\n    mainOut,\r\n    mainIn\r\n  }\r\n  return (\r\n    <Provider value={mainAnimation}>\r\n      <div ref={mainRef} className={style.handleHead}>\r\n        {/* 头部区域 */}\r\n        <div className={style.head}>\r\n          <Tag></Tag>\r\n          <span style={{ fontSize: '25px', fontWeight: 700 }}>记账</span>\r\n        </div>\r\n        <div className={style.container}>\r\n          {/* Tabs栏 */}\r\n          <Tabs defaultActiveKey=\"1\" centered animated style={{ paddingTop: '80px', backgroundColor: 'rgb(248,248,248)' }}>\r\n            <TabPane tab={<span style={{ fontWeight: 400, fontSize: '20px' }}>支出</span>} key=\"1\">\r\n              <Pay pay={true}></Pay>\r\n            </TabPane>\r\n            <TabPane tab={<span style={{ fontWeight: 400, fontSize: '20px' }}>收入</span>} key=\"2\">\r\n              <Pay pay={false}></Pay>\r\n            </TabPane>\r\n          </Tabs>\r\n        </div>\r\n      </div>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n)(Index)\r\n","import React, { useEffect, useState, useRef } from 'react'\r\nimport globalContext from '../../globalContext'\r\nimport { Redirect, Switch } from 'react-router-dom';\r\nimport { Link, Route, useHistory } from 'react-router-dom'\r\nimport Head from '../Head/Head';\r\nimport IndexPage from '../IndexPage/IndexPage';\r\nimport List from '../List/List';\r\nimport AddACount from '../AddACount/AddACount';\r\nimport style from './style.module.css'\r\nimport { Layout, Menu, Button } from 'antd';\r\nimport { connect } from 'react-redux';\r\nconst { Sider, Content } = Layout;\r\nconst Provider = globalContext.Provider;\r\nlet mainAnimation = {}\r\nfunction Index () {\r\n  const mainRef = useRef(null)\r\n  // 外推main动画\r\n  const mainOut = () => {\r\n    // mainRef.current.className += ` ${style.mainMoveOut}`\r\n  }\r\n  // 推回来main 动画\r\n  const mainIn = () => {\r\n    // mainRef.current.className += ` ${style.mainMoveIn}`\r\n    // setTimeout(() => {\r\n    //   mainRef.current.className = style.content\r\n    // }, 100)\r\n  }\r\n  // 整合推动main的动画，准备放入Provider中送入子组件触发\r\n  mainAnimation = {\r\n    mainOut,\r\n    mainIn\r\n  }\r\n  // 拿到history\r\n  const [items, setData] = useState('/')\r\n  const history = useHistory()\r\n  // 副作用函数获得location信息\r\n  useEffect(() => {\r\n    // 组件第一次渲染会执行这个方法\r\n    history.listen(historyLocation => {\r\n      setData(historyLocation.pathname)\r\n    })\r\n  }, [history])\r\n\r\n  const addACount = () => {\r\n    history.push('/addACount')\r\n  }\r\n\r\n  return (\r\n    <Provider value={mainAnimation}>\r\n      <div className={style.container}>\r\n        <Layout>\r\n          {/* 侧边栏 */}\r\n          <Sider className={style.side} style={{ position: 'fixed', height: '100%' }}>\r\n            <Head style={{ position: 'fixed' }}></Head>\r\n            <Menu\r\n              defaultSelectedKeys={items}\r\n              mode=\"inline\"\r\n              className={style.font}\r\n            >\r\n              <Menu.Item key=\"/\" className={style.font}><Link to='/home'>我的首页</Link></Menu.Item>\r\n              <Menu.Item key=\"/list\" className={style.font}><Link to='/list'>流水清单</Link></Menu.Item>\r\n              <Menu.Item key=\"11\" className={style.font}>其他功能</Menu.Item>\r\n            </Menu>\r\n            <Button type='danger' className={style.addButoon} onClick={addACount}>记一笔</Button>\r\n          </Sider>\r\n\r\n          {/* 主页面 */}\r\n          <Content className={style.content} ref={mainRef}>\r\n            {/* 头部区域 */}\r\n            <Switch>\r\n              <Route path=\"/home\" component={IndexPage} exact />\r\n              <Route path=\"/list\" component={List} />\r\n              <Route path=\"/addACount\" component={AddACount} />\r\n              <Redirect to='/home' />\r\n            </Switch>\r\n          </Content>\r\n        </Layout>\r\n      </div >\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default connect()(Index)","import React, { Component } from 'react'\r\nimport Home from './Containers/Home/Home'\r\nimport { withRouter } from 'react-router-dom'\r\nimport './global.css'\r\n\r\nclass App extends Component {\r\n  render () {\r\n    return (\r\n      <div>\r\n        <Home></Home>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(App)\r\n","import { SAVECOUNT, EDITCOUNT, SAVEASTEMP } from '../constant'\r\n\r\nconst initState = {\r\n  id: 0,\r\n  count: 0,\r\n  pay: true,\r\n  category: ['暂无数据'],\r\n  account: ' ',\r\n  date: (new Date()).getTime(),\r\n  member: '(无成员)',\r\n  remark: ''\r\n}\r\n\r\nexport default function saveCountReducer (preState = initState, action) {\r\n  const { type, data } = action\r\n  switch (type) {\r\n    case SAVECOUNT:\r\n      let allCount = JSON.parse(localStorage.getItem('allCount')) // 获取本地存储的账单\r\n      if (!allCount) {                                              // 如果没有，则直接将新账单以数组形式存入\r\n        localStorage.setItem('allCount', JSON.stringify([data]))\r\n      } else {\r\n        allCount = [...allCount, data]                               // 有则加入旧数组\r\n        localStorage.setItem('allCount', JSON.stringify(allCount))\r\n      }\r\n      break;\r\n    case SAVEASTEMP:\r\n      let allTemp = JSON.parse(localStorage.getItem('allTemp')) // 获取本地存储的账单\r\n      if (!allTemp) {                                              // 如果没有，则直接将新账单以数组形式存入\r\n        localStorage.setItem('allTemp', JSON.stringify([data]))\r\n      } else {\r\n        allTemp = [...allTemp, data]                               // 有则加入旧数组\r\n        localStorage.setItem('allTemp', JSON.stringify(allTemp))\r\n      }\r\n      break;\r\n  }\r\n  return preState\r\n}","import { GETCOUNTDATA } from '../constant'\r\n\r\nconst initState = [{\r\n  count: 0,\r\n  category: ['暂无数据'],\r\n  date: 0,\r\n  account: '暂无数据',\r\n  pay: true\r\n}]\r\nlet allCount = JSON.parse(localStorage.getItem('allCount')) || [initState] // 获取所有账单数据\r\n/* if (JSON.parse(localStorage.getItem('allCount'))) { \r\n  allCount = JSON.parse(localStorage.getItem('allCount'))\r\n} else {\r\n  allCount = [initState]\r\n} */\r\n\r\n// 按需获取数据\r\nconst on_demand = (list, demand) => {\r\n  let keys = Object.keys(demand)  // 获取到需求的项目的'键'数组\r\n  if (keys.length === 0) {// 获取所有列表\r\n    return list\r\n  } else {\r\n    return keys.reduce((pre, cur) => { // 将范围数组当成初始值扔入reduce\r\n      return pre.filter(item => { // 用filter筛选符合本次demand[cur]要求的账单数组\r\n        switch (typeof demand[cur]) { // 条件键值对的值demand[cur]，可以区分为两类\r\n          case 'object': // 引用数据类型 这一类下也有两个子类\r\n            if (typeof demand[cur][0] === 'number') { // count date 查询逻辑区域\r\n              if (demand[cur][0] <= item[cur] && item[cur] <= demand[cur][1]) return item\r\n            } else { // category 查询逻辑区域\r\n              if (demand[cur][1]) {\r\n                return item[cur].indexOf(demand[cur][1]) !== -1\r\n              } else {\r\n                return item[cur].indexOf(demand[cur][0]) !== -1\r\n              }\r\n            }\r\n            break;\r\n          default: // 基本数据类型 pay id member account 查询逻辑区域\r\n            return item[cur] == demand[cur]\r\n        }\r\n      })\r\n    }, list)\r\n  }\r\n}\r\n\r\n// 判断state中的list，并返回相应的list数组\r\nconst distList = (item) => {\r\n  let condition = {}\r\n  let nowMsec = new Date().getTime()\r\n  let timeStr = (msecNum) => {\r\n    return {\r\n      year: new Date(msecNum).getFullYear(),\r\n      month: new Date(msecNum).getMonth(),\r\n      day: new Date(msecNum).getDate()\r\n    }\r\n  }\r\n  // 返回一个毫秒时间段数组，[time-segment,time],segment单位为天\r\n  let targetMsec = (time, segment) => {\r\n    let segTime = timeStr(time)\r\n    // 获得当天00:00:00的毫秒数\r\n    segTime = new Date(segTime.year, segTime.month, segTime.day)\r\n    return [segTime - (segment - 1) * 86400000, time]\r\n  }\r\n  if (typeof item === 'object') {\r\n    condition.date = item\r\n    return on_demand(allCount, condition)\r\n  }\r\n  switch (item) {\r\n    case 'all':\r\n      return allCount\r\n    case 'today':\r\n      condition.date = targetMsec(nowMsec, 1)\r\n      return on_demand(allCount, condition)\r\n    case 'week':\r\n      condition.date = targetMsec(nowMsec, 7)\r\n      return on_demand(allCount, condition)\r\n  }\r\n}\r\n// action.state的结构为：\r\n/* state_example={\r\n  list:'all',\r\n  demand:{\r\n    ······\r\n    条件键值对\r\n    ······\r\n  }\r\n} */\r\nexport default function countDate (preState = initState, action) {\r\n  allCount = JSON.parse(localStorage.getItem('allCount')) || [initState]\r\n  const { type, data } = action\r\n  switch (type) {\r\n    case GETCOUNTDATA:\r\n      return [...on_demand(distList(data.list), data.demand)]\r\n  }\r\n  return preState\r\n}","import on_demand from './countData'\r\nimport { OFS } from '../constant'\r\nconst initState = {\r\n  count: 0,\r\n  category: ['暂无数据'],\r\n  date: 0,\r\n  account: '暂无数据',\r\n  pay: true\r\n}\r\nlet allCount = JSON.parse(localStorage.getItem('allCount')) || [initState] // 获取所有账单数据\r\n\r\n// 判断state中的list，并返回相应的list数组\r\nconst distList = (item) => {\r\n  let condition = { type: 'getCountData', data: { demand: {}, list: 'all' } }\r\n  let nowMsec = new Date().getTime()\r\n  let timeStr = (msecNum) => {\r\n    return {\r\n      year: new Date(msecNum).getFullYear(),\r\n      month: new Date(msecNum).getMonth(),\r\n      day: new Date(msecNum).getDate()\r\n    }\r\n  }\r\n  // 返回一个毫秒时间段数组，[time-segment,time],segment单位为天\r\n  let targetMsec = (time, segment) => {\r\n    let segTime = timeStr(time)\r\n    // 获得当天00:00:00的毫秒数\r\n    segTime = new Date(segTime.year, segTime.month, segTime.day)\r\n    return [segTime - (segment - 1) * 86400000, time]\r\n  }\r\n  switch (item) {\r\n    case 'today':\r\n      condition.data.demand.date = targetMsec(nowMsec, 1)\r\n      return on_demand([], condition)\r\n    case 'week':\r\n      condition.data.demand.date = targetMsec(nowMsec, 7)\r\n      return on_demand([], condition)\r\n    case 'month':\r\n      let thisMonthDays = timeStr(nowMsec).day\r\n      condition.data.demand.date = targetMsec(nowMsec, thisMonthDays)\r\n      return on_demand([], condition)\r\n    case 'year':\r\n      let thisYear = timeStr(nowMsec).year\r\n      condition.date = targetMsec(nowMsec, thisYear)\r\n      return on_demand(allCount, condition)\r\n  }\r\n}\r\n// 收支计算\r\nconst revenue = (list) => {\r\n  let arr = list || []\r\n  return arr.reduce((pre, cur) => {\r\n    if (cur.pay) {\r\n      pre.pay += cur.count * 1\r\n    } else {\r\n      pre.income += cur.count * 1\r\n    }\r\n    return pre\r\n  }, { pay: 0, income: 0 })\r\n}\r\n// 资产统计\r\nconst calcuAsset = (ofs, cate) => {\r\n  return ofs[`${cate}Revenue`]['income'] - ofs[`${cate}Revenue`]['pay']\r\n}\r\n\r\nexport default function getOFS (pre = [null], action) {\r\n  let ofs = {}\r\n  const { type, data } = action\r\n  // 支出列表\r\n  if (type === OFS) {\r\n    let list = data || []\r\n    ofs.payArr = list.filter(item => {\r\n      return item['pay']\r\n    })\r\n    // 收入列表\r\n    ofs.incomeArr = list.filter(item => {\r\n      return !item['pay']\r\n    })\r\n    // 今天列表\r\n    ofs.todayArr = distList('today')\r\n    // 本周列表\r\n    ofs.weekArr = distList('week')\r\n    // 本月列表\r\n    ofs.monthArr = distList('month')\r\n    // 本年列表\r\n    ofs.yearArr = distList('year')\r\n    // 现金列表\r\n    ofs.cashArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '现金' }, list: 'all' } })\r\n    // 银行卡列表\r\n    ofs.creditArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '银行卡' }, list: 'all' } })\r\n    // 公交卡列表\r\n    ofs.bushCardArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '公交卡' }, list: 'all' } })\r\n    // 支付宝列表\r\n    ofs.aliPayArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '支付宝' }, list: 'all' } })\r\n    // 微信列表\r\n    ofs.weChatArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '微信' }, list: 'all' } })\r\n    // 今日收支\r\n    ofs.todayRevenue = revenue(ofs.todayArr)\r\n    // 本周收支\r\n    ofs.weekRevenue = revenue(ofs.weekArr)\r\n    // 本月收支\r\n    ofs.monthRevenue = revenue(ofs.monthArr)\r\n    // 今年收支\r\n    ofs.yearRevenue = revenue(ofs.yearArr)\r\n    // 现金收支\r\n    ofs.cashRevenue = revenue(ofs.cashArr)\r\n    // 银行卡收支\r\n    ofs.creditRevenue = revenue(ofs.creditArr)\r\n    // 公交卡收支\r\n    ofs.bushCardRevenue = revenue(ofs.bushCardArr)\r\n    // 支付宝收支\r\n    ofs.aliPayRevenue = revenue(ofs.aliPayArr)\r\n    // 微信收支\r\n    ofs.weChatRevenue = revenue(ofs.weChatArr)\r\n    // 现金资产\r\n    ofs.cashAsset = calcuAsset(ofs, 'cash')\r\n    // 银行卡资产\r\n    ofs.creditAsset = calcuAsset(ofs, 'credit')\r\n    // 公交卡资产\r\n    ofs.bushCardAsset = calcuAsset(ofs, 'bushCard')\r\n    // 支付宝资产\r\n    ofs.aliPayAsset = calcuAsset(ofs, 'aliPay')\r\n    // 微信资产\r\n    ofs.weChatAsset = calcuAsset(ofs, 'weChat')\r\n    // 资产\r\n    ofs.sumAsset = ofs.cashAsset + ofs.creditAsset + ofs.bushCardAsset + ofs.aliPayAsset + ofs.weChatAsset\r\n    // 虚拟资产\r\n    ofs.virtualAsset = ofs.sumAsset - ofs.cashAsset\r\n    return ofs\r\n  }\r\n  return pre\r\n}","import { NUMFOR } from '../constant'\r\n// 将数字格式化为金额\r\n// c表示保留几位小数\r\n// d小数点位置的符号,可以正常地设置为'.',也可以自定义\r\n// t千分位符号\r\nconst initState = {\r\n  todayArr: [],\r\n  // 今天列表\r\n  todayArr: [],\r\n  // 本周列表\r\n  weekArr: [],\r\n  // 本月列表\r\n  monthArr: [],\r\n  // 本年列表\r\n  yearArr: [],\r\n  // 现金列表\r\n  cashArr: [],\r\n  // 银行卡列表\r\n  creditArr: [],\r\n  // 公交卡列表\r\n  bushCardArr: [],\r\n  // 支付宝列表\r\n  aliPayArr: [],\r\n  // 微信列表\r\n  weChatArr: [],\r\n  // 今日收支\r\n  todayRevenue: 0,\r\n  // 本周收支\r\n  weekRevenue: 0,\r\n  // 本月收支\r\n  monthRevenue: 0,\r\n  // 今年收支\r\n  yearRevenue: 0,\r\n  // 现金收支\r\n  cashRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // 银行卡收支\r\n  creditRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // 公交卡收支\r\n  bushCardRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // 支付宝收支\r\n  aliPayRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // 微信收支\r\n  weChatRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // 现金资产\r\n  cashAsset: 0,\r\n  // 银行卡资产\r\n  creditAsset: 0,\r\n  // 公交卡资产\r\n  bushCardAsset: 0,\r\n  // 支付宝资产\r\n  aliPayAsset: 0,\r\n  // 微信资产\r\n  weChatAsset: 0,\r\n  // 资产\r\n  sumAsset: 0,\r\n  // 虚拟资产\r\n  virtualAsset: 0,\r\n}\r\nNumber.prototype.numberFormat = function (c, d, t) {\r\n  var n = this,\r\n    c = isNaN(c = Math.abs(c)) ? 2 : c,\r\n    d = d == undefined ? \".\" : d,\r\n    t = t == undefined ? \",\" : t,\r\n    s = n < 0 ? \"-\" : \"\",\r\n    i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),\r\n    j = (j = i.length) > 3 ? j % 3 : 0;\r\n  return s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : \"\");\r\n};\r\n\r\nexport default function numberFormat (pre = initState, action) {\r\n  const { type, data } = action\r\n  if (type === NUMFOR) {\r\n    const deepClone = (obj, flag = false) => {  // 深度遍历对象，遍历时检查并格式化金额，返回一个格式化好的对象\r\n      if (typeof obj !== 'object' || obj === null) {\r\n        if (flag) {\r\n          let number = obj * 1\r\n          return number.numberFormat(2)\r\n        } else {\r\n          return obj\r\n        }\r\n      }\r\n      if (Array.isArray(obj)) {\r\n        var clone = []\r\n      } else {\r\n        var clone = {}\r\n      }\r\n      for (let key in obj) {\r\n        if (key.indexOf('Asset') >= 0 || key === 'pay' || key === 'income' || key === 'count') {\r\n          clone[key] = deepClone(obj[key], true)\r\n        } else {\r\n          clone[key] = deepClone(obj[key], false)\r\n        }\r\n      }\r\n      return clone\r\n    }\r\n    return { ...pre, ...deepClone(data, false) }\r\n  }\r\n  return pre\r\n}\r\n","import { RANK } from '../constant'\r\n\r\n// action模板\r\n/* action.data{\r\n  order:false,\r\n  rank: 'juniorcategory/secondarycategory/account/member/', // 非必须\r\n  category:'date/payCount/incomeCount'  //必须属性，说明是按照什么升降排序的\r\n} */\r\n\r\n// 排序函数\r\nArray.prototype.mySort = function (cate, order) {\r\n  let list = this\r\n  if (cate.indexOf('pay') >= 0 || cate.indexOf('income') >= 0) {\r\n    cate = 'count'\r\n  }\r\n  list.sort((a, b) => {\r\n    if (order) {\r\n      return a[cate] - b[cate]\r\n    } else {\r\n      return b[cate] - a[cate]\r\n    }\r\n  })\r\n}\r\n// 项目分类统计\r\nconst rankSort = (list, n, data) => {  // n为分级，1为juniorcategory，2位secondarycategory     data为传入order升降序做准备\r\n  list = list.reduce((pre, cur) => {  // 统计每个分类下的账单，返回一个对象\r\n    let x = cur.category.split('>')[n - 1]\r\n    if (pre[x]) {\r\n      pre[x].push(cur)\r\n    } else {\r\n      pre[x] = [cur]\r\n    }\r\n    return pre\r\n  }, {})\r\n  let arr = []\r\n  for (let key in list) {  // 返回一个数组，数组元素是对象，每个对象是一个分类的集合\r\n    let a = {\r\n      name: key,\r\n      obj: list[key],\r\n      sum: list[key].reduce((pre, cur) => {\r\n        return pre + cur.count * 1\r\n      }, 0)\r\n    }\r\n    arr.push(a)\r\n  }\r\n  arr.mySort('sum', data.demand.order)\r\n  return arr\r\n}\r\n// account member分类统计\r\nconst amrankSort = (list, data) => {\r\n  list = list.reduce((pre, cur) => {  // 统计每个分类下的账单，返回一个对象\r\n    if (pre[cur[data.demand.rank]]) {\r\n      pre[cur[data.demand.rank]].push(cur)\r\n    } else {\r\n      pre[cur[data.demand.rank]] = [cur]\r\n    }\r\n    return pre\r\n  }, {})\r\n  let arr = []\r\n  for (let key in list) {  // 返回一个数组，数组元素是对象，每个对象是一个分类的集合\r\n    let a = {\r\n      name: key,\r\n      obj: list[key],\r\n      sum: list[key].reduce((pre, cur) => {\r\n        return pre + cur.count * 1\r\n      }, 0)\r\n    }\r\n    arr.push(a)\r\n  }\r\n  arr.mySort('sum', data.demand.order)\r\n  return arr\r\n}\r\n\r\nexport default function rank (preState = [], action) {\r\n  const { type, data } = action\r\n  if (type === RANK) {\r\n    let { list } = data\r\n    if (data.list === 'all') {  // 不传入具体的list，而是给个all，就是从所有账单中找\r\n      list = JSON.parse(localStorage.getItem('allCount')) || []\r\n    }\r\n    let cat = data.demand.category\r\n    switch (cat) {\r\n      case 'date':  // 日期排序\r\n        list.mySort(cat, data.demand.order)\r\n        break\r\n      case 'payCount':  // 支出排序\r\n        list = list.filter(item => {   // 摘出所有的支出账单\r\n          return item.pay\r\n        })\r\n        list.mySort(cat, data.demand.order)  // 然后按order进行排序\r\n        break\r\n      case 'incomeCount':  // 收入排序\r\n        list = list.filter(item => {    // 同上\r\n          return !item.pay\r\n        })\r\n        list.mySort(cat, data.demand.order)\r\n        break\r\n    }\r\n    switch (data.demand.rank) {\r\n      case 'juniorcategory':  // 一级分类排序\r\n        list = rankSort(list, 1, data)\r\n        break\r\n      case 'secondarycategory':  // 二级分类排序\r\n        list = rankSort(list, 2, data)\r\n        break\r\n      default:\r\n        list = amrankSort(list, data)\r\n        break\r\n    }\r\n    return [...list]\r\n  }\r\n  return preState\r\n}","/* \r\n  该文件用于汇总所有的reducer为一个总的reducer\r\n*/\r\n//引入combineReducers，用于汇总多个reducer\r\nimport { combineReducers } from 'redux'\r\n// 引入为存储账单、更改账单服务的reducer\r\nimport saveCount from './saveCount'\r\nimport countData from './countData'\r\nimport ofs from './oFS'\r\nimport numFor from './numberFomat'\r\nimport getRank from './rank'\r\n\r\n\r\n//汇总所有的reducer变为一个总的reducer\r\nexport default combineReducers({\r\n  saveCount,\r\n  countData,\r\n  ofs,\r\n  numFor,\r\n  getRank\r\n})\r\n","import { createStore, applyMiddleware } from 'redux'\r\n\r\n//引入redux-thunk，用于支持异步action\r\nimport thunk from 'redux-thunk'\r\n//引入汇总之后的reducer\r\nimport reducer from './reducers'\r\n\r\n\r\nexport default createStore(reducer, applyMiddleware(thunk))","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport store from './redux/store'\r\nimport { Provider } from 'react-redux'\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <React.StrictMode>\r\n        <App />\r\n      </React.StrictMode>\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1juac\",\"line\":\"style_line__3s0t0\",\"line2\":\"style_line2__3TT8R\",\"row\":\"style_row__2L_S9\",\"col\":\"style_col__2SKiI\",\"middle\":\"style_middle__3TTBI\",\"switchDown\":\"style_switchDown__3IUgt\",\"switchTop\":\"style_switchTop__1KNSf\",\"animationUp\":\"style_animationUp__3XF5j\",\"rotateUp\":\"style_rotateUp__1GbX-\",\"animationDown\":\"style_animationDown__8J9sn\",\"rotateDown\":\"style_rotateDown__2AY0O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1AXBL\",\"head\":\"style_head__WH0to\",\"count\":\"style_count__ld2UQ\",\"site_calendar_demo_card\":\"style_site_calendar_demo_card__2uk0W\",\"remark\":\"style_remark__fzcn-\",\"bottonContainer\":\"style_bottonContainer__3Ca3R\",\"conserveButoon\":\"style_conserveButoon__3ZTLH\",\"conserveAsTempButoon\":\"style_conserveAsTempButoon__qi86Y\",\"drawerButoon\":\"style_drawerButoon__2PU4V\",\"containerMove\":\"style_containerMove__n7N79\",\"drawerBody\":\"style_drawerBody__2eNoU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__3UtLb\",\"side\":\"style_side__32GId\",\"content\":\"style_content__LqKoe\",\"addButoon\":\"style_addButoon__fZi1f\",\"font\":\"style_font__2qYe8\",\"site-layout-background\":\"style_site-layout-background__34UJi\",\"white\":\"style_white__3nl5R\",\"mainMoveOut\":\"style_mainMoveOut__jqRdz\",\"mainMoveIn\":\"style_mainMoveIn__1wQGx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2_j-1\",\"handleHead\":\"style_handleHead__2MdiS\",\"head\":\"style_head__2aEue\",\"mainMoveOut\":\"style_mainMoveOut__jHcn3\",\"mainMoveIn\":\"style_mainMoveIn__3Zy7m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"tagstyle_container__2gQ99\",\"head\":\"tagstyle_head__2NIYv\",\"icon\":\"tagstyle_icon__21QLo\",\"left\":\"tagstyle_left__1NT2R\"};"],"sourceRoot":""}