{"version":3,"sources":["Containers/Calculator/style.module.css","Containers/Head/style.module.css","Containers/Calculator/index.jsx","Containers/IndexPage/style.module.css","globalContext.js","Containers/Head/Head.jsx","redux/constant.js","Containers/IndexPage/handle.js","Containers/IndexPage/IndexPage.jsx","redux/actions/countData.js","Containers/List/List.jsx","Containers/AddACount/Cascader/Cascader.jsx","Containers/AddACount/Pay/Pay.jsx","redux/actions/saveCount.js","Containers/AddACount/tag.jsx","Containers/AddACount/AddACount.jsx","Containers/Home/Home.jsx","App.jsx","redux/reducers/saveCount.js","redux/reducers/countData.js","redux/reducers/index.js","redux/store.js","index.js","Containers/AddACount/Cascader/style.module.css","Containers/AddACount/Pay/style.module.css","Containers/Home/style.module.css","Containers/AddACount/style.module.css","Containers/AddACount/tagstyle.module.css"],"names":["module","exports","index","props","outPut","result","toString","indexOf","pointFlag","state","wrench","display","initialNum","getResult","arrHead","calculator","copyArr","unshift","eval","splice","length","join","setState","order","section","getValue","e","target","value","innerText","setTimeout","closeCalcu","tail","push","arrPopIsOpe","pop","popEl","a","x","numberArr","this","className","style","container","onClick","margin","span","flexDirection","justifyContent","type","background","map","item","randomNum","resultBotton","Component","createContext","Index","main","SAVECOUNT","SAVEASTEMP","GETCOUNTDATA","ofs","allCount","JSON","parse","localStorage","getItem","count","category","date","account","pay","on_demand","list","demand","keys","Object","reduce","pre","cur","filter","console","log","distList","condition","nowMsec","Date","getTime","timeStr","msecNum","year","getFullYear","month","getMonth","day","getDate","targetMsec","time","segment","segTime","thisMonthDays","revenue","arr","income","calcuAsset","cate","connect","countData","getCountData","data","useState","setData","fresh","day2","setTime","dat","key","payArr","incomeArr","todayArr","weekArr","monthArr","cashArr","creditArr","bushCardArr","aliPayArr","weChatArr","todayRevenue","weekRevenue","monthRevenue","cashRevenue","creditRevenue","bushCardRevenue","aliPayRevenue","weChatRevenue","cashAsset","creditAsset","bushCardAsset","aliPayAsset","weChatAsset","sumAsset","handleDate","useEffect","head","big","decorationBar","card","marginTop","col","payOut","width","overflow","payCountSum","RightOutlined","icon","betweenText","showProgress","percent","showInfo","size","id","float","marginRight","t","viewBox","version","xmlns","p-id","height","d","classify","color","fontWeight","fontSize","lineHeight","lamination","calendarArray","position","borderBottom","paddingBottom","assetsCard","stickBlock","backgroundColor","addAFlag","obj","rightCol","useRef","leftCol","output","selectedLeft","arrr","selectedRight","change","all","Array","i","slice","arra","arrb","edit","chara","ref","targetArr","Math","abs","random","addAnimation","action","animationDown","animationUp","message","warning","name","current","bordered","row","middle","line","line2","switchDown","right","left","switchTop","Panel","payCat","incomeCat","AccountCat","numberCat","initialState","receivePayCat","receiveAccountCat","dateStr","receiveNumberCat","tempVisible","calcuVisible","saveCount","saveAsTemp","Consumer","useContext","globalContext","info","member","remark","onPanelChange","_d","str","padding","inputRef","tempInputRef","conserveTemp","conserve","notification","cloneObj","deepClone","isArray","tempName","onClose","collapseList","accordion","header","showArrow","Cascader","site_calendar_demo_card","fullscreen","onChange","s","verification","mainIn","title","danger","mainOut","onKeyDown","keyCode","placeholder","bottonContainer","conserveButoon","conserveAsTempButoon","placement","closable","visible","headerStyle","drawerBody","paddingLeft","paddingTop","textAlign","drawerButoon","Calculator","fill","Provider","mainAnimation","TabPane","mainRef","classn","mainMoveOut","mainMoveIn","handleHead","defaultActiveKey","centered","animated","tab","Pay","Sider","Content","items","history","useHistory","listen","historyLocation","pathname","side","defaultSelectedKeys","mode","font","Item","to","addButoon","content","path","component","IndexPage","exact","List","AddACount","App","Home","withRouter","initState","combineReducers","setItem","stringify","allTemp","createStore","reducer","applyMiddleware","thunk","ReactDOM","render","store","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5754bf3d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2fsMS\",\"display\":\"style_display__3pIVn\",\"resultBotton\":\"style_resultBotton__jKRXv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__3GSmJ\"};","import React, { Component } from 'react';\r\nimport { Button, Row, Col } from 'antd';\r\nimport style from './style.module.css'\r\nimport randomNum from 'number-random'\r\n\r\nclass index extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.numberArr = [1, 4, 7]\r\n    this.calculator = []\r\n    this.wrench = 0\r\n    // 计算时显示正在手打的数值\r\n    this.section = ''\r\n    // 计算并输出值\r\n    this.result = this.props.initialNum\r\n    // 数位\r\n    this.order = 0\r\n    // 计算器数组头部\r\n    this.arrHead = this.calculator[0]\r\n    // 计算器数组尾部是否为运算符\r\n    this.arrPopIsOpe = false\r\n  }\r\n  componentDidUpdate () {\r\n    this.arrHead = this.calculator[0]\r\n    this.arrPopIsOpe = this.calculator[this.calculator.length - 1] === '-' || this.calculator[this.calculator.length - 1] === '+'\r\n  }\r\n  // 向父组件传值\r\n  outPut = () => {\r\n    this.props.outPut(this.result)\r\n    if (this.result.toString().indexOf('.') !== -1) {  // 查看结果是否有小数点\r\n      this.pointFlag = true  // 有就禁用下一次的小数点\r\n    }\r\n  }\r\n  state = {\r\n    // 计算器扳手wrench，碰到+、-时 +1 ，碰到 = 是为2，当为2时进行计算\r\n    wrench: 0,\r\n    // 计算器显示值\r\n    display: this.props.initialNum,\r\n    // 小数点flag\r\n    pointFlag: false\r\n  }\r\n  getResult = () => {\r\n    this.arrHead = this.calculator[0] // 获取计算器数组第一个元素，用于判断是否头部为运算符\r\n    let copyArr = this.calculator\r\n    if (this.arrHead === '-' || this.arrHead === '+') { // 判断头部是否为运算符\r\n      copyArr.unshift(0) // 是就前置一个0\r\n    }\r\n    this.result = eval(copyArr.splice(0, copyArr.length).join(''))\r\n    this.setState({ ...this.state, display: this.result })\r\n    this.order = 0\r\n    this.wrench = 0\r\n    this.section = ''        // 切换并且下次输入数值为另一个新数\r\n    this.outPut()\r\n    this.pointFlag = false\r\n  }\r\n  // 获取到摁下值\r\n  getValue = (e) => {\r\n    if (e.target.toString() !== '[object HTMLSpanElement]' && e.target.toString() !== '[object HTMLButtonElement]') return\r\n    // 获取值存入value\r\n    let value = e.target.innerText\r\n    // 根据输入值判断\r\n    switch (value) {\r\n      case 'C':   // 清除值，并初始化计算器\r\n        this.setState({ ...this.state, display: 0 })\r\n        this.calculator = []\r\n        this.pointFlag = false\r\n        this.wrench = 0\r\n        this.section = ''\r\n        this.order = 0\r\n        break;\r\n      case 'OK':   // 传出显示数值，并退出计算器\r\n        this.result = this.state.display\r\n        this.outPut()\r\n        setTimeout(() => { //疑似一个bug，同步任务将不会更新父组件的金额，异步任务才行\r\n          this.props.closeCalcu()\r\n        }, 0)\r\n        break;\r\n      case '=':   // 计算值，并将扳手归零\r\n        let tail = this.calculator[this.calculator.length - 1]\r\n        if (tail === '-' || tail === '+') { // 防止计算器中仅有一个数字和一个运算符\r\n          this.calculator.push(0)         // 为此，在数组后面push一个0进去\r\n        }\r\n        this.getResult()\r\n        this.calculator = [this.result]\r\n        break;\r\n      case '+':   // 加号运算\r\n        this.calculator.push(value)  // 计算器数组中推入加号\r\n        this.wrench++     // 扳手增1\r\n        this.section = ''     // 加号会更新计算器下次输入时的显示值,但不会将值传给display渲染\r\n        this.setState({ ...this.state })\r\n        this.pointFlag = false\r\n        this.order = 0\r\n        break;\r\n      case '-':   // 减号运算\r\n        this.calculator.push(value)\r\n        if (this.calculator.length) {  // 此处用于判断初始值为负的情况\r\n          this.wrench++     // 不为初始值,扳手才加一\r\n        }\r\n        this.section = ''\r\n        this.setState({ ...this.state })\r\n        this.pointFlag = false\r\n        this.order = 0\r\n        break;\r\n      case '.':\r\n        if (!this.pointFlag) {   // 防止一个数字小数点该出现两次\r\n          this.pointFlag = true  // 关闭标识防止添加两个小数点\r\n          this.section += value\r\n          if (this.section.length === 1) {\r\n            this.section = 0 + value // 为初始值为小数的情况加上0这个字\r\n          }\r\n          if (!this.arrPopIsOpe) {\r\n            this.calculator.pop()\r\n          }\r\n          this.calculator.push(this.section)\r\n          this.setState({ ...this.state, display: this.section ? this.section : '0' })\r\n        }\r\n        break;\r\n      default:\r\n        if (this.order >= 9) { break; }//超过9位数则忽略\r\n        this.section += value\r\n        if (this.section[0] === '0' && value !== '0' && this.section.length <= 2) {  // 如果输入的运算数字第一位为0且不是小数的话，防止八进制错误\r\n          this.section = value\r\n          this.setState({ ...this.state, display: this.section })\r\n          break;\r\n        }\r\n        this.order++\r\n        if (this.calculator[0] === this.result.toString() && this.calculator[0] !== this.section && this.calculator.length === 1) {\r\n          this.calculator = []\r\n        }\r\n        let popEl = this.calculator.pop()\r\n        if (this.arrPopIsOpe) {  // 将section推入calculator前的判断,是运算符号的话要重新推回去\r\n          this.calculator.push(popEl)\r\n        }\r\n        this.calculator.push(this.section)\r\n        this.setState({ ...this.state, display: this.section ? this.section : '0' })\r\n    }\r\n    if (this.wrench >= 2) {     // 扳手触发运算\r\n      let a = this.calculator.pop()  // 将计算器数组最后一个运算符弹出\r\n      if (this.calculator[this.calculator.length - 1] === '-' || this.calculator[this.calculator.length - 1] === '+' && this.calculator.length === 2) {  // 如果弹出一个运算符以后，数组尾部还有一个运算符，则自加/自减\r\n        let x = this.calculator.pop()\r\n        this.calculator = [...this.calculator, x, ...this.calculator]\r\n      }\r\n      if (this.calculator.length === 1) return\r\n      this.getResult()\r\n      this.calculator = [this.result, a]  // 计算器数组根据结果重新初始化\r\n      this.wrench = 1   // 扳手初始化为1，因为上一行传入了一个运算符\r\n    }\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={style.container} onClick={this.getValue} >\r\n        <div className={style.display}>{this.state.display}</div>\r\n        <Row style={{ margin: 'auto 20px' }}>\r\n          <Col span={18} style={{ display: 'flex', flexDirection: 'column-reverse' }}>\r\n            <Col span={24} style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around' }}>\r\n              <Button type='primary' style={{ background: 'linear-gradient(to bottom,#f2b452,#d78437)' }}>C</Button><Button type='primary'>0</Button><Button type='primary'>.</Button>\r\n            </Col>\r\n            {\r\n              this.numberArr.map((item) => {\r\n                return (\r\n                  <Col span={24} style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around' }} key={randomNum(0, 10, true)}>\r\n                    <Button type='primary'>{item}</Button><Button type='primary'>{item + 1}</Button><Button type='primary'>{item + 2}</Button>\r\n                  </Col>\r\n                )\r\n              })\r\n            }\r\n          </Col>\r\n          <Col span={6} style={{ display: 'flex', flexDirection: 'column' }}>\r\n            <Button type='primary' style={{ background: '#909fb7' }}>+</Button>\r\n            <Button type='primary' style={{ background: '#909fb7' }}>-</Button>\r\n            <Button type='primary' className={style.resultBotton}>{this.wrench ? '=' : 'OK'}</Button>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default index;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__Nr_TA\",\"head\":\"style_head__9S6P9\",\"big\":\"style_big__XwKln\",\"decorationBar\":\"style_decorationBar__2Y581\",\"card\":\"style_card__y4Ilk\",\"col\":\"style_col__ZkKAx\",\"payCountSum\":\"style_payCountSum__1lRNy\",\"icon\":\"style_icon__nGYZz\",\"calendarArray\":\"style_calendarArray__2rGyQ\",\"payOut\":\"style_payOut__22bsG\",\"betweenText\":\"style_betweenText__1OXku\",\"income\":\"style_income__2LGsI\",\"showProgress\":\"style_showProgress__1mHlW\",\"classify\":\"style_classify__2YYsY\",\"lamination\":\"style_lamination__1YNoP\",\"assetsCard\":\"style_assetsCard__3TEaa\",\"stickBlock\":\"style_stickBlock__3ohIc\"};","import { createContext } from 'react'\r\n\r\nexport default createContext()\r\n","import React from 'react'\r\nimport style from './style.module.css'\r\n\r\nexport default function Index (props) {\r\n  return (\r\n    <div className={style.main}>\r\n    </div>\r\n  )\r\n}\r\n","export const SAVECOUNT = 'saveCount' // 保存账单\r\nexport const EDITCOUNT = 'editCount' // 修改账单\r\nexport const SAVEASTEMP = 'saveAsTemp' // 修改账单\r\nexport const GETCOUNTDATA = 'getCountData' // 获取账单数据\r\n","let ofs = {}\r\nconst initState = {\r\n  count: 0,\r\n  category: ['暂无数据'],\r\n  date: 0,\r\n  account: '暂无数据',\r\n  pay: true\r\n}\r\nlet allCount = JSON.parse(localStorage.getItem('allCount')) || [initState] // 获取所有账单数据\r\n\r\n// 按需获取数据\r\nconst on_demand = (list, demand) => {\r\n  let keys = Object.keys(demand)  // 获取到需求的项目的'键'数组\r\n  if (keys.length === 0) {// 获取所有列表\r\n    return list\r\n  } else {\r\n    return keys.reduce((pre, cur) => { // 将范围数组当成初始值扔入reduce\r\n      return pre.filter(item => { // 用filter筛选符合本次demand[cur]要求的账单数组\r\n        switch (typeof demand[cur]) { // 条件键值对的值demand[cur]，可以区分为两类\r\n          case 'object': // 引用数据类型 这一类下也有两个子类\r\n            if (typeof demand[cur][0] === 'number') { // count date 查询逻辑区域\r\n              if (demand[cur][0] <= item[cur] && item[cur] <= demand[cur][1]) return item\r\n            } else { // category 查询逻辑区域\r\n              if (demand[cur][1]) {\r\n                console.log(2222222);\r\n                console.log(demand[cur]);\r\n                return item[cur].indexOf(demand[cur][1]) !== -1\r\n              } else {\r\n                return item[cur].indexOf(demand[cur][0]) !== -1\r\n              }\r\n            }\r\n            break;\r\n          default: // 基本数据类型 pay id member account 查询逻辑区域\r\n            return item[cur] == demand[cur]\r\n        }\r\n      })\r\n    }, list)\r\n  }\r\n  return []\r\n}\r\n\r\n// 判断state中的list，并返回相应的list数组\r\nconst distList = (item) => {\r\n  let condition = {}\r\n  let nowMsec = new Date().getTime()\r\n  let timeStr = (msecNum) => {\r\n    return {\r\n      year: new Date(msecNum).getFullYear(),\r\n      month: new Date(msecNum).getMonth(),\r\n      day: new Date(msecNum).getDate()\r\n    }\r\n  }\r\n  // 返回一个毫秒时间段数组，[time-segment,time],segment单位为天\r\n  let targetMsec = (time, segment) => {\r\n    let segTime = timeStr(time)\r\n    // 获得当天00:00:00的毫秒数\r\n    segTime = new Date(segTime.year, segTime.month, segTime.day)\r\n    return [segTime - (segment - 1) * 86400000, time]\r\n  }\r\n  if (typeof item === 'object') {\r\n    condition.date = item\r\n    return on_demand(allCount, condition)\r\n  }\r\n  switch (item) {\r\n    case 'all':\r\n      return allCount\r\n    case 'today':\r\n      condition.date = targetMsec(nowMsec, 1)\r\n      return on_demand(allCount, condition)\r\n    case 'week':\r\n      condition.date = targetMsec(nowMsec, 7)\r\n      return on_demand(allCount, condition)\r\n    case 'month':\r\n      let thisMonthDays = timeStr(nowMsec).day\r\n      condition.date = targetMsec(nowMsec, thisMonthDays)\r\n      return on_demand(allCount, condition)\r\n  }\r\n}\r\n// 收支计算\r\nconst revenue = (arr) => {\r\n  return arr.reduce((pre, cur) => {\r\n    if (cur.pay) {\r\n      pre.pay += cur.count * 1\r\n    } else {\r\n      pre.income += cur.count * 1\r\n    }\r\n    return pre\r\n  }, { pay: 0, income: 0 })\r\n}\r\n// 资产统计\r\nconst calcuAsset = (cate) => {\r\n  return ofs[`${cate}Revenue`]['income'] - ofs[`${cate}Revenue`]['pay']\r\n}\r\n\r\nexport default function handle (dat) {\r\n  // 支出列表\r\n  let data = dat || []\r\n  ofs.payArr = data.filter(item => {\r\n    return item['pay']\r\n  })\r\n  // 收入列表\r\n  ofs.incomeArr = data.filter(item => {\r\n    return !item['pay']\r\n  })\r\n  // 今天列表\r\n  ofs.todayArr = distList('today')\r\n  // 本周列表\r\n  ofs.weekArr = distList('week')\r\n  // 本月列表\r\n  ofs.monthArr = distList('month')\r\n  // 现金列表\r\n  ofs.cashArr = on_demand(allCount, { account: '现金' })\r\n  // 银行卡列表\r\n  ofs.creditArr = on_demand(allCount, { account: '银行卡' })\r\n  // 公交卡列表\r\n  ofs.bushCardArr = on_demand(allCount, { account: '公交卡' })\r\n  // 支付宝列表\r\n  ofs.aliPayArr = on_demand(allCount, { account: '支付宝' })\r\n  // 微信列表\r\n  ofs.weChatArr = on_demand(allCount, { account: '微信' })\r\n  // 今日收支\r\n  ofs.todayRevenue = revenue(ofs.todayArr)\r\n  // 本周收支\r\n  ofs.weekRevenue = revenue(ofs.weekArr)\r\n  // 本月收支\r\n  ofs.monthRevenue = revenue(ofs.monthArr)\r\n  // 现金收支\r\n  ofs.cashRevenue = revenue(ofs.cashArr)\r\n  // 银行卡收支\r\n  ofs.creditRevenue = revenue(ofs.creditArr)\r\n  // 公交卡收支\r\n  ofs.bushCardRevenue = revenue(ofs.bushCardArr)\r\n  // 支付宝收支\r\n  ofs.aliPayRevenue = revenue(ofs.aliPayArr)\r\n  // 微信收支\r\n  ofs.weChatRevenue = revenue(ofs.weChatArr)\r\n  // 现金资产\r\n  ofs.cashAsset = calcuAsset('cash')\r\n  // 银行卡资产\r\n  ofs.creditAsset = calcuAsset('credit')\r\n  // 公交卡资产\r\n  ofs.bushCardAsset = calcuAsset('bushCard')\r\n  // 支付宝资产\r\n  ofs.aliPayAsset = calcuAsset('aliPay')\r\n  // 微信资产\r\n  ofs.weChatAsset = calcuAsset('weChat')\r\n  // 资产\r\n  ofs.sumAsset = 0\r\n  for (let key in ofs) {\r\n    if (key.indexOf('Asset') >= 0) {\r\n      ofs.sumAsset += ofs[key]\r\n    }\r\n  }\r\n  console.log('ofs', ofs);\r\n  return data\r\n}","import React, { useEffect, useState } from 'react'\r\nimport style from './style.module.css'\r\nimport { Row, Col, Card, Progress } from 'antd'\r\nimport { connect } from 'react-redux'\r\nimport { RightOutlined } from '@ant-design/icons';\r\nimport randomNum from 'number-random'\r\nimport { getCountData } from '../../redux/actions/countData';\r\nimport handleDate from './handle';\r\n\r\n// 用于存储统计数据的对象，全称Object For Statistics\r\nlet oFS = {}\r\nfunction Index (props) {\r\n  const [data, setData] = useState()\r\n  // 用来确定当前时间以及获取redux传来的countData\r\n  const fresh = () => {\r\n    if (!data) {\r\n      let day2 = new Date();\r\n      day2.setTime(day2.getTime());\r\n      setData({\r\n        time: {\r\n          year: day2.getFullYear(),\r\n          month: (day2.getMonth() + 1).toString().length === 1 ? '0' + (day2.getMonth() + 1) : day2.getMonth() + 1,\r\n          date: day2.getDate().length === 1 ? '0' + day2.getDate() : day2.getDate()\r\n        }\r\n      })\r\n    }\r\n    props.getCountData({ list: 'all', demand: {} })\r\n    handleDate(props.countData)\r\n  }\r\n\r\n  // 用副作用函数更替时间\r\n  useEffect(() => {\r\n    fresh()\r\n  }, [data])\r\n\r\n  return (\r\n    <div className={style.container}>\r\n      {/* 头部区域 */}\r\n      <div className={style.head}>\r\n        <span className={style.big}>{data ? data.time.month : '0'}</span>\r\n        <span>/{data ? data.time.year : '0'}</span>\r\n        <div className={style.decorationBar}></div>\r\n      </div>\r\n\r\n      {/* 主体区域 */}\r\n      <Card className={style.card} style={{ marginTop: '80px' }}>\r\n\r\n        {/* 本月统计卡片 */}\r\n        <Row>\r\n          {/* 左侧支出收入统计 */}\r\n          <Col span={12} className={style.col}>\r\n            <Col span={24} className={style.payOut}>\r\n              <div>\r\n                <p>本月支出：</p>\r\n                <div style={{ width: 100 + '%', overflow: 'hidden' }}><p className={style.payCountSum}>￥???<RightOutlined className={style.icon} /></p></div>\r\n              </div>\r\n            </Col>\r\n            <Col className={style.income}>\r\n              <div className={style.betweenText}><span>本月收入：</span><span >￥???<RightOutlined className={style.icon} /></span></div>\r\n              <div className={style.betweenText}><span>预算额度：</span><span >￥???<RightOutlined className={style.icon} /></span></div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/* 右侧支出前三 */}\r\n          <Col span={12} className={style.col}>\r\n            <p>支出分类前 3：</p>\r\n            <div>\r\n              <p className={style.showProgress}>???</p>\r\n              <Progress percent={50} showInfo={false} size=\"small\" key={randomNum(0, 10000000, true)} percent={100} strokeColor='red' />\r\n            </div>\r\n            <div>\r\n              <p className={style.showProgress}>???</p>\r\n              <Progress percent={50} showInfo={false} size=\"small\" key={randomNum(0, 10000000, true)} percent={100} strokeColor='orange' />\r\n            </div>\r\n            <div>\r\n              <p className={style.showProgress}>???</p>\r\n              <Progress percent={50} showInfo={false} size=\"small\" key={randomNum(0, 10000000, true)} percent={100} />\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n\r\n      {/* 按间隔分类统计卡片 */}\r\n      <Card className={style.card}>\r\n        <Row>\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row' }}>\r\n            {/* 今天 */}\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621386037074\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"8490\" width=\"40\" height=\"40\"><path d=\"M408.222897 789.115586v-35.345655h217.15862v34.886621h33.474207V388.378483h-283.68331v400.737103h33.050483z m217.15862-237.779862h-217.15862v-130.824827h217.15862v130.824827z m0 170.301793h-217.15862v-138.169379h217.15862v138.169379z\" p-id=\"8491\"></path><path d=\"M917.645241 144.772414a70.62069 70.62069 0 0 1 70.62069 70.620689v681.489656a70.62069 70.62069 0 0 1-70.62069 70.620689H94.384552a70.62069 70.62069 0 0 1-70.62069-70.620689V215.393103a70.62069 70.62069 0 0 1 70.62069-70.620689h823.260689z m0 45.903448H94.384552a24.717241 24.717241 0 0 0-24.50538 21.362759l-0.211862 3.354482v681.489656a24.717241 24.717241 0 0 0 21.362759 24.505379l3.354483 0.211862h823.260689a24.717241 24.717241 0 0 0 24.50538-21.362759l0.211862-3.354482V215.393103a24.717241 24.717241 0 0 0-21.362759-24.505379l-3.354483-0.211862z\" p-id=\"8492\"></path><path d=\"M312.214069 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656276 3.389793l-0.247172-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724zM691.023448 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656275 3.389793l-0.247173-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724z\" p-id=\"8493\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}>今天</b>&nbsp;&nbsp;还没有记过帐</span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>???</span>\r\n                    <span>???</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/* 这周 */}\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row' }}>\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621385995771\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"7592\" width=\"40\" height=\"40\"><path d=\"M332.976552 790.49269c30.260966-56.002207 45.903448-129.447724 46.786207-219.418483V419.133793h278.174896v320.406069c0 11.934897-6.426483 18.361379-19.279448 18.361379-17.902345 0-37.181793-0.459034-57.838345-1.377103l8.721655 31.214345h59.215449c27.542069 0 41.772138-12.393931 41.772137-36.722759v-362.637241H346.747586v185.449931c-0.918069 78.494897-13.771034 143.218759-38.558896 194.171586l24.787862 22.49269z m298.372414-217.123311v-28.919172h-97.809656v-45.444414h82.626207v-27.542069h-82.626207v-38.099862h-32.132413v38.099862h-83.544276v27.542069H501.406897v45.444414h-97.315311v28.919172h227.222069z m-22.951725 149.186207v-114.299586h-185.485241v114.299586h185.449931z m-31.708689-28.919172h-121.644138v-57.379311h121.644138v57.379311z\" p-id=\"7593\"></path><path d=\"M917.645241 144.772414a70.62069 70.62069 0 0 1 70.62069 70.620689v681.489656a70.62069 70.62069 0 0 1-70.62069 70.620689H94.384552a70.62069 70.62069 0 0 1-70.62069-70.620689V215.393103a70.62069 70.62069 0 0 1 70.62069-70.620689h823.260689z m0 45.903448H94.384552a24.717241 24.717241 0 0 0-24.50538 21.362759l-0.211862 3.354482v681.489656a24.717241 24.717241 0 0 0 21.362759 24.505379l3.354483 0.211862h823.260689a24.717241 24.717241 0 0 0 24.50538-21.362759l0.211862-3.354482V215.393103a24.717241 24.717241 0 0 0-21.362759-24.505379l-3.354483-0.211862z\" p-id=\"7594\"></path><path d=\"M312.214069 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656276 3.389793l-0.247172-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724zM691.023448 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656275 3.389793l-0.247173-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724z\" p-id=\"7595\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}>本周</b></span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>???</span>\r\n                    <span>???</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/* 本月 */}\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row' }}>\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621385953741\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"6738\" width=\"40\" height=\"40\"><path d=\"M371.959172 792.328828c29.837241-39.017931 47.315862-88.134621 52.788966-147.809104h197.843862v91.347862c0 13.312-5.508414 20.197517-16.066207 20.197517-17.44331 0-36.722759-0.918069-57.838345-1.836137l9.18069 32.591448h59.215448c25.705931 0 39.017931-13.312 39.017931-39.476966V388.378483h-263.026758v224.008827c-0.918069 63.346759-16.066207 115.67669-46.362483 156.989793l25.246896 22.951725z m250.632828-291.945931h-195.972414v-80.331035h195.972414v80.331035z m0 113.381517h-195.972414v-82.626207h195.972414v82.626207z\" p-id=\"6739\"></path><path d=\"M917.645241 144.772414a70.62069 70.62069 0 0 1 70.62069 70.620689v681.489656a70.62069 70.62069 0 0 1-70.62069 70.620689H94.384552a70.62069 70.62069 0 0 1-70.62069-70.620689V215.393103a70.62069 70.62069 0 0 1 70.62069-70.620689h823.260689z m0 45.903448H94.384552a24.717241 24.717241 0 0 0-24.50538 21.362759l-0.211862 3.354482v681.489656a24.717241 24.717241 0 0 0 21.362759 24.505379l3.354483 0.211862h823.260689a24.717241 24.717241 0 0 0 24.50538-21.362759l0.211862-3.354482V215.393103a24.717241 24.717241 0 0 0-21.362759-24.505379l-3.354483-0.211862z\" p-id=\"6740\"></path><path d=\"M312.214069 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656276 3.389793l-0.247172-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724zM691.023448 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656275 3.389793l-0.247173-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724z\" p-id=\"6741\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}>{data ? data.time.month : 0}月</b>&nbsp;&nbsp;</span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>???</span>\r\n                    <span>???</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/* 今年 */}\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row' }}>\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621385903669\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5695\" width=\"40\" height=\"40\"><path d=\"M715.702857 32.365714a23.771429 23.771429 0 0 1 23.515429 20.260572l0.256 3.510857V149.942857l210.944 0.036572a73.142857 73.142857 0 0 1 73.142857 73.142857v705.828571a73.142857 73.142857 0 0 1-73.142857 73.142857H97.755429a73.142857 73.142857 0 0 1-73.142858-73.142857V223.085714a73.142857 73.142857 0 0 1 73.142858-73.142857h201.837714V56.100571a23.771429 23.771429 0 0 1 47.286857-3.510857l0.256 3.510857V149.942857h344.795429V56.137143a23.771429 23.771429 0 0 1 23.771428-23.771429zM299.593143 197.485714l-201.874286 0.036572a25.6 25.6 0 0 0-25.344 22.125714l-0.219428 3.474286v705.828571a25.6 25.6 0 0 0 22.125714 25.380572l3.474286 0.219428h852.662857a25.6 25.6 0 0 0 25.380571-22.125714l0.219429-3.474286V223.085714a25.6 25.6 0 0 0-22.125715-25.380571l-3.474285-0.219429H739.474286v45.933715a23.771429 23.771429 0 0 1-47.286857 3.510857l-0.256-3.510857V197.485714H347.136v45.970286a23.771429 23.771429 0 0 1-47.286857 3.510857l-0.256-3.510857V197.485714z m112.274286 181.504l35.657142 6.656c-5.229714 18.066286-11.410286 34.706286-18.066285 50.870857h295.241143v33.28h-149.284572v76.068572h132.644572v32.804571h-132.644572v102.692572h164.498286v33.28h-164.498286v106.020571h-34.706286V714.605714H321.097143v-33.28h78.445714v-135.497143h141.202286v-76.068571h-127.890286a285.805714 285.805714 0 0 1-75.117714 84.626286l-22.820572-28.525715c48.018286-36.132571 80.347429-85.101714 96.987429-146.907428z m128.841142 199.68H433.737143v102.692572h106.971428v-102.692572z\" p-id=\"5696\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}>今年</b>&nbsp;&nbsp;{data ? data.time.year : 2021}年</span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>???</span>\r\n                    <span>???</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n        </Row>\r\n      </Card>\r\n\r\n      {/* 资产 */}\r\n      <Card style={{ position: 'relative', overflow: 'hidden' }}>\r\n        {/* 现金账户 */}\r\n        <Row>\r\n          <Col span={24} style={{ borderBottom: '1px solid rgb(248,248,248)', fontSize: '25px', fontWeight: '800', paddingBottom: '15px' }}>&nbsp;&nbsp;&nbsp;&nbsp;资产：￥？？？</Col>\r\n          <Col span={24} className={style.assetsCard}>\r\n            <Col span={24} className={style.classify} style={{ lineHeight: '30px', borderBottom: 0 }}>\r\n              <div className={style.stickBlock}></div>\r\n              <span style={{ color: 'black' }}>现金账户</span>\r\n              <span style={{ color: 'black' }}>￥？？？</span>\r\n            </Col>\r\n            {/* 详情 */}\r\n            <Col>\r\n              <div className={style.classify} style={{ borderBottom: 0 }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  现金\r\n                </span>\r\n                <span style={{ color: 'red', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥???\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n\r\n      {/* 虚拟账户 */}\r\n      <Card style={{ position: 'relative', overflow: 'hidden' }}>\r\n        <Row>\r\n          <Col span={24} className={style.assetsCard}>\r\n            <Col span={24} className={style.classify} style={{ lineHeight: '30px', borderBottom: 0 }}>\r\n              <div className={style.stickBlock} style={{ backgroundColor: 'brown' }}></div>\r\n              <span style={{ color: 'black' }}>虚拟账户</span>\r\n              <span style={{ color: 'black' }}>￥？？？</span>\r\n            </Col>\r\n            {/* 详情 */}\r\n            <Col>\r\n              <div className={style.classify} style={{ paddingBottom: '15px' }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  银行卡\r\n                </span>\r\n                <span style={{ color: 'red', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥???\r\n                </span>\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div className={style.classify} style={{ paddingBottom: '15px' }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  公交卡\r\n                </span>\r\n                <span style={{ color: 'red', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥???\r\n                </span>\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div className={style.classify} style={{ paddingBottom: '15px' }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  支付宝\r\n                </span>\r\n                <span style={{ color: 'red', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥???\r\n                </span>\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div className={style.classify} style={{ borderBottom: 0 }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  微信\r\n                </span>\r\n                <span style={{ color: 'red', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥???\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => (\r\n    {\r\n      countData: state.countData\r\n    }\r\n  ),\r\n  { getCountData }\r\n)(Index)","import { GETCOUNTDATA } from '../constant'\r\n\r\n// 做到按需获取数据，需求的格式为：\r\n/* demand_example={\r\n  pay:Boolean, // 查支出或者收入\r\n  category:['一级选择器'[,'二级选择器']], // 为一个一级分类区段，或具体到二级分类区段\r\n  date:[Number,Number], // 为一个时间段或一个时间点\r\n  id:Number, // 具体查某一单\r\n  member:String, // 查成员\r\n  count: [Number,Number] // 查金额\r\n  account: String // 查账户\r\n} */\r\n\r\nexport const getCountData = demand => ({ type: GETCOUNTDATA, data: demand })","import React from 'react'\r\nimport style from './style.module.css'\r\n\r\nexport default function Index () {\r\n  return (\r\n    <div>\r\n      456\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState, useRef } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Card, Row, Col, message } from 'antd';\r\nimport style from './style.module.css'\r\n\r\n// 添加动画的节流标识\r\nlet addAFlag = true\r\n\r\n\r\nfunction Index (props) {\r\n  let [state, setState] = useState({ ...props.obj, 'selectedLeft': 0, 'selectedRight': 0 })\r\n  let rightCol = useRef(null)\r\n  let leftCol = useRef(null)\r\n  useEffect(() => {\r\n    let output = []\r\n    output[0] = arr[state.selectedLeft + 2]\r\n    output[1] = arrr[state.selectedRight + 2]\r\n    props.change(output)\r\n  }, [state.selectedLeft, state.selectedRight])\r\n  // 用于渲染级联选择器中的选项\r\n  let all = []\r\n  let arr = Array(2), arrr = Array(2)\r\n  for (let i in state) {\r\n    all.push(i)\r\n  }\r\n  arr = [...arr, ...all.slice(0, all.length - 2), ...arr]\r\n  arrr = [...arrr, ...state[arr[state.selectedLeft + 2]]]\r\n\r\n\r\n  let arra = arr.slice(state.selectedLeft, state.selectedLeft + 5)\r\n  let arrb = arrr.slice(state.selectedRight, state.selectedRight + 5)\r\n\r\n\r\n  // 随着动画更改级联选择器选中的内容\r\n  let edit = (chara, ref) => {\r\n    // 更改目标数组\r\n    let targetArr = []\r\n    // 通过ref判断是翻左边的还是右边的\r\n    if (ref === leftCol) {\r\n      // 通过chara判断级联选择器是上翻还是下翻\r\n      for (let i = 0; i < Math.abs(chara); i++) {\r\n        // 等于0不动\r\n        if (chara === 0) return\r\n        setState({ ...state, 'selectedLeft': state.selectedLeft + chara, 'selectedRight': 0 })\r\n      }\r\n      targetArr = arr.slice(state.selectedLeft, state.selectedLeft + 5)\r\n    } else {\r\n      for (let i = 0; i < Math.abs(chara); i++) {\r\n        // 等于0不动\r\n        if (chara === 0) return\r\n        setState({ ...state, 'selectedRight': state.selectedRight + chara })\r\n      }\r\n      targetArr = arrr.slice(state.selectedRight, state.selectedRight + 5)\r\n    }\r\n    return (\r\n      targetArr.map(item => {\r\n        return <div key={Math.random() * Math.random()}>{item}</div>\r\n      })\r\n    )\r\n  }\r\n\r\n\r\n  // 为节点ref添加滚动动作action\r\n  let addAnimation = (ref, action) => {\r\n    if ((!arra[1] && action === style.animationDown && ref === 0) || (!arra[3] && action === style.animationUp && ref === 0) || (!arrb[1] && action === style.animationDown && ref === 1) || (!arrb[3] && action === style.animationUp && ref === 1)) {\r\n      message.warning('已经到头啦', 0.5)\r\n      return null\r\n    }\r\n    let name = ''\r\n    // 级联选择器向下选取选项\r\n    let chara = 1\r\n    if (action === style.animationDown) {\r\n      chara = -1\r\n    }\r\n    // 节流\r\n    const throttle = () => {\r\n      // 进行动画\r\n      if (!ref) {\r\n        name = leftCol.current.className\r\n        leftCol.current.className += ` ${action}`\r\n      } else {\r\n        name = rightCol.current.className\r\n        rightCol.current.className += ` ${action}`\r\n      }\r\n      // 删除动画并更改级联选择器中的被选择的内容\r\n      setTimeout(() => {\r\n        if (!ref) {\r\n          leftCol.current.className = name\r\n          edit(chara, leftCol)\r\n        } else {\r\n          rightCol.current.className = name\r\n          edit(chara, rightCol)\r\n        }\r\n        addAFlag = true\r\n      }, 280)\r\n    }\r\n    if (!addAFlag) return null\r\n    addAFlag = false\r\n    return (\r\n      throttle()\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <Card className={style.container} bordered>\r\n      <Row className={style.row}>\r\n        <Col span={12} className={style.col}>\r\n          <div className={style.middle} ref={leftCol}>\r\n            {edit(0, leftCol)}\r\n          </div>\r\n        </Col>\r\n        <Col span={12} className={style.col}>\r\n          <div className={style.middle} ref={rightCol}>\r\n            {edit(0, rightCol)}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      <div className={style.line}></div>\r\n      <div className={style.line2}></div>\r\n      {/* 点击切换区域 */}\r\n      <div onClick={() => addAnimation(1, style.animationUp)} className={style.switchDown} style={{ right: 0 }}></div>\r\n      <div onClick={() => addAnimation(0, style.animationUp)} className={style.switchDown} style={{ left: 0 }}></div>\r\n      <div onClick={() => addAnimation(1, style.animationDown)} className={style.switchTop} style={{ right: 0 }}></div>\r\n      <div onClick={() => addAnimation(0, style.animationDown)} className={style.switchTop} style={{ left: 0 }}></div>\r\n    </Card>\r\n  )\r\n}\r\nexport default connect(\r\n)(Index)","import React, { useEffect, useState, useRef, useContext } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport style from './style.module.css'\r\nimport Cascader from '../Cascader/Cascader';\r\nimport Calculator from '../../Calculator';\r\nimport { Collapse, Calendar, Button, Drawer, notification } from 'antd';\r\nimport globalContext from '../../../globalContext';\r\n// 这是 redux 的 action，此处依序引入的是：保存当前账单、作为模板保存\r\nimport { saveCount, saveAsTemp } from '../../../redux/actions/saveCount';\r\n\r\nconst { Panel } = Collapse;\r\n\r\n// 支出分类\r\nlet payCat = {\r\n  '衣服饰品': ['衣服帽子', '鞋帽包包', '化妆饰品'],\r\n  '食品酒水': ['早午晚餐', '烟酒茶', '水果零食'],\r\n  '居家物业': ['日常用品', '水电煤气', '房租', '物业管理', '维修保养'],\r\n  '行车交通': ['公共交通', '打车租车', '私家车费用'],\r\n  '交流通讯': ['座机费', '手机费', '上网费', '邮寄费'],\r\n  '休闲娱乐': ['运动健身', '腐败聚会', '休闲玩乐', '宠物宝贝', '旅游度假'],\r\n  '学习进修': ['书报杂志', '培训进修', '数码装备'],\r\n  '人情往来': ['送礼请客', '孝敬家长', '换人钱物', '慈善捐助'],\r\n  '医疗保健': ['药品费', '保健费', '美容费', '治疗费'],\r\n  '金融保险': ['银行手续', '投资亏损', '按揭还款', '消费税收', '利息支出', '赔偿罚款'],\r\n  '其他杂项': ['其他支出', '意外丢失', '烂账损失']\r\n}\r\n// 收入分类\r\nlet incomeCat = {\r\n  '职业收入': ['工资收入', '利息收入', '加班收入', '奖金收入', '投资收入', '兼职收入'],\r\n  '其他收入': ['礼金收入', '中奖收入', '意外来钱', '经营所得']\r\n}\r\n// 账户分类\r\nlet AccountCat = {\r\n  '现金': ['现金'],\r\n  '虚拟账户': ['银行卡', '公交卡', '支付宝', '微信']\r\n}\r\n// 成员分类\r\nlet numberCat = {\r\n  '(无成员)': ['(无成员)'],\r\n  '家人': ['本人', '老公', '老婆', '子女', '父母', '家庭公用'],\r\n  '其他': ['亲戚', '朋友', '同学', '同事', '其他']\r\n}\r\nlet day2 = new Date();\r\nday2.setTime(day2.getTime())\r\n\r\n// 初始值\r\nlet initialState = {\r\n  receivePayCat: '请选择分类',\r\n  receiveAccountCat: '请选择账户',\r\n  dateStr: day2,\r\n  receiveNumberCat: '(无成员)',\r\n  tempVisible: false,\r\n  calcuVisible: false,\r\n  count: 0\r\n}\r\n\r\n\r\nfunction Index (props) {\r\n  let Consumer = useContext(globalContext)\r\n  let [state, setState] = useState(initialState)\r\n  // 传送数据用的对象：\r\n  let info = {\r\n    id: 0,\r\n    count: 0,\r\n    category: '',\r\n    account: '',\r\n    date: '',\r\n    member: '',\r\n    remark: ''\r\n  }\r\n  useEffect(() => {\r\n  }, [])\r\n  // 接收到级联传来的支出分类\r\n  const receivePayCat = (data) => {\r\n    info.category = `${data[0]} > ${data[1]}`\r\n    setState({ ...state, receivePayCat: info.category })\r\n  }\r\n  // 接收到级联传来的账户分类\r\n  const receiveAccountCat = (data) => {\r\n    info.account = `${data[1]}`\r\n    setState({ ...state, receiveAccountCat: info.account })\r\n  }\r\n  // 接收到级联传来的成员分类\r\n  const receiveNumberCat = (data) => {\r\n    info.member = `${data[1]}`\r\n    setState({ ...state, receiveNumberCat: info.member })\r\n  }\r\n  // 接收到日历的日期\r\n  const onPanelChange = (data) => {\r\n    info.date = data._d\r\n    setState({ ...state, dateStr: data._d })\r\n  }\r\n  // 分类标签、属性及级联选择器\r\n  const classification = () => {\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}>分类</h1>\r\n        <span style={{ fontSize: '20px' }}>{state.receivePayCat}</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // 账户标签、属性\r\n  const account = () => {\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}>账户</h1>\r\n        <span style={{ fontSize: '20px' }}>{state.receiveAccountCat}</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // 日期\r\n  const date = () => {\r\n    let str = `${state.dateStr.getFullYear()}年 ${state.dateStr.getMonth() + 1}月 ${state.dateStr.getDate()}日`\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}>日期</h1>\r\n        <span style={{ fontSize: '20px' }}>{str}</span>\r\n      </div>\r\n    )\r\n  }\r\n  // 成员\r\n  const number = () => {\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}>成员</h1>\r\n        <span style={{ fontSize: '20px' }}>{state.receiveNumberCat}</span>\r\n      </div>\r\n    )\r\n  }\r\n  // 键入事件\r\n  let inputRef = useRef(null)\r\n  const keyDown = (e) => {\r\n    if (e.target.id === 'input' && e.keyCode === 13) {\r\n      conserve(2)\r\n    }\r\n  }\r\n  // 模板名称键入事件\r\n  let tempInputRef = useRef(null)\r\n  const tempKeyDown = (e) => {\r\n    if (e.keyCode === 13) { conserveTemp() }\r\n  }\r\n  // 保存模板\r\n  const conserveTemp = () => {\r\n    const deepClone = (obj) => {    // 简易深拷贝函数\r\n      if (typeof obj !== 'object' || obj === null) {\r\n        return obj\r\n      }\r\n      if (Array.isArray(obj)) {\r\n        var result = []\r\n      } else {\r\n        var result = {}\r\n      }\r\n      for (let key in obj) {\r\n        result[key] = deepClone(obj[key])\r\n      }\r\n      return result\r\n    }\r\n    conserve(1)\r\n    if (!tempInputRef.current.value) {\r\n      notification['error']({\r\n        message: '请填写模板名称'\r\n      });\r\n      return null\r\n    }\r\n    let cloneObj = deepClone(info)  // 拷贝info\r\n    cloneObj.tempName = tempInputRef.current.value\r\n    props.saveAsTemp(cloneObj)\r\n    onClose()\r\n  }\r\n  // 下拉区域\r\n  const collapseList = () => {\r\n    return (\r\n      <Collapse accordion>\r\n        <Panel header={classification()} key={'paycat'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <Cascader obj={props.pay ? payCat : incomeCat} change={receivePayCat}></Cascader>\r\n        </Panel>\r\n        <Panel header={account()} key={'account'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <Cascader obj={AccountCat} change={receiveAccountCat}></Cascader>\r\n        </Panel>\r\n        <Panel header={date()} key={'datecat'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <div className={style.site_calendar_demo_card}>\r\n            <Calendar fullscreen={false} onChange={onPanelChange} ></Calendar>\r\n          </div>\r\n        </Panel>\r\n        <Panel header={number()} key={'numbercat'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <Cascader obj={numberCat} change={receiveNumberCat}></Cascader>\r\n        </Panel>\r\n\r\n      </Collapse>\r\n    )\r\n  }\r\n  // 保存\r\n  const conserve = (s) => {\r\n    if (!verification()) {\r\n      return null\r\n    }\r\n    info.id = (new Date()).getTime()\r\n    info.count = state.count\r\n    info.category = state.receivePayCat\r\n    info.account = state.receiveAccountCat\r\n    info.date = state.dateStr.getTime()\r\n    info.member = state.receiveNumberCat\r\n    info.remark = inputRef.current.value\r\n    info.pay = props.pay\r\n    if (s.toString() === '[object Object]' || s === 2) {\r\n      props.saveCount(info)\r\n      // setState(initialState)\r\n    }\r\n  }\r\n  // 保存为模板\r\n  const conserveAsTemp = () => {\r\n    setState({ ...state, tempVisible: true })\r\n    Consumer.mainOut()\r\n  }\r\n  // 验证填单\r\n  const verification = () => {\r\n    if (state.receivePayCat === '请选择分类') {\r\n      notification['error']({\r\n        message: '请选择分类'\r\n      })\r\n      return false\r\n    } else if (state.receiveAccountCat === '请选择账户') {\r\n      notification['error']({\r\n        message: '请选择账户'\r\n      })\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n  // 关闭抽屉\r\n  const onClose = () => {\r\n    setState({ ...state, tempVisible: false })\r\n    Consumer.mainIn()\r\n  }\r\n  // 抽屉头部区域\r\n  const title = () => {\r\n    return (\r\n      <div className={style.head}>\r\n        <span style={{ fontSize: '25px', fontWeight: 700, lineHeight: '46px' }}>{state.calcuVisible ? '' : '编辑模板'}</span>\r\n        <Button type=\"text\" onClick={\r\n          () => {\r\n            if (state.tempVisible) return onClose()\r\n            else return closeCalcu()\r\n          }\r\n        } danger style={{ position: 'absolute', right: '10px', fontSize: '20px', color: 'brown' }}>\r\n          关闭\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n  // 打开计算器\r\n  const openCalcu = () => {\r\n    setState({ ...state, calcuVisible: true })\r\n    Consumer.mainOut()\r\n  }\r\n  // 关闭计算器\r\n  const closeCalcu = () => {\r\n    setState({ ...state, calcuVisible: false })\r\n    Consumer.mainIn()\r\n  }\r\n  // 计算器传出值\r\n  const outPut = (value) => {\r\n    setState({ ...state, count: value })\r\n  }\r\n  return (\r\n    <div className={style.container}>\r\n      <div style={{ borderBottom: '1px solid rgb(248,248,248)', overflow: 'hidden', backgroundColor: 'rgb(248,248,248)' }} onClick={openCalcu}>\r\n        <span className={style.count} style={{ color: props.pay ? 'green' : 'red' }}>￥{state.count}</span>\r\n      </div>\r\n      {/* 下拉菜单区域 */}\r\n      {collapseList()}\r\n      <div style={{ width: '100%', borderBottom: '1px solid rgb(217,217,217)', padding: '1px' }}>\r\n        <input className={style.remark} onKeyDown={keyDown} ref={inputRef} placeholder='备注...' type=\"text\" id='input' />\r\n      </div>\r\n      <div className={style.bottonContainer}>\r\n        <Button type='danger' className={style.conserveButoon} onClick={conserve}>保存</Button>\r\n        <Button type='danger' className={style.conserveAsTempButoon} onClick={conserveAsTemp}>保存为模板</Button>\r\n      </div>\r\n      {/* 模板抽屉区域 */}\r\n      <Drawer\r\n        title={title()}\r\n        placement=\"right\"\r\n        closable={false}\r\n        onClose={onClose}\r\n        visible={state.tempVisible}\r\n        width={'700px'}\r\n        headerStyle={{ margin: 0, padding: 0 }}\r\n        className={style.drawerBody}\r\n      >\r\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n          <h1 style={{ paddingLeft: '60px', paddingTop: '25px', color: 'gray' }}>模板名称</h1>\r\n          <input className={style.remark} ref={tempInputRef} onKeyDown={tempKeyDown} style={{ textAlign: 'right', marginRight: '20px' }} placeholder='请输入模板名' type=\"text\" />\r\n        </div>\r\n        {collapseList()}\r\n        <Button type='danger' className={style.drawerButoon} onClick={conserveTemp}>保存</Button>\r\n      </Drawer>\r\n      <Drawer\r\n        title={title()}\r\n        placement=\"right\"\r\n        closable={false}\r\n        onClose={closeCalcu}\r\n        visible={state.calcuVisible}\r\n        width={'700px'}\r\n        headerStyle={{ margin: 0, padding: 0 }}\r\n        className={style.drawerBody}\r\n      >\r\n        <Calculator initialNum={state.count} closeCalcu={closeCalcu} outPut={outPut}></Calculator>\r\n      </Drawer>\r\n\r\n    </div>\r\n  )\r\n}\r\nexport default connect(\r\n  state => ({\r\n\r\n  }),\r\n  { saveCount, saveAsTemp }\r\n)(Index)","// 用于保存新建的账单或者修改已有的账单，账单结构如下：\r\n/* example = {\r\n    // 账单id,为当时创建的时间\r\n  id: Number,\r\n    // 账单金额\r\n  count: Number,\r\n    // 账单是收入（false）还是支出（true）\r\n  pay: Boolean,\r\n    // 账单分类\r\n  category: Array,\r\n    // 账单账户\r\n  account: String,\r\n    // 账单日期\r\n  date: Number,\r\n    // 成员    非必须\r\n  member: String,\r\n    // 账单备注    非必须\r\n  remark: String\r\n} */\r\nimport { SAVECOUNT, EDITCOUNT, SAVEASTEMP } from '../constant'\r\n\r\nexport const saveCount = data => ({ type: SAVECOUNT, data })\r\nexport const editCount = data => ({ type: EDITCOUNT, data })\r\nexport const saveAsTemp = data => ({ type: SAVEASTEMP, data })","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport style from './tagstyle.module.css'\r\n\r\nfunction Index () {\r\n  return (\r\n    <div className={style.container}>\r\n      <div className={style.head}>\r\n        <svg t=\"1621392769784\" className={style.icon} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"14745\" width=\"40\" height=\"40\">\r\n          <path d=\"M576.4 203.3c46.7 90.9 118.6 145.5 215.7 163.9 97.1 18.4 111.5 64.9 43.3 139.5s-95.6 162.9-82.3 265.2c13.2 102.3-24.6 131-113.4 86.2s-177.7-44.8-266.6 0-126.6 16-113.4-86.2c13.2-102.3-14.2-190.7-82.4-265.2-68.2-74.6-53.7-121.1 43.3-139.5 97.1-18.4 169-73 215.7-163.9 46.6-90.9 93.4-90.9 140.1 0z\" p-id=\"14746\" fill=\"#a52a2a\"></path>\r\n        </svg>\r\n        <div style={{ color: 'brown', fontSize: '15px' }}>记账模板</div>\r\n      </div>\r\n      <div className={style.left}></div>\r\n      <div className={style.right}></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n)(Index)\r\n","import React, { useEffect, useRef } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport style from './style.module.css'\r\nimport Pay from './Pay/Pay';\r\nimport Tag from './tag'\r\nimport globalContext from '../../globalContext'\r\n\r\nimport { Tabs } from 'antd';\r\n\r\nconst Provider = globalContext.Provider;\r\n\r\nlet mainAnimation = {}\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Index () {\r\n  const mainRef = useRef(null)\r\n  let classn = ''\r\n  useEffect(() => {\r\n    classn = mainRef.current.className\r\n  }, [])\r\n  // 外推main动画\r\n  const mainOut = () => {\r\n    mainRef.current.className += ` ${style.mainMoveOut}`\r\n  }\r\n  // 推回来main 动画\r\n  const mainIn = () => {\r\n    mainRef.current.className += ` ${style.mainMoveIn}`\r\n    // return\r\n    setTimeout(() => {\r\n      mainRef.current.className = classn\r\n    }, 100)\r\n  }\r\n  // 整合推动main的动画，准备放入Provider中送入子组件触发\r\n  mainAnimation = {\r\n    mainOut,\r\n    mainIn\r\n  }\r\n  return (\r\n    <Provider value={mainAnimation}>\r\n      <div ref={mainRef} className={style.handleHead}>\r\n        {/* 头部区域 */}\r\n        <div className={style.head}>\r\n          <Tag></Tag>\r\n          <span style={{ fontSize: '25px', fontWeight: 700 }}>记账</span>\r\n        </div>\r\n        <div className={style.container}>\r\n          {/* Tabs栏 */}\r\n          <Tabs defaultActiveKey=\"1\" centered animated style={{ paddingTop: '80px', backgroundColor: 'rgb(248,248,248)' }}>\r\n            <TabPane tab={<span style={{ fontWeight: 400, fontSize: '20px' }}>支出</span>} key=\"1\">\r\n              <Pay pay={true}></Pay>\r\n            </TabPane>\r\n            <TabPane tab={<span style={{ fontWeight: 400, fontSize: '20px' }}>收入</span>} key=\"2\">\r\n              <Pay pay={false}></Pay>\r\n            </TabPane>\r\n          </Tabs>\r\n        </div>\r\n      </div>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n)(Index)\r\n","import React, { useEffect, useState, useRef } from 'react'\r\nimport globalContext from '../../globalContext'\r\nimport { Redirect, Switch } from 'react-router-dom';\r\nimport { Link, Route, useHistory } from 'react-router-dom'\r\nimport Head from '../Head/Head';\r\nimport IndexPage from '../IndexPage/IndexPage';\r\nimport List from '../List/List';\r\nimport AddACount from '../AddACount/AddACount';\r\nimport style from './style.module.css'\r\nimport { Layout, Menu, Button } from 'antd';\r\nimport { connect } from 'react-redux';\r\nconst { Sider, Content } = Layout;\r\nconst Provider = globalContext.Provider;\r\nlet mainAnimation = {}\r\nfunction Index () {\r\n  const mainRef = useRef(null)\r\n  // 外推main动画\r\n  const mainOut = () => {\r\n    // mainRef.current.className += ` ${style.mainMoveOut}`\r\n  }\r\n  // 推回来main 动画\r\n  const mainIn = () => {\r\n    // mainRef.current.className += ` ${style.mainMoveIn}`\r\n    // setTimeout(() => {\r\n    //   mainRef.current.className = style.content\r\n    // }, 100)\r\n  }\r\n  // 整合推动main的动画，准备放入Provider中送入子组件触发\r\n  mainAnimation = {\r\n    mainOut,\r\n    mainIn\r\n  }\r\n  // 拿到history\r\n  const [items, setData] = useState('/')\r\n  const history = useHistory()\r\n  // 副作用函数获得location信息\r\n  useEffect(() => {\r\n    // 组件第一次渲染会执行这个方法\r\n    history.listen(historyLocation => {\r\n      setData(historyLocation.pathname)\r\n    })\r\n  }, [history])\r\n\r\n  const addACount = () => {\r\n    history.push('/addACount')\r\n  }\r\n\r\n  return (\r\n    <Provider value={mainAnimation}>\r\n      <div className={style.container}>\r\n        <Layout>\r\n          {/* 侧边栏 */}\r\n          <Sider className={style.side} style={{ position: 'fixed', height: '100%' }}>\r\n            <Head style={{ position: 'fixed' }}></Head>\r\n            <Menu\r\n              defaultSelectedKeys={items}\r\n              mode=\"inline\"\r\n              className={style.font}\r\n            >\r\n              <Menu.Item key=\"/\" className={style.font}><Link to='/home'>我的首页</Link></Menu.Item>\r\n              <Menu.Item key=\"/list\" className={style.font}><Link to='/list'>流水清单</Link></Menu.Item>\r\n              <Menu.Item key=\"11\" className={style.font}>其他功能</Menu.Item>\r\n            </Menu>\r\n            <Button type='danger' className={style.addButoon} onClick={addACount}>记一笔</Button>\r\n          </Sider>\r\n\r\n          {/* 主页面 */}\r\n          <Content className={style.content} ref={mainRef}>\r\n            {/* 头部区域 */}\r\n            <Switch>\r\n              <Route path=\"/home\" component={IndexPage} exact />\r\n              <Route path=\"/list\" component={List} />\r\n              <Route path=\"/addACount\" component={AddACount} />\r\n              <Redirect to='/home' />\r\n            </Switch>\r\n          </Content>\r\n        </Layout>\r\n      </div >\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default connect()(Index)","import React, { Component } from 'react'\r\nimport Home from './Containers/Home/Home'\r\nimport { withRouter } from 'react-router-dom'\r\nimport './global.css'\r\n\r\nclass App extends Component {\r\n  render () {\r\n    return (\r\n      <div>\r\n        <Home></Home>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(App)\r\n","import { SAVECOUNT, EDITCOUNT, SAVEASTEMP } from '../constant'\r\n\r\nconst initState = {\r\n  id: 0,\r\n  count: 0,\r\n  pay: true,\r\n  category: ['暂无数据'],\r\n  account: ' ',\r\n  date: (new Date()).getTime(),\r\n  member: '(无成员)',\r\n  remark: ''\r\n}\r\n\r\nexport default function saveCountReducer (preState = initState, action) {\r\n  const { type, data } = action\r\n  switch (type) {\r\n    case SAVECOUNT:\r\n      let allCount = JSON.parse(localStorage.getItem('allCount')) // 获取本地存储的账单\r\n      if (!allCount) {                                              // 如果没有，则直接将新账单以数组形式存入\r\n        localStorage.setItem('allCount', JSON.stringify([data]))\r\n      } else {\r\n        allCount = [...allCount, data]                               // 有则加入旧数组\r\n        localStorage.setItem('allCount', JSON.stringify(allCount))\r\n      }\r\n      break;\r\n    case SAVEASTEMP:\r\n      let allTemp = JSON.parse(localStorage.getItem('allTemp')) // 获取本地存储的账单\r\n      if (!allTemp) {                                              // 如果没有，则直接将新账单以数组形式存入\r\n        localStorage.setItem('allTemp', JSON.stringify([data]))\r\n      } else {\r\n        allTemp = [...allTemp, data]                               // 有则加入旧数组\r\n        localStorage.setItem('allTemp', JSON.stringify(allTemp))\r\n      }\r\n      break;\r\n  }\r\n  return null\r\n}","import { GETCOUNTDATA } from '../constant'\r\n\r\nconst initState = {\r\n  count: 0,\r\n  category: ['暂无数据'],\r\n  date: 0,\r\n  account: '暂无数据',\r\n  pay: true\r\n}\r\nlet allCount = JSON.parse(localStorage.getItem('allCount')) || [initState] // 获取所有账单数据\r\n/* if (JSON.parse(localStorage.getItem('allCount'))) { \r\n  allCount = JSON.parse(localStorage.getItem('allCount'))\r\n} else {\r\n  allCount = [initState]\r\n} */\r\n\r\n// 按需获取数据\r\nconst on_demand = (list, demand) => {\r\n  let keys = Object.keys(demand)  // 获取到需求的项目的'键'数组\r\n  if (keys.length === 0) {// 获取所有列表\r\n    return list\r\n  } else {\r\n    return keys.reduce((pre, cur) => { // 将范围数组当成初始值扔入reduce\r\n      return pre.filter(item => { // 用filter筛选符合本次demand[cur]要求的账单数组\r\n        switch (typeof demand[cur]) { // 条件键值对的值demand[cur]，可以区分为两类\r\n          case 'object': // 引用数据类型 这一类下也有两个子类\r\n            if (typeof demand[cur][0] === 'number') { // count date 查询逻辑区域\r\n              if (demand[cur][0] <= item[cur] && item[cur] <= demand[cur][1]) return item\r\n            } else { // category 查询逻辑区域\r\n              if (demand[cur][1]) {\r\n                return item[cur].indexOf(demand[cur][1]) !== -1\r\n              } else {\r\n                return item[cur].indexOf(demand[cur][0]) !== -1\r\n              }\r\n            }\r\n            break;\r\n          default: // 基本数据类型 pay id member account 查询逻辑区域\r\n            return item[cur] == demand[cur]\r\n        }\r\n      })\r\n    }, list)\r\n  }\r\n  return []\r\n}\r\n\r\n// 判断state中的list，并返回相应的list数组\r\nconst distList = (item) => {\r\n  let condition = {}\r\n  let nowMsec = new Date().getTime()\r\n  let timeStr = (msecNum) => {\r\n    return {\r\n      year: new Date(msecNum).getFullYear(),\r\n      month: new Date(msecNum).getMonth(),\r\n      day: new Date(msecNum).getDate()\r\n    }\r\n  }\r\n  // 返回一个毫秒时间段数组，[time-segment,time],segment单位为天\r\n  let targetMsec = (time, segment) => {\r\n    let segTime = timeStr(time)\r\n    // 获得当天00:00:00的毫秒数\r\n    segTime = new Date(segTime.year, segTime.month, segTime.day)\r\n    return [segTime - (segment - 1) * 86400000, time]\r\n  }\r\n  if (typeof item === 'object') {\r\n    condition.date = item\r\n    return on_demand(allCount, condition)\r\n  }\r\n  switch (item) {\r\n    case 'all':\r\n      return allCount\r\n    case 'today':\r\n      condition.date = targetMsec(nowMsec, 1)\r\n      return on_demand(allCount, condition)\r\n    case 'week':\r\n      condition.date = targetMsec(nowMsec, 7)\r\n      return on_demand(allCount, condition)\r\n  }\r\n}\r\n// action.state的结构为：\r\n/* state_example={\r\n  list:'all',\r\n  demand:{\r\n    ······\r\n    条件键值对\r\n    ······\r\n  }\r\n} */\r\nexport default function countDate (preState = initState, action) {\r\n  allCount = JSON.parse(localStorage.getItem('allCount')) || [initState]\r\n  const { type, data } = action\r\n  switch (type) {\r\n    case GETCOUNTDATA:\r\n      return [...on_demand(distList(data.list), data.demand)]\r\n  }\r\n  return null\r\n}","/* \r\n  该文件用于汇总所有的reducer为一个总的reducer\r\n*/\r\n//引入combineReducers，用于汇总多个reducer\r\nimport { combineReducers } from 'redux'\r\n// 引入为存储账单、更改账单服务的reducer\r\nimport saveCount from './saveCount'\r\nimport countData from './countData'\r\n\r\n\r\n//汇总所有的reducer变为一个总的reducer\r\nexport default combineReducers({\r\n  saveCount,\r\n  countData\r\n})\r\n","import { createStore, applyMiddleware } from 'redux'\r\n\r\n//引入redux-thunk，用于支持异步action\r\nimport thunk from 'redux-thunk'\r\n//引入汇总之后的reducer\r\nimport reducer from './reducers'\r\n\r\n\r\nexport default createStore(reducer, applyMiddleware(thunk))","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport store from './redux/store'\r\nimport { Provider } from 'react-redux'\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <React.StrictMode>\r\n        <App />\r\n      </React.StrictMode>\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1juac\",\"line\":\"style_line__3s0t0\",\"line2\":\"style_line2__3TT8R\",\"row\":\"style_row__2L_S9\",\"col\":\"style_col__2SKiI\",\"middle\":\"style_middle__3TTBI\",\"switchDown\":\"style_switchDown__3IUgt\",\"switchTop\":\"style_switchTop__1KNSf\",\"animationUp\":\"style_animationUp__3XF5j\",\"rotateUp\":\"style_rotateUp__1GbX-\",\"animationDown\":\"style_animationDown__8J9sn\",\"rotateDown\":\"style_rotateDown__2AY0O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1AXBL\",\"head\":\"style_head__WH0to\",\"count\":\"style_count__ld2UQ\",\"site_calendar_demo_card\":\"style_site_calendar_demo_card__2uk0W\",\"remark\":\"style_remark__fzcn-\",\"bottonContainer\":\"style_bottonContainer__3Ca3R\",\"conserveButoon\":\"style_conserveButoon__3ZTLH\",\"conserveAsTempButoon\":\"style_conserveAsTempButoon__qi86Y\",\"drawerButoon\":\"style_drawerButoon__2PU4V\",\"containerMove\":\"style_containerMove__n7N79\",\"drawerBody\":\"style_drawerBody__2eNoU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__3UtLb\",\"side\":\"style_side__32GId\",\"content\":\"style_content__LqKoe\",\"addButoon\":\"style_addButoon__fZi1f\",\"font\":\"style_font__2qYe8\",\"site-layout-background\":\"style_site-layout-background__34UJi\",\"white\":\"style_white__3nl5R\",\"mainMoveOut\":\"style_mainMoveOut__jqRdz\",\"mainMoveIn\":\"style_mainMoveIn__1wQGx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2_j-1\",\"handleHead\":\"style_handleHead__2MdiS\",\"head\":\"style_head__2aEue\",\"mainMoveOut\":\"style_mainMoveOut__jHcn3\",\"mainMoveIn\":\"style_mainMoveIn__3Zy7m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"tagstyle_container__2gQ99\",\"head\":\"tagstyle_head__2NIYv\",\"icon\":\"tagstyle_icon__21QLo\",\"left\":\"tagstyle_left__1NT2R\"};"],"sourceRoot":""}