{"version":3,"sources":["Containers/Calculator/index.jsx","Containers/Calculator/style.module.css","Containers/Head/style.module.css","Containers/IndexPage/drawerPage/setBalance/style.module.css","Containers/IndexPage/style.module.css","globalContext.js","Containers/Head/Head.jsx","redux/constant.js","redux/actions/countData.js","Containers/IndexPage/drawerPage/setBalance/index.jsx","Containers/AddACount/Cascader/Cascader.jsx","Containers/AddACount/Pay/Pay.jsx","redux/actions/saveCount.js","Containers/IndexPage/drawerPage/stream/dayStream/index.jsx","Containers/IndexPage/drawerPage/stream/index.jsx","Containers/IndexPage/IndexPage.jsx","redux/actions/numberFomat.js","redux/actions/rank.js","redux/actions/oFS.js","Containers/List/List.jsx","Containers/AddACount/tag.jsx","Containers/AddACount/AddACount.jsx","Containers/Home/Home.jsx","App.jsx","redux/reducers/saveCount.js","redux/reducers/countData.js","redux/reducers/oFS.js","redux/reducers/numberFomat.js","redux/reducers/rank.js","redux/reducers/index.js","redux/store.js","index.js","Containers/AddACount/Cascader/style.module.css","Containers/AddACount/Pay/style.module.css","Containers/Home/style.module.css","Containers/IndexPage/drawerPage/stream/style.module.css","Containers/IndexPage/drawerPage/stream/dayStream/style.module.css","Containers/AddACount/style.module.css","Containers/AddACount/tagstyle.module.css"],"names":["Number","prototype","numberFormat","c","d","t","n","this","s","isNaN","Math","abs","undefined","i","String","parseInt","toFixed","j","length","substr","replace","slice","index","props","outPut","result","toString","indexOf","pointFlag","state","wrench","display","initialNum","getResult","arrHead","calculator","copyArr","unshift","eval","splice","join","setState","order","section","getValue","e","target","value","innerText","setTimeout","closeCalcu","tail","push","arrPopIsOpe","pop","popEl","a","x","numberArr","className","style","container","onClick","margin","span","flexDirection","justifyContent","type","background","map","item","randomNum","resultBotton","Component","module","exports","createContext","Index","main","SAVECOUNT","SAVEASTEMP","GETCOUNTDATA","OFS","NUMFOR","RANK","getCountData","demand","data","DrawerCalculator","balance","JSON","parse","localStorage","getItem","setItem","stringify","Calculator","addAFlag","connect","useState","obj","rightCol","useRef","leftCol","useEffect","output","arr","selectedLeft","arrr","selectedRight","change","all","Array","arra","arrb","edit","chara","ref","targetArr","random","addAnimation","action","animationDown","animationUp","message","warning","name","current","bordered","row","col","middle","line","line2","switchDown","right","left","switchTop","Panel","payCat","incomeCat","AccountCat","numberCat","initialState","category","account","date","Date","getTime","member","tempVisible","calcuVisible","count","saveCount","saveAsTemp","Consumer","useContext","globalContext","info","id","remark","receivePayCat","receiveAccountCat","receiveNumberCat","onPanelChange","_d","str","getFullYear","getMonth","getDate","padding","color","fontSize","inputRef","tempInputRef","conserveTemp","conserve","notification","cloneObj","deepClone","isArray","key","tempName","onClose","collapseList","accordion","header","showArrow","Cascader","pay","site_calendar_demo_card","fullscreen","onChange","verification","mainIn","title","head","fontWeight","lineHeight","danger","position","borderBottom","overflow","backgroundColor","cursor","mainOut","width","onKeyDown","keyCode","placeholder","bottonContainer","conserveButoon","conserveAsTempButoon","placement","closable","visible","headerStyle","drawerBody","paddingLeft","paddingTop","whiteSpace","textAlign","marginRight","drawerButoon","DaySteam","list","selected","renderList","Object","keys","data-key","split","editCount","dataset","parentNode","onOpen","marginTop","headname","card","destroyOnClose","transform","height","Pay","nextProps","preState","countData","Stream","stream","prevState","numFor","getRank","ofs","number","rank","getOFS","countList","kap","sum","setData","time","msec","day2","setTime","year","month","fresh","getRankList","displayTime","now","last","filter","percent","textColor","showProgress","showInfo","size","drawerOut","big","decorationBar","payOut","payCountSum","monthRevenue","RightOutlined","icon","income","betweenText","to","float","viewBox","version","xmlns","p-id","classify","text","recentText","todayArr","recentCount","lamination","todayRevenue","calendarArray","weekRevenue","yearArr","yearRevenue","paddingBottom","sumAsset","assetsCard","stickBlock","cashAsset","virtualAsset","creditAsset","bushCardAsset","aliPayAsset","weChatAsset","path","component","fill","Provider","mainAnimation","TabPane","mainRef","classn","mainMoveOut","mainMoveIn","handleHead","defaultActiveKey","centered","animated","tab","Sider","Content","items","history","useHistory","listen","historyLocation","pathname","side","defaultSelectedKeys","mode","font","Item","addButoon","content","IndexPage","List","AddACount","App","Home","withRouter","initState","allCount","on_demand","reduce","pre","cur","distList","condition","nowMsec","targetMsec","segment","msecNum","segTime","day","countDate","timeStr","thisMonthDays","thisYear","revenue","calcuAsset","cate","mySort","sort","b","rankSort","amrankSort","combineReducers","allTemp","payArr","incomeArr","weekArr","monthArr","cashArr","creditArr","bushCardArr","aliPayArr","weChatArr","cashRevenue","creditRevenue","bushCardRevenue","aliPayRevenue","weChatRevenue","flag","clone","cat","createStore","reducer","applyMiddleware","thunk","ReactDOM","render","store","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fe1f9e4a.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Row, Col } from 'antd';\r\nimport style from './style.module.css'\r\nimport randomNum from 'number-random'\r\n// 格式化数字\r\nNumber.prototype.numberFormat = function (c, d, t) {\r\n  var n = this,\r\n    c = isNaN(c = Math.abs(c)) ? 2 : c,\r\n    d = d == undefined ? \".\" : d,\r\n    t = t == undefined ? \",\" : t,\r\n    s = n < 0 ? \"-\" : \"\",\r\n    i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),\r\n    j = (j = i.length) > 3 ? j % 3 : 0;\r\n  return s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : \"\");\r\n};\r\n\r\nclass index extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.numberArr = [1, 4, 7]\r\n    this.calculator = []\r\n    this.wrench = 0\r\n    // 计算时显示正在手打的数值\r\n    this.section = ''\r\n    // 计算并输出值\r\n    this.result = this.props.initialNum || 0\r\n    // 数位\r\n    this.order = 0\r\n    // 计算器数组头部\r\n    this.arrHead = this.calculator[0]\r\n    // 计算器数组尾部是否为运算符\r\n    this.arrPopIsOpe = false\r\n  }\r\n  componentDidUpdate () {\r\n    this.arrHead = this.calculator[0]\r\n    this.arrPopIsOpe = this.calculator[this.calculator.length - 1] === '-' || this.calculator[this.calculator.length - 1] === '+'\r\n  }\r\n  // 向父组件传值\r\n  outPut = () => {\r\n    if (this.props.outPut) {\r\n      this.props.outPut(this.result)\r\n    }\r\n    if (this.result.toString().indexOf('.') !== -1) {  // 查看结果是否有小数点\r\n      this.pointFlag = true  // 有就禁用下一次的小数点\r\n    }\r\n  }\r\n  state = {\r\n    // 计算器扳手wrench，碰到+、-时 +1 ，碰到 = 是为2，当为2时进行计算\r\n    wrench: 0,\r\n    // 计算器显示值\r\n    display: this.props.initialNum,\r\n    // 小数点flag\r\n    pointFlag: false\r\n  }\r\n  getResult = () => {\r\n    this.arrHead = this.calculator[0] // 获取计算器数组第一个元素，用于判断是否头部为运算符\r\n    let copyArr = this.calculator\r\n    if (this.arrHead === '-' || this.arrHead === '+') { // 判断头部是否为运算符\r\n      copyArr.unshift(0) // 是就前置一个0\r\n    }\r\n    this.result = eval(copyArr.splice(0, copyArr.length).join(''))\r\n    this.setState({ ...this.state, display: this.result })\r\n    this.order = 0\r\n    this.wrench = 0\r\n    this.section = ''        // 切换并且下次输入数值为另一个新数\r\n    this.outPut()\r\n    this.pointFlag = false\r\n  }\r\n  // 获取到摁下值\r\n  getValue = (e) => {\r\n    if (e.target.toString() !== '[object HTMLSpanElement]' && e.target.toString() !== '[object HTMLButtonElement]') return\r\n    // 获取值存入value\r\n    let value = e.target.innerText\r\n    // 根据输入值判断\r\n    switch (value) {\r\n      case 'C':   // 清除值，并初始化计算器\r\n        this.setState({ ...this.state, display: 0 })\r\n        this.calculator = []\r\n        this.pointFlag = false\r\n        this.wrench = 0\r\n        this.section = ''\r\n        this.order = 0\r\n        break;\r\n      case 'OK':   // 传出显示数值，并退出计算器\r\n        this.result = this.state.display\r\n        this.outPut()\r\n        setTimeout(() => { //疑似一个bug，同步任务将不会更新父组件的金额，异步任务才行\r\n          if (this.props.closeCalcu) this.props.closeCalcu()\r\n        }, 0)\r\n        break;\r\n      case '=':   // 计算值，并将扳手归零\r\n        let tail = this.calculator[this.calculator.length - 1]\r\n        if (tail === '-' || tail === '+') { // 防止计算器中仅有一个数字和一个运算符\r\n          this.calculator.push(0)         // 为此，在数组后面push一个0进去\r\n        }\r\n        this.getResult()\r\n        this.calculator = [this.result]\r\n        break;\r\n      case '+':   // 加号运算\r\n        this.calculator.push(value)  // 计算器数组中推入加号\r\n        this.wrench++     // 扳手增1\r\n        this.section = ''     // 加号会更新计算器下次输入时的显示值,但不会将值传给display渲染\r\n        this.setState({ ...this.state })\r\n        this.pointFlag = false\r\n        this.order = 0\r\n        break;\r\n      case '-':   // 减号运算\r\n        this.calculator.push(value)\r\n        if (this.calculator.length) {  // 此处用于判断初始值为负的情况\r\n          this.wrench++     // 不为初始值,扳手才加一\r\n        }\r\n        this.section = ''\r\n        this.setState({ ...this.state })\r\n        this.pointFlag = false\r\n        this.order = 0\r\n        break;\r\n      case '.':\r\n        if (!this.pointFlag) {   // 防止一个数字小数点该出现两次\r\n          this.pointFlag = true  // 关闭标识防止添加两个小数点\r\n          this.section += value\r\n          if (this.section.length === 1) {\r\n            this.section = 0 + value // 为初始值为小数的情况加上0这个字\r\n          }\r\n          if (!this.arrPopIsOpe) {\r\n            this.calculator.pop()\r\n          }\r\n          this.calculator.push(this.section)\r\n          this.setState({ ...this.state, display: this.section ? this.section : '0' })\r\n        }\r\n        break;\r\n      default:\r\n        if (this.order >= 9) { break; }//超过9位数则忽略\r\n        this.section += value\r\n        if (this.section[0] === '0' && value !== '0' && this.section.length <= 2) {  // 如果输入的运算数字第一位为0且不是小数的话，防止八进制错误\r\n          this.section = value\r\n          this.setState({ ...this.state, display: this.section })\r\n          break;\r\n        }\r\n        this.order++\r\n        if (this.calculator[0] === this.result.toString() && this.calculator[0] !== this.section && this.calculator.length === 1) {\r\n          this.calculator = []\r\n        }\r\n        let popEl = this.calculator.pop()\r\n        if (this.arrPopIsOpe) {  // 将section推入calculator前的判断,是运算符号的话要重新推回去\r\n          this.calculator.push(popEl)\r\n        }\r\n        this.calculator.push(this.section)\r\n        this.setState({ ...this.state, display: this.section ? this.section : '0' })\r\n    }\r\n    if (this.wrench >= 2) {     // 扳手触发运算\r\n      let a = this.calculator.pop()  // 将计算器数组最后一个运算符弹出\r\n      if (this.calculator[this.calculator.length - 1] === '-' || this.calculator[this.calculator.length - 1] === '+' && this.calculator.length === 2) {  // 如果弹出一个运算符以后，数组尾部还有一个运算符，则自加/自减\r\n        let x = this.calculator.pop()\r\n        this.calculator = [...this.calculator, x, ...this.calculator]\r\n      }\r\n      if (this.calculator.length === 1) return\r\n      this.getResult()\r\n      this.calculator = [this.result, a]  // 计算器数组根据结果重新初始化\r\n      this.wrench = 1   // 扳手初始化为1，因为上一行传入了一个运算符\r\n    }\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={style.container} onClick={this.getValue} >\r\n        <div className={style.display}>{(this.state.display * 1).numberFormat(2)}</div>\r\n        <Row style={{ margin: 'auto 20px' }}>\r\n          <Col span={18} style={{ display: 'flex', flexDirection: 'column-reverse' }}>\r\n            <Col span={24} style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around' }}>\r\n              <Button type='primary' style={{ background: 'linear-gradient(to bottom,#f2b452,#d78437)' }}>C</Button><Button type='primary'>0</Button><Button type='primary'>.</Button>\r\n            </Col>\r\n            {\r\n              this.numberArr.map((item) => {\r\n                return (\r\n                  <Col span={24} style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around' }} key={randomNum(0, 10, true)}>\r\n                    <Button type='primary'>{item}</Button><Button type='primary'>{item + 1}</Button><Button type='primary'>{item + 2}</Button>\r\n                  </Col>\r\n                )\r\n              })\r\n            }\r\n          </Col>\r\n          <Col span={6} style={{ display: 'flex', flexDirection: 'column' }}>\r\n            <Button type='primary' style={{ background: '#909fb7' }}>+</Button>\r\n            <Button type='primary' style={{ background: '#909fb7' }}>-</Button>\r\n            <Button type='primary' className={style.resultBotton}>{this.wrench ? '=' : 'OK'}</Button>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default index;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2fsMS\",\"display\":\"style_display__3pIVn\",\"resultBotton\":\"style_resultBotton__jKRXv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__3GSmJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__lhLZw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__Nr_TA\",\"head\":\"style_head__9S6P9\",\"big\":\"style_big__XwKln\",\"decorationBar\":\"style_decorationBar__2Y581\",\"card\":\"style_card__y4Ilk\",\"col\":\"style_col__ZkKAx\",\"payCountSum\":\"style_payCountSum__1lRNy\",\"icon\":\"style_icon__nGYZz\",\"calendarArray\":\"style_calendarArray__2rGyQ\",\"payOut\":\"style_payOut__22bsG\",\"betweenText\":\"style_betweenText__1OXku\",\"income\":\"style_income__2LGsI\",\"showProgress\":\"style_showProgress__1mHlW\",\"classify\":\"style_classify__2YYsY\",\"lamination\":\"style_lamination__1YNoP\",\"assetsCard\":\"style_assetsCard__3TEaa\",\"stickBlock\":\"style_stickBlock__3ohIc\",\"drawerBody\":\"style_drawerBody__ldnJV\"};","import { createContext } from 'react'\r\n\r\nexport default createContext()\r\n","import React from 'react'\r\nimport style from './style.module.css'\r\n\r\nexport default function Index (props) {\r\n  return (\r\n    <div className={style.main}>\r\n    </div>\r\n  )\r\n}\r\n","export const SAVECOUNT = 'saveCount' // 保存账单\r\nexport const EDITCOUNT = 'editCount' // 修改账单\r\nexport const SAVEASTEMP = 'saveAsTemp' // 修改账单\r\nexport const GETCOUNTDATA = 'getCountData' // 获取账单数据\r\n// 用于存储统计数据的对象，全称Object For Statistics\r\nexport const OFS = 'getOFS' // 获取统计分类好的账单数据\r\nexport const NUMFOR = 'numberFormat' // 格式化账单金额\r\nexport const RANK = 'rank' // 排名","import { GETCOUNTDATA } from '../constant'\r\n\r\n// 做到按需获取数据，需求的格式为：\r\n/* demand_example={\r\n  pay:Boolean, // 查支出或者收入\r\n  category:['一级选择器'[,'二级选择器']], // 为一个一级分类区段，或具体到二级分类区段\r\n  date:[Number,Number], // 为一个时间段或一个时间点\r\n  id:Number, // 具体查某一单\r\n  member:String, // 查成员\r\n  count: [Number,Number] // 查金额\r\n  account: String // 查账户\r\n} */\r\n\r\nexport const getCountData = demand => ({ type: GETCOUNTDATA, data: demand })","import React, { Component } from 'react';\r\nimport Calculator from '../../../Calculator';\r\nimport style from './style.module.css'\r\n\r\nclass DrawerCalculator extends Component {\r\n  state = {\r\n    balance: JSON.parse(localStorage.getItem('balance')) || 0\r\n  }\r\n  componentDidMount () {\r\n    // console.log(this.state.balance);\r\n  }\r\n  closeCalcu = () => {\r\n    localStorage.setItem('balance', JSON.stringify(this.state.result))\r\n    this.setState({ ...this.state, balance: this.state.result })\r\n    // console.log(JSON.parse(localStorage.getItem('balance')));\r\n  }\r\n  outPut = (value) => {\r\n    this.setState({ ...this.state, result: value })\r\n  }\r\n\r\n\r\n  render () {\r\n    return (\r\n      <div className={style.container}>\r\n        <Calculator initialNum={JSON.parse(localStorage.getItem('balance')) || 0} closeCalcu={this.closeCalcu} outPut={this.outPut}></Calculator>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DrawerCalculator;\r\n","import React, { useEffect, useState, useRef } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Card, Row, Col, message } from 'antd';\r\nimport style from './style.module.css'\r\n\r\n// 添加动画的节流标识\r\nlet addAFlag = true\r\n\r\n\r\nfunction Index (props) {\r\n  let [state, setState] = useState({ ...props.obj, 'selectedLeft': 0, 'selectedRight': 0 })\r\n  let rightCol = useRef(null)\r\n  let leftCol = useRef(null)\r\n  useEffect(() => {\r\n    let output = []\r\n    output[0] = arr[state.selectedLeft + 2]\r\n    output[1] = arrr[state.selectedRight + 2]\r\n    props.change(output)\r\n  }, [state.selectedLeft, state.selectedRight])\r\n  // 用于渲染级联选择器中的选项\r\n  let all = []\r\n  let arr = Array(2), arrr = Array(2)\r\n  for (let i in state) {\r\n    all.push(i)\r\n  }\r\n  arr = [...arr, ...all.slice(0, all.length - 2), ...arr]\r\n  arrr = [...arrr, ...state[arr[state.selectedLeft + 2]]]\r\n\r\n\r\n  let arra = arr.slice(state.selectedLeft, state.selectedLeft + 5)\r\n  let arrb = arrr.slice(state.selectedRight, state.selectedRight + 5)\r\n\r\n\r\n  // 随着动画更改级联选择器选中的内容\r\n  let edit = (chara, ref) => {\r\n    // 更改目标数组\r\n    let targetArr = []\r\n    // 通过ref判断是翻左边的还是右边的\r\n    if (ref === leftCol) {\r\n      // 通过chara判断级联选择器是上翻还是下翻\r\n      for (let i = 0; i < Math.abs(chara); i++) {\r\n        // 等于0不动\r\n        if (chara === 0) return\r\n        setState({ ...state, 'selectedLeft': state.selectedLeft + chara, 'selectedRight': 0 })\r\n      }\r\n      targetArr = arr.slice(state.selectedLeft, state.selectedLeft + 5)\r\n    } else {\r\n      for (let i = 0; i < Math.abs(chara); i++) {\r\n        // 等于0不动\r\n        if (chara === 0) return\r\n        setState({ ...state, 'selectedRight': state.selectedRight + chara })\r\n      }\r\n      targetArr = arrr.slice(state.selectedRight, state.selectedRight + 5)\r\n    }\r\n    return (\r\n      targetArr.map(item => {\r\n        return <div key={Math.random() * Math.random()}>{item}</div>\r\n      })\r\n    )\r\n  }\r\n\r\n\r\n  // 为节点ref添加滚动动作action\r\n  let addAnimation = (ref, action) => {\r\n    if ((!arra[1] && action === style.animationDown && ref === 0) || (!arra[3] && action === style.animationUp && ref === 0) || (!arrb[1] && action === style.animationDown && ref === 1) || (!arrb[3] && action === style.animationUp && ref === 1)) {\r\n      message.warning('已经到头啦', 0.5)\r\n      return null\r\n    }\r\n    let name = ''\r\n    // 级联选择器向下选取选项\r\n    let chara = 1\r\n    if (action === style.animationDown) {\r\n      chara = -1\r\n    }\r\n    // 节流\r\n    const throttle = () => {\r\n      // 进行动画\r\n      if (!ref) {\r\n        name = leftCol.current.className\r\n        leftCol.current.className += ` ${action}`\r\n      } else {\r\n        name = rightCol.current.className\r\n        rightCol.current.className += ` ${action}`\r\n      }\r\n      // 删除动画并更改级联选择器中的被选择的内容\r\n      setTimeout(() => {\r\n        if (!ref) {\r\n          leftCol.current.className = name\r\n          edit(chara, leftCol)\r\n        } else {\r\n          rightCol.current.className = name\r\n          edit(chara, rightCol)\r\n        }\r\n        addAFlag = true\r\n      }, 280)\r\n    }\r\n    if (!addAFlag) return null\r\n    addAFlag = false\r\n    return (\r\n      throttle()\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <Card className={style.container} bordered>\r\n      <Row className={style.row}>\r\n        <Col span={12} className={style.col}>\r\n          <div className={style.middle} ref={leftCol}>\r\n            {edit(0, leftCol)}\r\n          </div>\r\n        </Col>\r\n        <Col span={12} className={style.col}>\r\n          <div className={style.middle} ref={rightCol}>\r\n            {edit(0, rightCol)}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      <div className={style.line}></div>\r\n      <div className={style.line2}></div>\r\n      {/* 点击切换区域 */}\r\n      <div onClick={() => addAnimation(1, style.animationUp)} className={style.switchDown} style={{ right: 0 }}></div>\r\n      <div onClick={() => addAnimation(0, style.animationUp)} className={style.switchDown} style={{ left: 0 }}></div>\r\n      <div onClick={() => addAnimation(1, style.animationDown)} className={style.switchTop} style={{ right: 0 }}></div>\r\n      <div onClick={() => addAnimation(0, style.animationDown)} className={style.switchTop} style={{ left: 0 }}></div>\r\n    </Card>\r\n  )\r\n}\r\nexport default connect(\r\n)(Index)","import React, { useEffect, useState, useRef, useContext } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport style from './style.module.css'\r\nimport Cascader from '../Cascader/Cascader';\r\nimport Calculator from '../../Calculator';\r\nimport { Collapse, Calendar, Button, Drawer, notification } from 'antd';\r\nimport globalContext from '../../../globalContext';\r\n// 这是 redux 的 action，此处依序引入的是：保存当前账单、作为模板保存\r\nimport { saveCount, saveAsTemp } from '../../../redux/actions/saveCount';\r\n\r\nconst { Panel } = Collapse;\r\n\r\n// 支出分类\r\nlet payCat = {\r\n  '衣服饰品': ['衣服帽子', '鞋帽包包', '化妆饰品'],\r\n  '食品酒水': ['早午晚餐', '烟酒茶', '水果零食'],\r\n  '居家物业': ['日常用品', '水电煤气', '房租', '物业管理', '维修保养'],\r\n  '行车交通': ['公共交通', '打车租车', '私家车费用'],\r\n  '交流通讯': ['座机费', '手机费', '上网费', '邮寄费'],\r\n  '休闲娱乐': ['运动健身', '腐败聚会', '休闲玩乐', '宠物宝贝', '旅游度假'],\r\n  '学习进修': ['书报杂志', '培训进修', '数码装备'],\r\n  '人情往来': ['送礼请客', '孝敬家长', '换人钱物', '慈善捐助'],\r\n  '医疗保健': ['药品费', '保健费', '美容费', '治疗费'],\r\n  '金融保险': ['银行手续', '投资亏损', '按揭还款', '消费税收', '利息支出', '赔偿罚款'],\r\n  '其他杂项': ['其他支出', '意外丢失', '烂账损失']\r\n}\r\n// 收入分类\r\nlet incomeCat = {\r\n  '职业收入': ['工资收入', '利息收入', '加班收入', '奖金收入', '投资收入', '兼职收入'],\r\n  '其他收入': ['礼金收入', '中奖收入', '意外来钱', '经营所得']\r\n}\r\n// 账户分类\r\nlet AccountCat = {\r\n  '现金': ['现金'],\r\n  '虚拟账户': ['银行卡', '公交卡', '支付宝', '微信']\r\n}\r\n// 成员分类\r\nlet numberCat = {\r\n  '(无成员)': ['(无成员)'],\r\n  '家人': ['本人', '老公', '老婆', '子女', '父母', '家庭公用'],\r\n  '其他': ['亲戚', '朋友', '同学', '同事', '其他']\r\n}\r\n\r\n// 初始值\r\nlet initialState = {\r\n  category: '请选择分类',\r\n  account: '请选择账户',\r\n  date: new Date().getTime(),\r\n  member: '(无成员)',\r\n  tempVisible: false,\r\n  calcuVisible: false,\r\n  count: 0\r\n}\r\n\r\nfunction Index (props) {\r\n  let Consumer = useContext(globalContext)\r\n  let [state, setState] = useState(initialState)\r\n  // 传送数据用的对象：\r\n  let info = {\r\n    id: 0,\r\n    count: 0,\r\n    category: '',\r\n    account: '',\r\n    date: '',\r\n    member: '',\r\n    remark: ''\r\n  }\r\n  useEffect(() => {\r\n    if (props.count && props.count[0].id) {\r\n      setState({ ...props.count[0] })\r\n    }\r\n  }, [props])\r\n  // 接收到级联传来的支出分类\r\n  const receivePayCat = (data) => {\r\n    info.category = `${data[0]} > ${data[1]}`\r\n    setState({ ...state, category: info.category })\r\n  }\r\n  // 接收到级联传来的账户分类\r\n  const receiveAccountCat = (data) => {\r\n    info.account = `${data[1]}`\r\n    setState({ ...state, account: info.account })\r\n  }\r\n  // 接收到级联传来的成员分类\r\n  const receiveNumberCat = (data) => {\r\n    info.member = `${data[1]}`\r\n    setState({ ...state, member: info.member })\r\n  }\r\n  // 接收到日历的日期\r\n  const onPanelChange = (data) => {\r\n    info.date = data._d\r\n    setState({ ...state, data: data._d })\r\n  }\r\n  // 分类标签、属性及级联选择器\r\n  const classification = () => {\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}>分类</h1>\r\n        <span style={{ fontSize: '20px' }}>{state.category}</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // 账户标签、属性\r\n  const account = () => {\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}>账户</h1>\r\n        <span style={{ fontSize: '20px' }}>{state.account}</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // 日期\r\n  const date = () => {\r\n    let str = `${new Date(state.date).getFullYear()}年 ${new Date(state.date).getMonth() + 1}月 ${new Date(state.date).getDate()}日`\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}>日期</h1>\r\n        <span style={{ fontSize: '20px' }}>{str}</span>\r\n      </div>\r\n    )\r\n  }\r\n  // 成员\r\n  const number = () => {\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <h1 style={{ margin: ' 0px', padding: '0px 50px', color: 'gray' }}>成员</h1>\r\n        <span style={{ fontSize: '20px' }}>{state.member}</span>\r\n      </div>\r\n    )\r\n  }\r\n  // 键入事件\r\n  let inputRef = useRef(null)\r\n  const keyDown = (e) => {\r\n    if (e.target.id === 'input' && e.keyCode === 13) {\r\n      conserve(2)\r\n    }\r\n  }\r\n  // 模板名称键入事件\r\n  let tempInputRef = useRef(null)\r\n  const tempKeyDown = (e) => {\r\n    if (e.keyCode === 13) { conserveTemp() }\r\n  }\r\n  // 保存模板\r\n  const conserveTemp = () => {\r\n    const deepClone = (obj) => {    // 简易深拷贝函数\r\n      if (typeof obj !== 'object' || obj === null) {\r\n        return obj\r\n      }\r\n      if (Array.isArray(obj)) {\r\n        var result = []\r\n      } else {\r\n        var result = {}\r\n      }\r\n      for (let key in obj) {\r\n        result[key] = deepClone(obj[key])\r\n      }\r\n      return result\r\n    }\r\n    conserve(1)\r\n    if (!tempInputRef.current.value) {\r\n      notification['error']({\r\n        message: '请填写模板名称'\r\n      });\r\n      return null\r\n    }\r\n    let cloneObj = deepClone(info)  // 拷贝info\r\n    cloneObj.tempName = tempInputRef.current.value\r\n    props.saveAsTemp(cloneObj)\r\n    onClose()\r\n  }\r\n  // 下拉区域\r\n  const collapseList = () => {\r\n    return (\r\n      <Collapse accordion>\r\n        <Panel header={classification()} key={'paycat'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <Cascader obj={props.pay ? payCat : incomeCat} change={receivePayCat}></Cascader>\r\n        </Panel>\r\n        <Panel header={account()} key={'account'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <Cascader obj={AccountCat} change={receiveAccountCat}></Cascader>\r\n        </Panel>\r\n        <Panel header={date()} key={'datecat'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <div className={style.site_calendar_demo_card}>\r\n            <Calendar fullscreen={false} onChange={onPanelChange} ></Calendar>\r\n          </div>\r\n        </Panel>\r\n        <Panel header={number()} key={'numbercat'} showArrow={false} style={{ padding: '12px 00px' }}>\r\n          <Cascader obj={numberCat} change={receiveNumberCat}></Cascader>\r\n        </Panel>\r\n\r\n      </Collapse>\r\n    )\r\n  }\r\n  // 保存\r\n  const conserve = (s) => {\r\n    if (!verification()) {\r\n      return null\r\n    }\r\n    info.id = (new Date()).getTime()\r\n    info.count = state.count\r\n    info.category = state.category\r\n    info.account = state.account\r\n    info.date = new Date(state.date).getTime()\r\n    info.member = state.member\r\n    info.remark = inputRef.current.value\r\n    info.pay = props.pay\r\n    if (s.toString() === '[object Object]' || s === 2) {\r\n      props.saveCount(info)\r\n      // setState(initialState)\r\n    }\r\n  }\r\n  // 保存为模板\r\n  const conserveAsTemp = () => {\r\n    setState({ ...state, tempVisible: true })\r\n    Consumer.mainOut()\r\n  }\r\n  // 验证填单\r\n  const verification = () => {\r\n    if (state.category === '请选择分类') {\r\n      notification['error']({\r\n        message: '请选择分类'\r\n      })\r\n      return false\r\n    } else if (state.account === '请选择账户') {\r\n      notification['error']({\r\n        message: '请选择账户'\r\n      })\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n  // 关闭抽屉\r\n  const onClose = () => {\r\n    setState({ ...state, tempVisible: false })\r\n    Consumer.mainIn()\r\n  }\r\n  // 抽屉头部区域\r\n  const title = () => {\r\n    return (\r\n      <div className={style.head}>\r\n        <span style={{ fontSize: '25px', fontWeight: 700, lineHeight: '46px' }}>{state.calcuVisible ? '' : '编辑模板'}</span>\r\n        <Button type=\"text\" onClick={\r\n          () => {\r\n            if (state.tempVisible) return onClose()\r\n            else return closeCalcu()\r\n          }\r\n        } danger style={{ position: 'absolute', right: '10px', fontSize: '20px', color: 'brown' }}>\r\n          关闭\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n  // 打开计算器\r\n  const openCalcu = () => {\r\n    setState({ ...state, calcuVisible: true })\r\n    Consumer.mainOut()\r\n  }\r\n  // 关闭计算器\r\n  const closeCalcu = () => {\r\n    setState({ ...state, calcuVisible: false })\r\n    Consumer.mainIn()\r\n  }\r\n  // 计算器传出值\r\n  const outPut = (value) => {\r\n    setState({ ...state, count: value })\r\n  }\r\n  return (\r\n    <div className={style.container}>\r\n      <div style={{ borderBottom: '1px solid rgb(248,248,248)', overflow: 'hidden', backgroundColor: 'rgb(248,248,248)', cursor: 'pointer' }} onClick={openCalcu}>\r\n        <span className={style.count} style={{ color: props.pay ? 'green' : 'red' }}>￥{state.count}</span>\r\n      </div>\r\n      {/* 下拉菜单区域 */}\r\n      {collapseList()}\r\n      <div style={{ width: '100%', borderBottom: '1px solid rgb(217,217,217)', padding: '1px' }}>\r\n        <input className={style.remark} onKeyDown={keyDown} ref={inputRef} placeholder='备注...' type=\"text\" id='input' />\r\n      </div>\r\n      <div className={style.bottonContainer}>\r\n        <Button type='danger' className={style.conserveButoon} onClick={conserve}>保存</Button>\r\n        <Button type='danger' className={style.conserveAsTempButoon} style={{ display: state.id ? 'none' : 'block' }} onClick={conserveAsTemp}>保存为模板</Button>\r\n      </div>\r\n      {/* 模板抽屉区域 */}\r\n      <Drawer\r\n        title={title()}\r\n        placement=\"right\"\r\n        closable={false}\r\n        onClose={onClose}\r\n        visible={state.tempVisible}\r\n        width={'700px'}\r\n        headerStyle={{ margin: 0, padding: 0 }}\r\n        className={style.drawerBody}\r\n      >\r\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n          <h1 style={{ paddingLeft: '60px', paddingTop: '25px', color: 'gray', whiteSpace: 'nowrap' }}>模板名称</h1>\r\n          <input className={style.remark} ref={tempInputRef} onKeyDown={tempKeyDown} style={{ textAlign: 'right', marginRight: '20px' }} placeholder='请输入模板名' type=\"text\" />\r\n        </div>\r\n        {collapseList()}\r\n        <Button type='danger' className={style.drawerButoon} onClick={conserveTemp}>保存</Button>\r\n      </Drawer>\r\n      <Drawer\r\n        title={title()}\r\n        placement=\"right\"\r\n        closable={false}\r\n        onClose={closeCalcu}\r\n        visible={state.calcuVisible}\r\n        width={'700px'}\r\n        headerStyle={{ margin: 0, padding: 0 }}\r\n        className={style.drawerBody}\r\n      >\r\n        <Calculator initialNum={state.count} closeCalcu={closeCalcu} outPut={outPut}></Calculator>\r\n      </Drawer>\r\n\r\n    </div>\r\n  )\r\n}\r\nexport default connect(\r\n  state => ({\r\n\r\n  }),\r\n  { saveCount, saveAsTemp }\r\n)(Index)","// 用于保存新建的账单或者修改已有的账单，账单结构如下：\r\n/* example = {\r\n    // 账单id,为当时创建的时间\r\n  id: Number,\r\n    // 账单金额\r\n  count: Number,\r\n    // 账单是收入（false）还是支出（true）\r\n  pay: Boolean,\r\n    // 账单分类\r\n  category: Array,\r\n    // 账单账户\r\n  account: String,\r\n    // 账单日期\r\n  date: Number,\r\n    // 成员    非必须\r\n  member: String,\r\n    // 账单备注    非必须\r\n  remark: String\r\n} */\r\nimport { SAVECOUNT, EDITCOUNT, SAVEASTEMP } from '../constant'\r\n\r\nexport const saveCount = data => ({ type: SAVECOUNT, data })\r\nexport const editCount = data => ({ type: EDITCOUNT, data })\r\nexport const saveAsTemp = data => ({ type: SAVEASTEMP, data })","import React, { Component } from 'react';\r\nimport style from './style.module.css'\r\nimport { connect } from 'react-redux'\r\n// antd\r\nimport { Row, Col, Card, Progress, Drawer, Button } from 'antd'\r\n// components\r\nimport Pay from '../../../../AddACount/Pay/Pay';\r\n// actions\r\nimport { getCountData } from '../../../../../redux/actions/countData';\r\n\r\nclass DaySteam extends Component {\r\n  state = {\r\n    list: this.props.list,\r\n    visible: false,\r\n    selected: this.props.selected || [{ id: 0, pay: true }]\r\n  }\r\n  static getDerivedStateFromProps (nextProps, preState) {\r\n    const { list, selected } = nextProps\r\n    if (list !== preState.length) {\r\n      return { ...nextProps, list: preState.list }\r\n    }\r\n    return null\r\n  }\r\n  // 渲染this.state.list每条数据\r\n  renderList = () => {\r\n    let keyArr = Object.keys(this.state.list)\r\n    return (\r\n      keyArr.map(item => {\r\n        const { id, category, account, pay, count } = this.state.list[item]\r\n        return (\r\n          <div className={style.row} key={id} data-key={id}>\r\n            <div>\r\n              <span>{category.split('>')[0]}</span>\r\n              <span>{account}</span>\r\n            </div>\r\n            <div style={{ color: !pay ? '#e17167' : '#56b78c' }}>￥{count}</div>\r\n          </div>\r\n        )\r\n      }))\r\n  }\r\n  // 查看、修改具体账单\r\n  editCount = (e) => {\r\n    let id\r\n    if (e.target.dataset.key) {\r\n      id = e.target.dataset.key\r\n    } else {\r\n      if (e.target.parentNode.dataset.key) {\r\n        id = e.target.parentNode.dataset.key\r\n      } else {\r\n        id = e.target.parentNode.parentNode.dataset.key\r\n      }\r\n    }\r\n    this.props.getCountData({ list: 'all', demand: { id: id } })\r\n    this.onOpen()\r\n  }\r\n  // 关闭抽屉\r\n  onClose = (e) => {\r\n    this.setState({ ...this.state, visible: false })\r\n  }\r\n  // 打开抽屉\r\n  onOpen = () => {\r\n    this.setState({ ...this.state, visible: true })\r\n  }\r\n  // 抽屉头部区域\r\n  title = () => {\r\n    return (\r\n      <div className={style.head} style={{ display: 'flex', flexDirection: 'row-reverse', padding: 0, width: '700px' }}>\r\n        <Button type=\"text\" onClick={this.onClose} danger style={{ fontSize: '20px', color: 'brown', marginTop: '20px' }}>\r\n          关闭\r\n        </Button>\r\n        <span className={style.headname}>编 辑</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div>\r\n        {/* 展示区 */}\r\n        <div className={style.container}>\r\n          <div className={style.card} onClick={this.editCount}>\r\n            {this.renderList()}\r\n          </div>\r\n        </div>\r\n        {/* 抽屉区 */}\r\n        <Drawer\r\n          title={this.title()}\r\n          placement=\"right\"\r\n          closable={false}\r\n          onClose={this.onClose}\r\n          visible={this.state.visible}\r\n          width={'700px'}\r\n          headerStyle={{ margin: 0, padding: 0 }}\r\n          className={style.drawerBody}\r\n          destroyOnClose={true}\r\n        >\r\n          <div style={{ paddingTop: '80px', width: '700px', transform: 'translateX(0)', overflow: 'auto', height: '100%' }}>\r\n            <Pay pay={this.state.selected[0].pay} count={this.state.selected}></Pay>\r\n          </div>\r\n        </Drawer>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return { selected: state.countData }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getCountData }\r\n)(DaySteam);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport style from './style.module.css'\r\n// actions\r\nimport { getCountData } from '../../../../redux/actions/countData';\r\n// components\r\nimport Day from './dayStream';\r\n\r\nclass Stream extends Component {\r\n  state = {\r\n    list: []\r\n  }\r\n  static getDerivedStateFromProps (nextProps, prevState) {\r\n    if (nextProps.countData.length !== prevState.list.length) {\r\n      return ({ list: [...nextProps.countData] })\r\n    }\r\n    return null\r\n  }\r\n  componentDidMount () {\r\n    getCountData({ list: 'all', demand: {} })\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={style.container}>\r\n        {/* 金额汇总区域 */}\r\n        <div className={style.head}>\r\n          <div className={style.count}><span>0.00</span><div style={{ textAlign: 'left' }}>结余</div></div>\r\n          <div className={style.count}><span>0.00</span><div style={{ textAlign: 'center' }}>收入</div></div>\r\n          <div className={style.count}><span>0.00</span><div style={{ textAlign: 'right' }}>支出</div></div>\r\n        </div>\r\n        {/* 展示区 */}\r\n        <div className={style.stream}>\r\n          <Day list={this.state.list}></Day>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// 放外面观察传入容器组件的数值用\r\nconst mapStatetoProps = (state) => {\r\n  return {\r\n    countData: state.countData || []\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStatetoProps,\r\n  { getCountData }\r\n)(Stream);\r\n","import React, { useEffect, useState } from 'react'\r\nimport style from './style.module.css'\r\nimport { connect } from 'react-redux'\r\nimport randomNum from 'number-random'\r\nimport { Switch, Link, Route } from 'react-router-dom';\r\n// antd\r\nimport { Row, Col, Card, Progress, Drawer, Button } from 'antd'\r\nimport { RightOutlined } from '@ant-design/icons';\r\n// actions\r\nimport { getCountData } from '../../redux/actions/countData';\r\nimport { numberFormat } from '../../redux/actions/numberFomat';\r\nimport { rank } from '../../redux/actions/rank';\r\nimport { getOFS } from '../../redux/actions/oFS';\r\n// components\r\nimport Calculator from './drawerPage/setBalance';\r\nimport Stream from './drawerPage/stream';\r\n\r\n\r\nfunction Index (props) {\r\n  let kap = [{ name: '暂无数据', sum: 0, color: 'gray' }, { name: '暂无数据', sum: 0, color: 'gray' }, { name: '暂无数据', sum: 0, color: 'gray' }]\r\n  let balance = JSON.parse(localStorage.getItem('balance')) || 0\r\n  const [data, setData] = useState({ visible: false })\r\n  // 用来确定当前时间以及获取redux传来的countData\r\n  const fresh = () => {\r\n    if (!data.time || (new Date().getTime() - data.msec) > 1000) {\r\n\r\n      let day2 = new Date();\r\n      day2.setTime(day2.getTime());\r\n      let time = {\r\n        time: {\r\n          year: day2.getFullYear(),\r\n          month: (day2.getMonth() + 1).toString().length === 1 ? '0' + (day2.getMonth() + 1) : day2.getMonth() + 1,\r\n          date: day2.getDate().length === 1 ? '0' + day2.getDate() : day2.getDate(),\r\n          msec: new Date().getTime()\r\n        }\r\n      }\r\n      setData(time)\r\n    }\r\n  }\r\n\r\n  // 用副作用函数更替时间\r\n  useEffect(() => {\r\n    props.getCountData({ list: 'all', demand: {} })\r\n    props.getOFS(props.countData)\r\n    props.numberFormat(props.ofs)\r\n    props.rank({ list: 'all', demand: { rank: 'juniorcategory', category: 'payCount' } })\r\n\r\n    fresh()\r\n    getRankList()\r\n  }, [data])\r\n  // 最近一单\r\n  const recentCount = () => {\r\n    let text = '还没有记过帐'\r\n    let recentText = props.numFor.todayArr.length !== 0 ? props.numFor.todayArr[props.numFor.todayArr.length - 1].category.split('>')[0] : ''\r\n    let recentCount = props.numFor.todayArr.length !== 0 ? props.numFor.todayArr[props.numFor.todayArr.length - 1].count : ''\r\n    recentText = `最近一笔 ${recentText} ${recentCount}`\r\n    text = props.numFor.todayArr.length === 0 ? text : recentText\r\n    return text\r\n  }\r\n  // 显示时间\r\n  const displayTime = (time) => {\r\n    if (data.time) {\r\n      const { year, month, date } = data.time\r\n      const now = new Date(year, month * 1 - 1, date).getTime()\r\n      let last = 0\r\n      if (time === 'week') {\r\n        last = now - 86400000 * 6\r\n        last = new Date(last)\r\n        return (`    ${last.getMonth() + 1}月${last.getDate()}日 - ${month * 1}月${date}日`)\r\n      } else {\r\n        last = new Date(year, (month * 1 + 1)).getTime() - 86400000\r\n        last = new Date(last)\r\n        return (`     ${last.getMonth()}月1日 - ${last.getMonth()}月${last.getDate()}日`)\r\n      }\r\n    }\r\n  }\r\n  // 分类前三\r\n  const getRankList = () => {\r\n    let list = props.getRank.slice(0, 3).filter(item => {\r\n      return item.sum !== 0\r\n    })\r\n    kap = [...list, ...kap].slice(0, 3)\r\n    kap[0].color = '#e4211b'\r\n    kap[1].color = '#d0558c'\r\n    kap[2].color = '#8f57ae'\r\n    return (\r\n      kap.map(item => {\r\n        let percent = item.sum / kap[0].sum * 100 ? item.sum / kap[0].sum * 100 : 0\r\n        let textColor = item.sum ? '#5f5f5f' : '#d2d2d0'\r\n        return (\r\n          <div key={randomNum(1, 15, true)}>\r\n            <p className={style.showProgress} style={{ color: textColor, fontWeight: 550 }}>{item.name}{item.sum ? item.sum.numberFormat(2) : ''}</p>\r\n            <Progress percent={50} showInfo={false} size=\"small\" key={randomNum(0, 10000000, true)} percent={percent} strokeColor={item.color} />\r\n          </div>\r\n        )\r\n      })\r\n    )\r\n  }\r\n  // 拉开对应抽屉，进入二级页面\r\n  const drawerOut = (e) => {\r\n    onOpen()\r\n  }\r\n  // 打开抽屉\r\n  const onOpen = () => {\r\n    setData({ ...data, visible: true })\r\n  }\r\n  // 关闭抽屉\r\n  const onClose = () => {\r\n    setData({ ...data, visible: false })\r\n  }\r\n\r\n  // 抽屉头部区域\r\n  const title = () => {\r\n    return (\r\n      <div className={style.head} style={{ display: 'flex', flexDirection: 'row-reverse', padding: 0, width: '700px' }}>\r\n        <Button type=\"text\" onClick={onClose} danger style={{ fontSize: '20px', color: 'brown', marginTop: '20px' }}>\r\n          关闭\r\n          </Button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={style.container} >\r\n      {/* 头部区域 */}\r\n      <div className={style.head}>\r\n        <span className={style.big}>{data.time ? data.time.month : '0'}</span>\r\n        <span>/{data.time ? data.time.year : '0'}</span>\r\n        <div className={style.decorationBar}></div>\r\n      </div>\r\n\r\n      {/* 主体区域 */}\r\n      <Card className={style.card} style={{ marginTop: '80px' }}>\r\n\r\n        {/* 本月统计卡片 */}\r\n        <Row>\r\n          {/* 左侧支出收入统计 */}\r\n          <Col span={12} className={style.col}>\r\n            <Col span={24} className={style.payOut}>\r\n              <div>\r\n                <p>本月支出：</p>\r\n                <div style={{ width: 100 + '%', overflow: 'hidden' }}><p className={style.payCountSum}>￥{props.numFor ? props.numFor.monthRevenue.pay : 0}<RightOutlined className={style.icon} /></p></div>\r\n              </div>\r\n            </Col>\r\n            <Col className={style.income}>\r\n              <Link className={style.betweenText} to='/home/stream' onClick={drawerOut}><span>本月收入：</span><span >￥{props.numFor ? props.numFor.monthRevenue.income : 0}<RightOutlined className={style.icon} /></span></Link>\r\n              <Link className={style.betweenText} to='/home/setBalance' onClick={drawerOut}><span >预算额度：</span><span >￥{(balance - (props.numFor ? props.numFor.monthRevenue.income : 0)).numberFormat(2)}<RightOutlined className={style.icon} /></span></Link>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/* 右侧支出前三 */}\r\n          <Col span={12} className={style.col}>\r\n            <p>支出分类前 3：</p>\r\n            {getRankList()}\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n\r\n      {/* 按间隔分类统计卡片 */}\r\n      <Card className={style.card}>\r\n        <Row>\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row' }}>\r\n            {/* 今天 */}\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621386037074\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"8490\" width=\"40\" height=\"40\"><path d=\"M408.222897 789.115586v-35.345655h217.15862v34.886621h33.474207V388.378483h-283.68331v400.737103h33.050483z m217.15862-237.779862h-217.15862v-130.824827h217.15862v130.824827z m0 170.301793h-217.15862v-138.169379h217.15862v138.169379z\" p-id=\"8491\"></path><path d=\"M917.645241 144.772414a70.62069 70.62069 0 0 1 70.62069 70.620689v681.489656a70.62069 70.62069 0 0 1-70.62069 70.620689H94.384552a70.62069 70.62069 0 0 1-70.62069-70.620689V215.393103a70.62069 70.62069 0 0 1 70.62069-70.620689h823.260689z m0 45.903448H94.384552a24.717241 24.717241 0 0 0-24.50538 21.362759l-0.211862 3.354482v681.489656a24.717241 24.717241 0 0 0 21.362759 24.505379l3.354483 0.211862h823.260689a24.717241 24.717241 0 0 0 24.50538-21.362759l0.211862-3.354482V215.393103a24.717241 24.717241 0 0 0-21.362759-24.505379l-3.354483-0.211862z\" p-id=\"8492\"></path><path d=\"M312.214069 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656276 3.389793l-0.247172-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724zM691.023448 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656275 3.389793l-0.247173-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724z\" p-id=\"8493\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}>今天</b>&nbsp;&nbsp;\r\n                  {recentCount()}\r\n                </span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>{props.numFor ? props.numFor.todayRevenue.income : 0}</span>\r\n                    <span>{props.numFor ? props.numFor.todayRevenue.pay : 0}</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} style={{ color: 'gray' }} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/* 这周 */}\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row' }}>\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621385995771\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"7592\" width=\"40\" height=\"40\"><path d=\"M332.976552 790.49269c30.260966-56.002207 45.903448-129.447724 46.786207-219.418483V419.133793h278.174896v320.406069c0 11.934897-6.426483 18.361379-19.279448 18.361379-17.902345 0-37.181793-0.459034-57.838345-1.377103l8.721655 31.214345h59.215449c27.542069 0 41.772138-12.393931 41.772137-36.722759v-362.637241H346.747586v185.449931c-0.918069 78.494897-13.771034 143.218759-38.558896 194.171586l24.787862 22.49269z m298.372414-217.123311v-28.919172h-97.809656v-45.444414h82.626207v-27.542069h-82.626207v-38.099862h-32.132413v38.099862h-83.544276v27.542069H501.406897v45.444414h-97.315311v28.919172h227.222069z m-22.951725 149.186207v-114.299586h-185.485241v114.299586h185.449931z m-31.708689-28.919172h-121.644138v-57.379311h121.644138v57.379311z\" p-id=\"7593\"></path><path d=\"M917.645241 144.772414a70.62069 70.62069 0 0 1 70.62069 70.620689v681.489656a70.62069 70.62069 0 0 1-70.62069 70.620689H94.384552a70.62069 70.62069 0 0 1-70.62069-70.620689V215.393103a70.62069 70.62069 0 0 1 70.62069-70.620689h823.260689z m0 45.903448H94.384552a24.717241 24.717241 0 0 0-24.50538 21.362759l-0.211862 3.354482v681.489656a24.717241 24.717241 0 0 0 21.362759 24.505379l3.354483 0.211862h823.260689a24.717241 24.717241 0 0 0 24.50538-21.362759l0.211862-3.354482V215.393103a24.717241 24.717241 0 0 0-21.362759-24.505379l-3.354483-0.211862z\" p-id=\"7594\"></path><path d=\"M312.214069 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656276 3.389793l-0.247172-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724zM691.023448 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656275 3.389793l-0.247173-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724z\" p-id=\"7595\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}>本周</b>\r\n                  {displayTime('week')}\r\n                </span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>{props.numFor ? props.numFor.weekRevenue.income : 0}</span>\r\n                    <span>{props.numFor ? props.numFor.weekRevenue.pay : 0}</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} style={{ color: 'gray' }} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/* 本月 */}\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row' }}>\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621385953741\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"6738\" width=\"40\" height=\"40\"><path d=\"M371.959172 792.328828c29.837241-39.017931 47.315862-88.134621 52.788966-147.809104h197.843862v91.347862c0 13.312-5.508414 20.197517-16.066207 20.197517-17.44331 0-36.722759-0.918069-57.838345-1.836137l9.18069 32.591448h59.215448c25.705931 0 39.017931-13.312 39.017931-39.476966V388.378483h-263.026758v224.008827c-0.918069 63.346759-16.066207 115.67669-46.362483 156.989793l25.246896 22.951725z m250.632828-291.945931h-195.972414v-80.331035h195.972414v80.331035z m0 113.381517h-195.972414v-82.626207h195.972414v82.626207z\" p-id=\"6739\"></path><path d=\"M917.645241 144.772414a70.62069 70.62069 0 0 1 70.62069 70.620689v681.489656a70.62069 70.62069 0 0 1-70.62069 70.620689H94.384552a70.62069 70.62069 0 0 1-70.62069-70.620689V215.393103a70.62069 70.62069 0 0 1 70.62069-70.620689h823.260689z m0 45.903448H94.384552a24.717241 24.717241 0 0 0-24.50538 21.362759l-0.211862 3.354482v681.489656a24.717241 24.717241 0 0 0 21.362759 24.505379l3.354483 0.211862h823.260689a24.717241 24.717241 0 0 0 24.50538-21.362759l0.211862-3.354482V215.393103a24.717241 24.717241 0 0 0-21.362759-24.505379l-3.354483-0.211862z\" p-id=\"6740\"></path><path d=\"M312.214069 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656276 3.389793l-0.247172-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724zM691.023448 31.249655a22.951724 22.951724 0 0 1 22.704552 19.561931l0.247172 3.389793v180.824276a22.951724 22.951724 0 0 1-45.656275 3.389793l-0.247173-3.389793v-180.788965a22.951724 22.951724 0 0 1 22.951724-22.951724z\" p-id=\"6741\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}>{data.time ? data.time.month : 0}月</b>\r\n                  {displayTime('month')}\r\n                </span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>{props.numFor ? props.numFor.monthRevenue.income : 0}</span>\r\n                    <span>{props.numFor ? props.numFor.monthRevenue.pay : 0}</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} style={{ color: 'gray' }} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n          {/* 今年 */}\r\n          <Col span={24} className={style.col} style={{ display: 'flex', flexDirection: 'row' }}>\r\n            <Col span={24} id={'classify'}>\r\n              <svg style={{ float: 'left', marginTop: 6 + 'px', marginRight: '15px' }} t=\"1621385903669\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5695\" width=\"40\" height=\"40\"><path d=\"M715.702857 32.365714a23.771429 23.771429 0 0 1 23.515429 20.260572l0.256 3.510857V149.942857l210.944 0.036572a73.142857 73.142857 0 0 1 73.142857 73.142857v705.828571a73.142857 73.142857 0 0 1-73.142857 73.142857H97.755429a73.142857 73.142857 0 0 1-73.142858-73.142857V223.085714a73.142857 73.142857 0 0 1 73.142858-73.142857h201.837714V56.100571a23.771429 23.771429 0 0 1 47.286857-3.510857l0.256 3.510857V149.942857h344.795429V56.137143a23.771429 23.771429 0 0 1 23.771428-23.771429zM299.593143 197.485714l-201.874286 0.036572a25.6 25.6 0 0 0-25.344 22.125714l-0.219428 3.474286v705.828571a25.6 25.6 0 0 0 22.125714 25.380572l3.474286 0.219428h852.662857a25.6 25.6 0 0 0 25.380571-22.125714l0.219429-3.474286V223.085714a25.6 25.6 0 0 0-22.125715-25.380571l-3.474285-0.219429H739.474286v45.933715a23.771429 23.771429 0 0 1-47.286857 3.510857l-0.256-3.510857V197.485714H347.136v45.970286a23.771429 23.771429 0 0 1-47.286857 3.510857l-0.256-3.510857V197.485714z m112.274286 181.504l35.657142 6.656c-5.229714 18.066286-11.410286 34.706286-18.066285 50.870857h295.241143v33.28h-149.284572v76.068572h132.644572v32.804571h-132.644572v102.692572h164.498286v33.28h-164.498286v106.020571h-34.706286V714.605714H321.097143v-33.28h78.445714v-135.497143h141.202286v-76.068571h-127.890286a285.805714 285.805714 0 0 1-75.117714 84.626286l-22.820572-28.525715c48.018286-36.132571 80.347429-85.101714 96.987429-146.907428z m128.841142 199.68H433.737143v102.692572h106.971428v-102.692572z\" p-id=\"5696\"></path></svg>\r\n              <div className={style.classify}>\r\n                <span>\r\n                  <b style={{ color: 'black', fontWeight: '800', fontSize: '24px', lineHeight: '62px' }}>今年</b>&nbsp;&nbsp;{data.time ? data.time.year : 2021}年</span>\r\n                <span style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  <span className={style.lamination}>\r\n                    <span>{props.numFor.yearArr.length !== 0 ? props.numFor.yearRevenue.income : 0}</span>\r\n                    <span>{props.numFor.yearArr.length !== 0 ? props.numFor.yearRevenue.pay : 0}</span>\r\n                  </span>\r\n                  <RightOutlined className={style.calendarArray} style={{ color: 'gray' }} />\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n\r\n        </Row>\r\n      </Card>\r\n\r\n      {/* 资产 */}\r\n      <Card style={{ position: 'relative', overflow: 'hidden' }}>\r\n        {/* 现金账户 */}\r\n        <Row>\r\n          <Col span={24} style={{ borderBottom: '1px solid rgb(248,248,248)', fontSize: '25px', fontWeight: '700', paddingBottom: '15px', paddingLeft: '-40px' }}> 总资产：\r\n          <span style={{ float: 'right', textAlign: 'right' }}>￥{props.numFor ? props.numFor.sumAsset : 0}</span>\r\n          </Col>\r\n          <Col span={24} className={style.assetsCard}>\r\n            <Col span={24} className={style.classify} style={{ lineHeight: '30px', borderBottom: 0 }}>\r\n              <div className={style.stickBlock}></div>\r\n              <span style={{ color: '#777e88', fontWeight: '600' }}>现金账户</span>\r\n              <span style={{ color: '#777e88', fontWeight: '600' }}>￥{props.numFor ? props.numFor.cashAsset : 0}</span>\r\n            </Col>\r\n            {/* 详情 */}\r\n            <Col>\r\n              <div className={style.classify} style={{ borderBottom: 0 }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  现金\r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥{props.numFor ? props.numFor.cashAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n\r\n      {/* 虚拟账户 */}\r\n      <Card style={{ position: 'relative', overflow: 'hidden' }}>\r\n        <Row>\r\n          <Col span={24} className={style.assetsCard}>\r\n            <Col span={24} className={style.classify} style={{ lineHeight: '30px', borderBottom: 0 }}>\r\n              <div className={style.stickBlock} style={{ backgroundColor: 'brown' }}></div>\r\n              <span style={{ color: '#777e88', fontWeight: '600' }}>虚拟账户</span>\r\n              <span style={{ color: '#777e88', fontWeight: '600' }}>￥{props.numFor ? props.numFor.virtualAsset : 0}</span>\r\n            </Col>\r\n            {/* 详情 */}\r\n            <Col>\r\n              <div className={style.classify} style={{ paddingBottom: '15px' }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  银行卡\r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥{props.numFor ? props.numFor.creditAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div className={style.classify} style={{ paddingBottom: '15px' }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  公交卡\r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥{props.numFor ? props.numFor.bushCardAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div className={style.classify} style={{ paddingBottom: '15px' }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  支付宝\r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥{props.numFor ? props.numFor.aliPayAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div className={style.classify} style={{ borderBottom: 0 }}>\r\n                <span style={{ color: 'black', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  微信\r\n                </span>\r\n                <span style={{ color: '#e17066', fontWeight: '400', fontSize: '20px', marginTop: '15px' }}>\r\n                  ￥{props.numFor ? props.numFor.weChatAsset : 0}\r\n                </span>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n      {/* 模板抽屉区域 */}\r\n      <Drawer\r\n        title={title()}\r\n        placement=\"right\"\r\n        closable={false}\r\n        onClose={onClose}\r\n        visible={data.visible}\r\n        width={'700px'}\r\n        headerStyle={{ margin: 0, padding: 0 }}\r\n        className={style.drawerBody}\r\n        destroyOnClose={true}\r\n      >\r\n        <div style={{ paddingTop: '80px', width: '700px', transform: 'translateX(0)', overflow: 'auto', height: '100%' }}>\r\n          <Switch>\r\n            <Route path='/home/setBalance' component={Calculator} />\r\n            <Route path='/home/stream' component={Stream} />\r\n          </Switch>\r\n        </div>\r\n      </Drawer>\r\n\r\n    </div >\r\n  )\r\n}\r\nconst mapStateForProps = (state) => {\r\n  return {\r\n    countData: state.countData,\r\n    numFor: state.numFor,\r\n    getRank: state.getRank,\r\n    ofs: state.ofs\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateForProps,\r\n  { getCountData, numberFormat, rank, getOFS }\r\n)(Index)","import { NUMFOR } from '../constant'\r\n\r\nexport const numberFormat = number => ({ type: NUMFOR, data: number })\r\n","import { RANK } from '../constant'\r\n\r\nexport const rank = category => ({ type: RANK, data: category })","// 用于存储统计数据的对象，全称Object For Statistics\r\nimport { OFS } from '../constant'\r\n\r\nexport const getOFS = countList => ({ type: OFS, data: countList })\r\n","import React from 'react'\r\nimport style from './style.module.css'\r\n\r\nexport default function Index () {\r\n  return (\r\n    <div>\r\n      456\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport style from './tagstyle.module.css'\r\n\r\nfunction Index () {\r\n  return (\r\n    <div className={style.container}>\r\n      <div className={style.head}>\r\n        <svg t=\"1621392769784\" className={style.icon} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"14745\" width=\"40\" height=\"40\">\r\n          <path d=\"M576.4 203.3c46.7 90.9 118.6 145.5 215.7 163.9 97.1 18.4 111.5 64.9 43.3 139.5s-95.6 162.9-82.3 265.2c13.2 102.3-24.6 131-113.4 86.2s-177.7-44.8-266.6 0-126.6 16-113.4-86.2c13.2-102.3-14.2-190.7-82.4-265.2-68.2-74.6-53.7-121.1 43.3-139.5 97.1-18.4 169-73 215.7-163.9 46.6-90.9 93.4-90.9 140.1 0z\" p-id=\"14746\" fill=\"#a52a2a\"></path>\r\n        </svg>\r\n        <div style={{ color: 'brown', fontSize: '15px' }}>记账模板</div>\r\n      </div>\r\n      <div className={style.left}></div>\r\n      <div className={style.right}></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n)(Index)\r\n","import React, { useEffect, useRef } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport style from './style.module.css'\r\nimport Pay from './Pay/Pay';\r\nimport Tag from './tag'\r\nimport globalContext from '../../globalContext'\r\n\r\nimport { Tabs } from 'antd';\r\n\r\nconst Provider = globalContext.Provider;\r\n\r\nlet mainAnimation = {}\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Index () {\r\n  const mainRef = useRef(null)\r\n  let classn = ''\r\n  useEffect(() => {\r\n    classn = mainRef.current.className\r\n  }, [])\r\n  // 外推main动画\r\n  const mainOut = () => {\r\n    mainRef.current.className += ` ${style.mainMoveOut}`\r\n  }\r\n  // 推回来main 动画\r\n  const mainIn = () => {\r\n    mainRef.current.className += ` ${style.mainMoveIn}`\r\n    // return\r\n    setTimeout(() => {\r\n      mainRef.current.className = classn\r\n    }, 100)\r\n  }\r\n  // 整合推动main的动画，准备放入Provider中送入子组件触发\r\n  mainAnimation = {\r\n    mainOut,\r\n    mainIn\r\n  }\r\n  return (\r\n    <Provider value={mainAnimation}>\r\n      <div ref={mainRef} className={style.handleHead}>\r\n        {/* 头部区域 */}\r\n        <div className={style.head}>\r\n          <Tag></Tag>\r\n          <span style={{ fontSize: '25px', fontWeight: 700 }}>记账</span>\r\n        </div>\r\n        <div className={style.container}>\r\n          {/* Tabs栏 */}\r\n          <Tabs defaultActiveKey=\"1\" centered animated style={{ paddingTop: '80px', backgroundColor: 'rgb(248,248,248)' }}>\r\n            <TabPane tab={<span style={{ fontWeight: 400, fontSize: '20px' }}>支出</span>} key=\"1\">\r\n              <Pay pay={true}></Pay>\r\n            </TabPane>\r\n            <TabPane tab={<span style={{ fontWeight: 400, fontSize: '20px' }}>收入</span>} key=\"2\">\r\n              <Pay pay={false}></Pay>\r\n            </TabPane>\r\n          </Tabs>\r\n        </div>\r\n      </div>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n)(Index)\r\n","import React, { useEffect, useState, useRef } from 'react'\r\nimport globalContext from '../../globalContext'\r\nimport { Redirect, Switch, Link, Route, useHistory } from 'react-router-dom';\r\nimport Head from '../Head/Head';\r\nimport IndexPage from '../IndexPage/IndexPage';\r\nimport List from '../List/List';\r\nimport AddACount from '../AddACount/AddACount';\r\nimport style from './style.module.css'\r\nimport { Layout, Menu, Button } from 'antd';\r\nimport { connect } from 'react-redux';\r\nconst { Sider, Content } = Layout;\r\nconst Provider = globalContext.Provider;\r\nlet mainAnimation = {}\r\nfunction Index () {\r\n  const mainRef = useRef(null)\r\n  // 外推main动画\r\n  const mainOut = () => {\r\n    // mainRef.current.className += ` ${style.mainMoveOut}`\r\n  }\r\n  // 推回来main 动画\r\n  const mainIn = () => {\r\n    // mainRef.current.className += ` ${style.mainMoveIn}`\r\n    // setTimeout(() => {\r\n    //   mainRef.current.className = style.content\r\n    // }, 100)\r\n  }\r\n  // 整合推动main的动画，准备放入Provider中送入子组件触发\r\n  mainAnimation = {\r\n    mainOut,\r\n    mainIn\r\n  }\r\n  // 拿到history\r\n  const [items, setData] = useState('/')\r\n  const history = useHistory()\r\n  // 副作用函数获得location信息\r\n  useEffect(() => {\r\n    // 组件第一次渲染会执行这个方法\r\n    history.listen(historyLocation => {\r\n      setData(historyLocation.pathname)\r\n    })\r\n  }, [history])\r\n\r\n  const addACount = () => {\r\n    history.push('/addACount')\r\n  }\r\n\r\n  return (\r\n    <Provider value={mainAnimation}>\r\n      <div className={style.container}>\r\n        <Layout>\r\n          {/* 侧边栏 */}\r\n          <Sider className={style.side} style={{ position: 'fixed', height: '100%' }}>\r\n            <Head style={{ position: 'fixed' }}></Head>\r\n            <Menu\r\n              defaultSelectedKeys={items}\r\n              mode=\"inline\"\r\n              className={style.font}\r\n            >\r\n              <Menu.Item key=\"/\" className={style.font}><Link to='/home'>我的首页</Link></Menu.Item>\r\n              <Menu.Item key=\"/list\" className={style.font}><Link to='/list'>流水清单</Link></Menu.Item>\r\n              <Menu.Item key=\"11\" className={style.font}>其他功能</Menu.Item>\r\n            </Menu>\r\n            <Button type='danger' className={style.addButoon} onClick={addACount}>记一笔</Button>\r\n          </Sider>\r\n\r\n          {/* 主页面 */}\r\n          <Content className={style.content} ref={mainRef}>\r\n            {/* 头部区域 */}\r\n            <Switch>\r\n              <Route path=\"/home\" component={IndexPage} />\r\n              <Route path=\"/list\" component={List} />\r\n              <Route path=\"/addACount\" component={AddACount} />\r\n              <Redirect to='/home' />\r\n            </Switch>\r\n          </Content>\r\n        </Layout>\r\n      </div >\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default connect()(Index)","import React, { Component } from 'react'\r\nimport Home from './Containers/Home/Home'\r\nimport { withRouter } from 'react-router-dom'\r\nimport './global.css'\r\n\r\nclass App extends Component {\r\n  render () {\r\n    return (\r\n      <div>\r\n        <Home></Home>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(App)\r\n","import { SAVECOUNT, EDITCOUNT, SAVEASTEMP } from '../constant'\r\n\r\nconst initState = {\r\n  id: 0,\r\n  count: 0,\r\n  pay: true,\r\n  category: ['暂无数据'],\r\n  account: ' ',\r\n  date: (new Date()).getTime(),\r\n  member: '(无成员)',\r\n  remark: ''\r\n}\r\n\r\nexport default function saveCountReducer (preState = initState, action) {\r\n  const { type, data } = action\r\n  switch (type) {\r\n    case SAVECOUNT:\r\n      let allCount = JSON.parse(localStorage.getItem('allCount')) // 获取本地存储的账单\r\n      if (!allCount) {                                              // 如果没有，则直接将新账单以数组形式存入\r\n        localStorage.setItem('allCount', JSON.stringify([data]))\r\n      } else {\r\n        allCount = [...allCount, data]                               // 有则加入旧数组\r\n        localStorage.setItem('allCount', JSON.stringify(allCount))\r\n      }\r\n      break;\r\n    case SAVEASTEMP:\r\n      let allTemp = JSON.parse(localStorage.getItem('allTemp')) // 获取本地存储的账单\r\n      if (!allTemp) {                                              // 如果没有，则直接将新账单以数组形式存入\r\n        localStorage.setItem('allTemp', JSON.stringify([data]))\r\n      } else {\r\n        allTemp = [...allTemp, data]                               // 有则加入旧数组\r\n        localStorage.setItem('allTemp', JSON.stringify(allTemp))\r\n      }\r\n      break;\r\n  }\r\n  return preState\r\n}","import { GETCOUNTDATA } from '../constant'\r\n\r\nconst initState = [{\r\n  count: 0,\r\n  category: ['暂无数据'],\r\n  date: 0,\r\n  account: '暂无数据',\r\n  pay: true\r\n}]\r\nlet allCount = JSON.parse(localStorage.getItem('allCount')) || [initState] // 获取所有账单数据\r\n\r\n// 按需获取数据\r\nconst on_demand = (list, demand) => {\r\n  let keys = Object.keys(demand)  // 获取到需求的项目的'键'数组\r\n  if (keys.length === 0) {// 获取所有列表\r\n    return list\r\n  } else {\r\n    return keys.reduce((pre, cur) => { // 将范围数组当成初始值扔入reduce\r\n      return pre.filter(item => { // 用filter筛选符合本次demand[cur]要求的账单数组\r\n        switch (typeof demand[cur]) { // 条件键值对的值demand[cur]，可以区分为两类\r\n          case 'object': // 引用数据类型 这一类下也有两个子类\r\n            if (typeof demand[cur][0] === 'number') { // count date 查询逻辑区域\r\n              if (demand[cur][0] <= item[cur] && item[cur] <= demand[cur][1]) return item\r\n            } else { // category 查询逻辑区域\r\n              if (demand[cur][1]) {\r\n                return item[cur].indexOf(demand[cur][1]) !== -1\r\n              } else {\r\n                return item[cur].indexOf(demand[cur][0]) !== -1\r\n              }\r\n            }\r\n            break;\r\n          default: // 基本数据类型 pay id member account 查询逻辑区域\r\n            return item[cur] == demand[cur]\r\n        }\r\n      })\r\n    }, list)\r\n  }\r\n}\r\n\r\n// 判断state中的list，并返回相应的list数组\r\nconst distList = (item) => {\r\n  let condition = {}\r\n  let nowMsec = new Date().getTime()\r\n  let timeStr = (msecNum) => {\r\n    return {\r\n      year: new Date(msecNum).getFullYear(),\r\n      month: new Date(msecNum).getMonth(),\r\n      day: new Date(msecNum).getDate()\r\n    }\r\n  }\r\n  // 返回一个毫秒时间段数组，[time-segment,time],segment单位为天\r\n  let targetMsec = (time, segment) => {\r\n    let segTime = timeStr(time)\r\n    // 获得当天00:00:00的毫秒数\r\n    segTime = new Date(segTime.year, segTime.month, segTime.day)\r\n    return [segTime - (segment - 1) * 86400000, time]\r\n  }\r\n  if (typeof item === 'object') {\r\n    condition.date = item\r\n    return on_demand(allCount, condition)\r\n  }\r\n  switch (item) {\r\n    case 'all':\r\n      return allCount\r\n    case 'today':\r\n      condition.date = targetMsec(nowMsec, 1)\r\n      return on_demand(allCount, condition)\r\n    case 'week':\r\n      condition.date = targetMsec(nowMsec, 7)\r\n      return on_demand(allCount, condition)\r\n  }\r\n}\r\n// action.state的结构为：\r\n/* state_example={\r\n  list:'all',\r\n  demand:{\r\n    ······\r\n    条件键值对\r\n    ······\r\n  }\r\n} */\r\nexport default function countDate (preState = initState, action) {\r\n  allCount = JSON.parse(localStorage.getItem('allCount')) || [initState]\r\n  const { type, data } = action\r\n  switch (type) {\r\n    case GETCOUNTDATA:\r\n      return [...on_demand(distList(data.list), data.demand)]\r\n  }\r\n  return preState\r\n}","import on_demand from './countData'\r\nimport { OFS } from '../constant'\r\nconst initState = {\r\n  count: 0,\r\n  category: ['暂无数据'],\r\n  date: 0,\r\n  account: '暂无数据',\r\n  pay: true\r\n}\r\nlet allCount = JSON.parse(localStorage.getItem('allCount')) || [initState] // 获取所有账单数据\r\n\r\n// 判断state中的list，并返回相应的list数组\r\nconst distList = (item) => {\r\n  let condition = { type: 'getCountData', data: { demand: {}, list: 'all' } }\r\n  let nowMsec = new Date().getTime()\r\n  let timeStr = (msecNum) => {\r\n    return {\r\n      year: new Date(msecNum).getFullYear(),\r\n      month: new Date(msecNum).getMonth(),\r\n      day: new Date(msecNum).getDate()\r\n    }\r\n  }\r\n  // 返回一个毫秒时间段数组，[time-segment,time],segment单位为天\r\n  let targetMsec = (time, segment) => {\r\n    let segTime = timeStr(time)\r\n    // 获得当天00:00:00的毫秒数\r\n    segTime = new Date(segTime.year, segTime.month, segTime.day)\r\n    return [segTime - (segment - 1) * 86400000, time]\r\n  }\r\n  switch (item) {\r\n    case 'today':\r\n      condition.data.demand.date = targetMsec(nowMsec, 1)\r\n      return on_demand([], condition)\r\n    case 'week':\r\n      condition.data.demand.date = targetMsec(nowMsec, 7)\r\n      return on_demand([], condition)\r\n    case 'month':\r\n      let thisMonthDays = timeStr(nowMsec).day\r\n      condition.data.demand.date = targetMsec(nowMsec, thisMonthDays)\r\n      return on_demand([], condition)\r\n    case 'year':\r\n      let thisYear = timeStr(nowMsec).year\r\n      condition.date = targetMsec(nowMsec, thisYear)\r\n      return on_demand(allCount, condition)\r\n  }\r\n}\r\n// 收支计算\r\nconst revenue = (list) => {\r\n  let arr = list || []\r\n  return arr.reduce((pre, cur) => {\r\n    if (cur.pay) {\r\n      pre.pay += cur.count * 1\r\n    } else {\r\n      pre.income += cur.count * 1\r\n    }\r\n    return pre\r\n  }, { pay: 0, income: 0 })\r\n}\r\n// 资产统计\r\nconst calcuAsset = (ofs, cate) => {\r\n  return ofs[`${cate}Revenue`]['income'] - ofs[`${cate}Revenue`]['pay']\r\n}\r\n\r\nexport default function getOFS (pre = [null], action) {\r\n  // 存放分完类的信息\r\n  let ofs = {}\r\n  const { type, data } = action\r\n  // 支出列表\r\n  if (type === OFS) {\r\n    // list是要被分类的目标\r\n    let list = data || []\r\n    // 支出分类\r\n    ofs.payArr = list.filter(item => {\r\n      return item['pay']\r\n    })\r\n    // 收入列表\r\n    ofs.incomeArr = list.filter(item => {\r\n      return !item['pay']\r\n    })\r\n    // 今天列表\r\n    ofs.todayArr = distList('today')\r\n    // 本周列表\r\n    ofs.weekArr = distList('week')\r\n    // 本月列表\r\n    ofs.monthArr = distList('month')\r\n    // 本年列表\r\n    ofs.yearArr = distList('year')\r\n    // 现金列表\r\n    ofs.cashArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '现金' }, list: 'all' } })\r\n    // 银行卡列表\r\n    ofs.creditArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '银行卡' }, list: 'all' } })\r\n    // 公交卡列表\r\n    ofs.bushCardArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '公交卡' }, list: 'all' } })\r\n    // 支付宝列表\r\n    ofs.aliPayArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '支付宝' }, list: 'all' } })\r\n    // 微信列表\r\n    ofs.weChatArr = on_demand(allCount, { type: 'getCountData', data: { demand: { account: '微信' }, list: 'all' } })\r\n    // 今日收支\r\n    ofs.todayRevenue = revenue(ofs.todayArr)\r\n    // 本周收支\r\n    ofs.weekRevenue = revenue(ofs.weekArr)\r\n    // 本月收支\r\n    ofs.monthRevenue = revenue(ofs.monthArr)\r\n    // 今年收支\r\n    ofs.yearRevenue = revenue(ofs.yearArr)\r\n    // 现金收支\r\n    ofs.cashRevenue = revenue(ofs.cashArr)\r\n    // 银行卡收支\r\n    ofs.creditRevenue = revenue(ofs.creditArr)\r\n    // 公交卡收支\r\n    ofs.bushCardRevenue = revenue(ofs.bushCardArr)\r\n    // 支付宝收支\r\n    ofs.aliPayRevenue = revenue(ofs.aliPayArr)\r\n    // 微信收支\r\n    ofs.weChatRevenue = revenue(ofs.weChatArr)\r\n    // 现金资产\r\n    ofs.cashAsset = calcuAsset(ofs, 'cash')\r\n    // 银行卡资产\r\n    ofs.creditAsset = calcuAsset(ofs, 'credit')\r\n    // 公交卡资产\r\n    ofs.bushCardAsset = calcuAsset(ofs, 'bushCard')\r\n    // 支付宝资产\r\n    ofs.aliPayAsset = calcuAsset(ofs, 'aliPay')\r\n    // 微信资产\r\n    ofs.weChatAsset = calcuAsset(ofs, 'weChat')\r\n    // 资产\r\n    ofs.sumAsset = ofs.cashAsset + ofs.creditAsset + ofs.bushCardAsset + ofs.aliPayAsset + ofs.weChatAsset\r\n    // 虚拟资产\r\n    ofs.virtualAsset = ofs.sumAsset - ofs.cashAsset\r\n    return ofs\r\n  }\r\n  return pre\r\n}","import { NUMFOR } from '../constant'\r\n// 将数字格式化为金额\r\n// c表示保留几位小数\r\n// d小数点位置的符号,可以正常地设置为'.',也可以自定义\r\n// t千分位符号\r\nconst initState = {\r\n  todayArr: [],\r\n  // 今天列表\r\n  todayArr: [],\r\n  // 本周列表\r\n  weekArr: [],\r\n  // 本月列表\r\n  monthArr: [],\r\n  // 本年列表\r\n  yearArr: [],\r\n  // 现金列表\r\n  cashArr: [],\r\n  // 银行卡列表\r\n  creditArr: [],\r\n  // 公交卡列表\r\n  bushCardArr: [],\r\n  // 支付宝列表\r\n  aliPayArr: [],\r\n  // 微信列表\r\n  weChatArr: [],\r\n  // 今日收支\r\n  todayRevenue: 0,\r\n  // 本周收支\r\n  weekRevenue: 0,\r\n  // 本月收支\r\n  monthRevenue: 0,\r\n  // 今年收支\r\n  yearRevenue: 0,\r\n  // 现金收支\r\n  cashRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // 银行卡收支\r\n  creditRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // 公交卡收支\r\n  bushCardRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // 支付宝收支\r\n  aliPayRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // 微信收支\r\n  weChatRevenue: { pay: \"0.00\", income: \"0.00\" },\r\n  // 现金资产\r\n  cashAsset: 0,\r\n  // 银行卡资产\r\n  creditAsset: 0,\r\n  // 公交卡资产\r\n  bushCardAsset: 0,\r\n  // 支付宝资产\r\n  aliPayAsset: 0,\r\n  // 微信资产\r\n  weChatAsset: 0,\r\n  // 资产\r\n  sumAsset: 0,\r\n  // 虚拟资产\r\n  virtualAsset: 0,\r\n}\r\nNumber.prototype.numberFormat = function (c, d, t) {\r\n  var n = this,\r\n    c = isNaN(c = Math.abs(c)) ? 2 : c,\r\n    d = d == undefined ? \".\" : d,\r\n    t = t == undefined ? \",\" : t,\r\n    s = n < 0 ? \"-\" : \"\",\r\n    i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),\r\n    j = (j = i.length) > 3 ? j % 3 : 0;\r\n  return s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : \"\");\r\n};\r\n\r\nexport default function numberFormat (pre = initState, action) {\r\n  const { type, data } = action\r\n  if (type === NUMFOR) {\r\n    const deepClone = (obj, flag = false) => {  // 深度遍历对象，遍历时检查并格式化金额，返回一个格式化好的对象\r\n      if (typeof obj !== 'object' || obj === null) {\r\n        if (flag) {\r\n          let number = obj * 1\r\n          return number.numberFormat(2)\r\n        } else {\r\n          return obj\r\n        }\r\n      }\r\n      if (Array.isArray(obj)) {\r\n        var clone = []\r\n      } else {\r\n        var clone = {}\r\n      }\r\n      for (let key in obj) {\r\n        if (key.indexOf('Asset') >= 0 || key === 'pay' || key === 'income' || key === 'count') {\r\n          clone[key] = deepClone(obj[key], true)\r\n        } else {\r\n          clone[key] = deepClone(obj[key], false)\r\n        }\r\n      }\r\n      return clone\r\n    }\r\n    return { ...pre, ...deepClone(data, false) }\r\n  }\r\n  return pre\r\n}\r\n","import { RANK } from '../constant'\r\n\r\n// action模板\r\n/* action.data{\r\n  order:false,\r\n  rank: 'juniorcategory/secondarycategory/account/member/', // 非必须\r\n  category:'date/payCount/incomeCount'  //必须属性，说明是按照什么升降排序的\r\n} */\r\n\r\n// 排序函数\r\nArray.prototype.mySort = function (cate, order) {\r\n  let list = this\r\n  if (cate.indexOf('pay') >= 0 || cate.indexOf('income') >= 0) {\r\n    cate = 'count'\r\n  }\r\n  list.sort((a, b) => {\r\n    if (order) {\r\n      return a[cate] - b[cate]\r\n    } else {\r\n      return b[cate] - a[cate]\r\n    }\r\n  })\r\n}\r\n// 项目分类统计\r\nconst rankSort = (list, n, data) => {  // n为分级，1为juniorcategory，2位secondarycategory     data为传入order升降序做准备\r\n  list = list.reduce((pre, cur) => {  // 统计每个分类下的账单，返回一个对象\r\n    let x = cur.category.split('>')[n - 1]\r\n    if (pre[x]) {\r\n      pre[x].push(cur)\r\n    } else {\r\n      pre[x] = [cur]\r\n    }\r\n    return pre\r\n  }, {})\r\n  let arr = []\r\n  for (let key in list) {  // 返回一个数组，数组元素是对象，每个对象是一个分类的集合\r\n    let a = {\r\n      name: key,\r\n      obj: list[key],\r\n      sum: list[key].reduce((pre, cur) => {\r\n        return pre + cur.count * 1\r\n      }, 0)\r\n    }\r\n    arr.push(a)\r\n  }\r\n  arr.mySort('sum', data.demand.order)\r\n  return arr\r\n}\r\n// account member分类统计\r\nconst amrankSort = (list, data) => {\r\n  list = list.reduce((pre, cur) => {  // 统计每个分类下的账单，返回一个对象\r\n    if (pre[cur[data.demand.rank]]) {\r\n      pre[cur[data.demand.rank]].push(cur)\r\n    } else {\r\n      pre[cur[data.demand.rank]] = [cur]\r\n    }\r\n    return pre\r\n  }, {})\r\n  let arr = []\r\n  for (let key in list) {  // 返回一个数组，数组元素是对象，每个对象是一个分类的集合\r\n    let a = {\r\n      name: key,\r\n      obj: list[key],\r\n      sum: list[key].reduce((pre, cur) => {\r\n        return pre + cur.count * 1\r\n      }, 0)\r\n    }\r\n    arr.push(a)\r\n  }\r\n  arr.mySort('sum', data.demand.order)\r\n  return arr\r\n}\r\n\r\nexport default function rank (preState = [], action) {\r\n  const { type, data } = action\r\n  if (type === RANK) {\r\n    let { list } = data\r\n    if (data.list === 'all') {  // 不传入具体的list，而是给个all，就是从所有账单中找\r\n      list = JSON.parse(localStorage.getItem('allCount')) || []\r\n    }\r\n    let cat = data.demand.category\r\n    switch (cat) {\r\n      case 'date':  // 日期排序\r\n        list.mySort(cat, data.demand.order)\r\n        break\r\n      case 'payCount':  // 支出排序\r\n        list = list.filter(item => {   // 摘出所有的支出账单\r\n          return item.pay\r\n        })\r\n        list.mySort(cat, data.demand.order)  // 然后按order进行排序\r\n        break\r\n      case 'incomeCount':  // 收入排序\r\n        list = list.filter(item => {    // 同上\r\n          return !item.pay\r\n        })\r\n        list.mySort(cat, data.demand.order)\r\n        break\r\n    }\r\n    switch (data.demand.rank) {\r\n      case 'juniorcategory':  // 一级分类排序\r\n        list = rankSort(list, 1, data)\r\n        break\r\n      case 'secondarycategory':  // 二级分类排序\r\n        list = rankSort(list, 2, data)\r\n        break\r\n      default:\r\n        list = amrankSort(list, data)\r\n        break\r\n    }\r\n    return [...list]\r\n  }\r\n  return preState\r\n}","/* \r\n  该文件用于汇总所有的reducer为一个总的reducer\r\n*/\r\n//引入combineReducers，用于汇总多个reducer\r\nimport { combineReducers } from 'redux'\r\n// 引入为存储账单、更改账单服务的reducer\r\nimport saveCount from './saveCount'\r\nimport countData from './countData'\r\nimport ofs from './oFS'\r\nimport numFor from './numberFomat'\r\nimport getRank from './rank'\r\n\r\n\r\n//汇总所有的reducer变为一个总的reducer\r\nexport default combineReducers({\r\n  saveCount,\r\n  countData,\r\n  ofs,\r\n  numFor,\r\n  getRank\r\n})\r\n","import { createStore, applyMiddleware } from 'redux'\r\n\r\n//引入redux-thunk，用于支持异步action\r\nimport thunk from 'redux-thunk'\r\n//引入汇总之后的reducer\r\nimport reducer from './reducers'\r\n\r\n\r\nexport default createStore(reducer, applyMiddleware(thunk))","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { HashRouter } from 'react-router-dom'\r\nimport store from './redux/store'\r\nimport { Provider } from 'react-redux'\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <Provider store={store}>\r\n      <React.StrictMode>\r\n        <App />\r\n      </React.StrictMode>\r\n    </Provider>\r\n  </HashRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1juac\",\"line\":\"style_line__3s0t0\",\"line2\":\"style_line2__3TT8R\",\"row\":\"style_row__2L_S9\",\"col\":\"style_col__2SKiI\",\"middle\":\"style_middle__3TTBI\",\"switchDown\":\"style_switchDown__3IUgt\",\"switchTop\":\"style_switchTop__1KNSf\",\"animationUp\":\"style_animationUp__3XF5j\",\"rotateUp\":\"style_rotateUp__1GbX-\",\"animationDown\":\"style_animationDown__8J9sn\",\"rotateDown\":\"style_rotateDown__2AY0O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1AXBL\",\"head\":\"style_head__WH0to\",\"count\":\"style_count__ld2UQ\",\"site_calendar_demo_card\":\"style_site_calendar_demo_card__2uk0W\",\"remark\":\"style_remark__fzcn-\",\"bottonContainer\":\"style_bottonContainer__3Ca3R\",\"conserveButoon\":\"style_conserveButoon__3ZTLH\",\"conserveAsTempButoon\":\"style_conserveAsTempButoon__qi86Y\",\"drawerButoon\":\"style_drawerButoon__2PU4V\",\"containerMove\":\"style_containerMove__n7N79\",\"drawerBody\":\"style_drawerBody__2eNoU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__3UtLb\",\"side\":\"style_side__32GId\",\"content\":\"style_content__LqKoe\",\"addButoon\":\"style_addButoon__fZi1f\",\"font\":\"style_font__2qYe8\",\"site-layout-background\":\"style_site-layout-background__34UJi\",\"white\":\"style_white__3nl5R\",\"mainMoveOut\":\"style_mainMoveOut__jqRdz\",\"mainMoveIn\":\"style_mainMoveIn__1wQGx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__rQsNU\",\"head\":\"style_head__2fkuf\",\"count\":\"style_count__3gN8W\",\"stream\":\"style_stream__3HzFP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__-XmPS\",\"card\":\"style_card__IIw1T\",\"row\":\"style_row__16is-\",\"head\":\"style_head__1kUXs\",\"headname\":\"style_headname__i25-G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2_j-1\",\"handleHead\":\"style_handleHead__2MdiS\",\"head\":\"style_head__2aEue\",\"mainMoveOut\":\"style_mainMoveOut__jHcn3\",\"mainMoveIn\":\"style_mainMoveIn__3Zy7m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"tagstyle_container__2gQ99\",\"head\":\"tagstyle_head__2NIYv\",\"icon\":\"tagstyle_icon__21QLo\",\"left\":\"tagstyle_left__1NT2R\"};"],"sourceRoot":""}